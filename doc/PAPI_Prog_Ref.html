<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>This document is a compilation of the reference material needed</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 2.0  (Linux)">
	<META NAME="AUTHOR" CONTENT="dan terpstra">
	<META NAME="CREATED" CONTENT="20061103;16330000">
	<META NAME="CHANGEDBY" CONTENT="Dan Terpstra">
	<META NAME="CHANGED" CONTENT="20061103;16330000">
	<STYLE>
	<!--
		@page { size: 8.5in 11in; margin-right: 0.75in; margin-top: 0.5in; margin-bottom: 0.5in }
		P { margin-bottom: 0.08in; direction: ltr; color: #000000; widows: 2; orphans: 2 }
		P.western { font-family: "Times New Roman", serif; font-size: 12pt; so-language: en-US }
		P.cjk { font-family: "Times New Roman", serif; font-size: 12pt }
		P.ctl { font-family: "Times New Roman", serif; font-size: 12pt; so-language: ar-SA }
		H3 { margin-top: 0.19in; margin-bottom: 0.19in; direction: ltr; color: #000000; widows: 2; orphans: 2 }
		H3.western { font-size: 13pt; so-language: en-US }
		H3.cjk { font-family: "Times New Roman", serif; font-size: 13pt }
		H3.ctl { font-family: "Times New Roman", serif; font-size: 13pt; so-language: ar-SA }
		A:link { color: #0000ff }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" TEXT="#000000" LINK="#0000ff" DIR="LTR">
<DIV TYPE=HEADER>
	<P STYLE="margin-bottom: 0.21in; border-top: none; border-bottom: 1px solid #000000; border-left: none; border-right: none; padding-top: 0in; padding-bottom: 0.01in; padding-left: 0in; padding-right: 0in">
	PAPI Programmer’s Reference 		Version 3.5.0</P>
</DIV>
<P CLASS="western" STYLE="margin-bottom: 0in">T<SPAN ID="Frame1" DIR="LTR" STYLE="float: left; width: 7in; height: 1.13in; border: none; padding: 0in; background: #ffffff">
	<P ALIGN=CENTER STYLE="margin-top: 0.17in; margin-bottom: 0.04in"><FONT SIZE=7><B>PAPI
	Programmer’s Reference</B></FONT></P>
</SPAN><BR CLEAR=LEFT>his document is a compilation of the reference
material needed by a programmer to effectively use PAPI. It is
identical to the material found in the PAPI man pages, but organized
in a way that may be more portable and accessible. The information
here is extensively hyperlinked, which makes it useful in electronic
formats, but less useful in hardcopy format.
</P>
<P CLASS="western" STYLE="margin-bottom: 0in">For other PAPI
documentation, see also, the <B>PAPI User’s Guide</B>.</P>
<P CLASS="western" STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western" STYLE="page-break-before: always"><A NAME="papi0"></A>
NAME</H3>
<H3 CLASS="western">NAME</H3>
<P CLASS="western" STYLE="text-indent: 0.5in; margin-bottom: 0in">PAPI
- Performance Application Programming Interface 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi1"></A>The
PAPI Performance Application Programming Interface provides machine
and operating system independent access to hardware performance
counters found on most modern processors. Any of over 100 preset
events can be counted through either a simple high level programming
interface or a more complete low level interface from either C or
Fortran. A list of the function calls in these interfaces is given
below, with references to other pages for more complete details. For
general information on the Fortran interface see: <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western">PAPI Presets</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi2"></A>An
extensive list of predefined events is implemented on all systems
where they can be supported. For a list of these events, see:
<FONT COLOR="#0000ff"><U><A HREF="#papi_presets0">PAPI_presets</A></U></FONT>
</P>
<H3 CLASS="western">PAPI Native Events</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi3"></A>PAPI
also supports interface functions for discovering the native events
on a given platform. For more information on native events, see:
<FONT COLOR="#0000ff"><U><A HREF="#papi_native0">PAPI_native</A></U></FONT>
</P>
<H3 CLASS="western">High Level Functions</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi4"></A>A
simple interface for instrumenting end-user applications. Fully
supported on both C and Fortran. See individual functions for details
on usage. 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_num_counters0">PAPI_num_counters</A></U></FONT>
 - get the number of hardware counters available on the system</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_flips0">PAPI_flips</A></U></FONT>
 - simplified call to get Mflips/s (floating point instruction rate),
real and processor time</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_flops0">PAPI_flops</A></U></FONT>
 - simplified call to get Mflops/s (floating point operation rate),
real and processor time</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_ipc0">PAPI_ipc</A></U></FONT>
 - gets instructions per cycle, real and processor time</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_accum_counters0">PAPI_accum_counters</A></U></FONT>
 - add current counts to array and reset counters</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_read_counters0">PAPI_read_counters</A></U></FONT>
 - copy current counts to array and reset counters</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_start_counters0">PAPI_start_counters</A></U></FONT>
 - start counting hardware events</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_stop_counters0">PAPI_stop_counters</A></U></FONT>
 - stop counters and return current counts</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">Note that the high-level interface is
self-initializing. You can mix high and low level calls, but you <I>must</I>
call either <FONT COLOR="#0000ff"><U><A HREF="#papi_library_init0">PAPI_library_init</A></U></FONT>
or a high level routine before calling a low level routine. 
</P>
<H3 CLASS="western">Low Level Functions</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi5"></A>Advanced
interface for all applications and performance tools. Some functions
may be implemented only for C or Fortran. See individual functions
for details on usage and support. 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_accum0">PAPI_accum</A></U></FONT>
 - accumulate and reset hardware events from an event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_add_event0">PAPI_add_event</A></U></FONT>
 - add single PAPI preset or native hardware event to an event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_add_events0">PAPI_add_events</A></U></FONT>
 - add array of PAPI preset or native hardware events to an event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_attach0">PAPI_attach</A></U></FONT>
 - attach specified event set to a specific process or thread id</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_cleanup_eventset0">PAPI_cleanup_eventset</A></U></FONT>
 - remove all PAPI events from an event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
 - create a new empty PAPI event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_destroy_eventset0">PAPI_destroy_eventset</A></U></FONT>
 - deallocates memory associated with an empty PAPI event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_detach0">PAPI_detach</A></U></FONT>
 - detach specified event set from a previously specified process or
thread id</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_enum_event0">PAPI_enum_event</A></U></FONT>
 - return the event code for the next available preset or natvie
event</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_event_code_to_name0">PAPI_event_code_to_name</A></U></FONT>
 - translate an integer PAPI event code into an ASCII PAPI preset or
native name</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_event_name_to_code0">PAPI_event_name_to_code</A></U></FONT>
 - translate an ASCII PAPI preset or native name into an integer PAPI
event code</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_dmem_info0">PAPI_get_dmem_info</A></U></FONT>
 - get dynamic memory usage information</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_event_info0">PAPI_get_event_info</A></U></FONT>
 - get the name and descriptions for a given preset or native event
code</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_executable_info0">PAPI_get_executable_info</A></U></FONT>
 - get the executable’s address space information</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papif_get_exe_info0">PAPIF_get_exe_info</A></U></FONT>
 - Fortran version of PAPI_get_executable_info with different calling
semantics</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_hardware_info0">PAPI_get_hardware_info</A></U></FONT>
 - get information about the system hardware</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_multiplex0">PAPI_get_multiplex</A></U></FONT>
 - get the multiplexing status of specified event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_opt0">PAPI_get_opt</A></U></FONT>
 - query the option settings of the PAPI library or a specific event
set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papif_get_clockrate0">PAPIF_get_clockrate</A></U></FONT>
 - get the processor clockrate in MHz. Fortran only.</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papif_get_domain0">PAPIF_get_domain</A></U></FONT>
 - get the domain of the specified eventset. Fortran only.</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papif_get_granularity0">PAPIF_get_granularity</A></U></FONT>
 - get the granularity of the specified eventset. Fortran only.</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papif_get_preload0">PAPIF_get_preload</A></U></FONT>
 - get the ’LD_PRELOAD’ environment equivalent. Fortran only.</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_real_cyc0">PAPI_get_real_cyc</A></U></FONT>
 - return the total number of cycles since some arbitrary starting
point</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_real_usec0">PAPI_get_real_usec</A></U></FONT>
 - return the total number of microseconds since some arbitrary
starting point</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_shared_lib_info0">PAPI_get_shared_lib_info</A></U></FONT>
 - get information about the shared libraries used by the process</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_substrate_info0">PAPI_get_substrate_info</A></U></FONT>
 - get information about the substrate features</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_thr_specific0">PAPI_get_thr_specific</A></U></FONT>
 - return a pointer to a thread specific stored data structure</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_overflow_event_index0">PAPI_get_overflow_event_index</A></U></FONT>
 - decomposes an overflow_vector into an event index array</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_virt_cyc0">PAPI_get_virt_cyc</A></U></FONT>
 - return the process cycles since some arbitrary starting point</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_get_virt_usec0">PAPI_get_virt_usec</A></U></FONT>
 - return the process microseconds since some arbitrary starting
point</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_is_initialized0">PAPI_is_initialized</A></U></FONT>
 - return the initialized state of the PAPI library</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_library_init0">PAPI_library_init</A></U></FONT>
 - initialize the PAPI library</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_list_events0">PAPI_list_events</A></U></FONT>
 - list the events that are members of an event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_list_threads0">PAPI_list_threads</A></U></FONT>
 - list the thread ids currently known to PAPI</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_lock0">PAPI_lock</A></U></FONT>
 - lock one of two PAPI internal user mutex variables</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_multiplex_init0">PAPI_multiplex_init</A></U></FONT>
 - initialize multiplex support in the PAPI library</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_num_hwctrs0">PAPI_num_hwctrs</A></U></FONT>
 - return the number of hardware counters</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_num_events0">PAPI_num_events</A></U></FONT>
 - return the number of events in an event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_overflow0">PAPI_overflow</A></U></FONT>
 - set up an event set to begin registering overflows</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_perror0">PAPI_perror</A></U></FONT>
 - convert PAPI error codes to strings</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_profil0">PAPI_profil</A></U></FONT>
 - generate PC histogram data where hardware counter overflow occurs</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_query_event0">PAPI_query_event</A></U></FONT>
 - query if a PAPI event exists</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_read0">PAPI_read</A></U></FONT>
 - read hardware events from an event set with no reset</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_register_thread0">PAPI_register_thread</A></U></FONT>
 - inform PAPI of the existence of a new thread</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_remove_event0">PAPI_remove_event</A></U></FONT>
 - remove a hardware event from a PAPI event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_remove_events0">PAPI_remove_events</A></U></FONT>
 - remove an array of hardware events from a PAPI event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_reset0">PAPI_reset</A></U></FONT>
 - reset the hardware event counts in an event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_set_debug0">PAPI_set_debug</A></U></FONT>
 - set the current debug level for PAPI</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_set_domain0">PAPI_set_domain</A></U></FONT>
 - set the default execution domain for new event sets</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papif_set_event_domain0">PAPIF_set_event_domain</A></U></FONT>
 - set the execution domain for a specific event set. Fortran only.</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_set_granularity0">PAPI_set_granularity</A></U></FONT>
 - set the default granularity for new event sets</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_set_multiplex0">PAPI_set_multiplex</A></U></FONT>
 - convert a standard event set to a multiplexed event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>
 - change the option settings of the PAPI library or a specific event
set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_set_thr_specific0">PAPI_set_thr_specific</A></U></FONT>
 - save a pointer as a thread specific stored data structure</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_shutdown0">PAPI_shutdown</A></U></FONT>
 - finish using PAPI and free all related resources</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_sprofil0">PAPI_sprofil</A></U></FONT>
 - generate hardware counter profiles from multiple code regions</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_start0">PAPI_start</A></U></FONT>
 - start counting hardware events in an event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_state0">PAPI_state</A></U></FONT>
 - return the counting state of an event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_stop0">PAPI_stop</A></U></FONT>
 - stop counting hardware events in an event set and return current
events</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_strerror0">PAPI_strerror</A></U></FONT>
 - return a pointer to the error message corresponding to a specified
error code</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_thread_id0">PAPI_thread_id</A></U></FONT>
 - get the thread identifier of the current thread</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>
 - initialize thread support in the PAPI library</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_unlock0">PAPI_unlock</A></U></FONT>
 - unlock one of two PAPI internal user mutex variables</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_unregister_thread0">PAPI_unregister_thread</A></U></FONT>
 - inform PAPI that a previously registered thread is disappearing</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_write0">PAPI_write</A></U></FONT>
 - write counter values into counters</FONT></FONT></P>
<H3 CLASS="western">PAPI Utility Commands</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi6"></A>A
collection of simple utility commands is available in the \utils
directory. See individual utilities for details on usage. 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_avail0">papi_avail</A></U></FONT>
 - provides availability and detail information for PAPI preset
events</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_clockres0">papi_clockres</A></U></FONT>
 - provides availability and detail information for PAPI preset
events</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_cost0">papi_cost</A></U></FONT>
 - provides availability and detail information for PAPI preset
events</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_command_line0">papi_command_line</A></U></FONT>
 - executes PAPI preset or native events from the command line</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_decode0">papi_decode</A></U></FONT>
 - decodes PAPI preset events into a csv format suitable for
PAPI_encode_events</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_event_chooser0">papi_event_chooser</A></U></FONT>
 - given a list of named events, lists other events that can be
counted with them</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_mem_info0">papi_mem_info</A></U></FONT>
 - provides information on the memory architecture of the current
processor</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000ff"><U><A HREF="#papi_native_avail0">papi_native_avail</A></U></FONT>
 - provides detailed information for PAPI native events</FONT></FONT></P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi7"></A>The
PAPI Web site: <FONT COLOR="#0000ff"><U><A HREF="http://icl.cs.utk.edu/papi">http://icl.cs.utk.edu/papi</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_presets0">PAPI_presets</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native0">PAPI_native</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif0"></A>PAPIF
- Performance Application Programming Interface (Fortran) 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papif1"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>call
PAPIF_function_name(<I>arg1,arg2,...,check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif2"></A><B>Fortran
Calling Interface</B> The PAPI library comes with a specific Fortran
library interface. The Fortran interface covers the complete library
with a few minor exceptions. Functions returning C pointers to
structures, such as <FONT COLOR="#0000ff"><U><A HREF="#papi_get_opt0">PAPI_get_opt</A></U></FONT>
and <FONT COLOR="#0000ff"><U><A HREF="#papi_get_executable_info0">PAPI_get_executable_info</A></U></FONT>
, are either not implemented in the Fortran interface, or implemented
with different calling semantics. 
</P>
<P STYLE="margin-bottom: 0in">Semantics for specific functions in the
Fortran interface are documented on the equivalent C man page. For
example, the semantics and functionality of <B>PAPIF_accum</B> are
covered in the <FONT COLOR="#0000ff"><U><A HREF="#papi_accum0">PAPI_accum</A></U></FONT>
man page. 
</P>
<P STYLE="margin-bottom: 0in">For most architectures the following
relation holds between the pseudo-types listed and Fortran variable
types. 
</P>
<TABLE WIDTH=680 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=132>
	<COL WIDTH=271>
	<COL WIDTH=245>
	<TR VALIGN=TOP>
		<TD WIDTH=132 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER>Pseuodo-type</P>
		</TD>
		<TD WIDTH=271 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER>Fortran type</P>
		</TD>
		<TD WIDTH=245 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER>Description</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=132 BGCOLOR="#e0e0e0">
			<P CLASS="western">C_INT</P>
		</TD>
		<TD WIDTH=271 BGCOLOR="#e0e0e0">
			<P CLASS="western">INTEGER</P>
		</TD>
		<TD WIDTH=245 BGCOLOR="#e0e0e0">
			<P CLASS="western">Default Integer type</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=132 BGCOLOR="#e0e0e0">
			<P CLASS="western">C_FLOAT</P>
		</TD>
		<TD WIDTH=271 BGCOLOR="#e0e0e0">
			<P CLASS="western">REAL</P>
		</TD>
		<TD WIDTH=245 BGCOLOR="#e0e0e0">
			<P CLASS="western">Default Real type</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=132 BGCOLOR="#e0e0e0">
			<P CLASS="western">C_LONG_LONG</P>
		</TD>
		<TD WIDTH=271 BGCOLOR="#e0e0e0">
			<P CLASS="western">INTEGER*8</P>
		</TD>
		<TD WIDTH=245 BGCOLOR="#e0e0e0">
			<P CLASS="western">Extended size integer</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=132 BGCOLOR="#e0e0e0">
			<P CLASS="western">C_STRING</P>
		</TD>
		<TD WIDTH=271 BGCOLOR="#e0e0e0">
			<P CLASS="western">CHARACTER*(PAPI_MAX_STR_LEN)</P>
		</TD>
		<TD WIDTH=245 BGCOLOR="#e0e0e0">
			<P CLASS="western">Fortran string</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=132 BGCOLOR="#e0e0e0">
			<P CLASS="western">C_INT FUNCTION</P>
		</TD>
		<TD WIDTH=271 BGCOLOR="#e0e0e0">
			<P CLASS="western">EXTERNAL INTEGER FUNCTION</P>
		</TD>
		<TD WIDTH=245 BGCOLOR="#e0e0e0">
			<P CLASS="western">Fortran function returning integer result 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=132 BGCOLOR="#e0e0e0">
			<P CLASS="western">C_INT(*)</P>
		</TD>
		<TD ROWSPAN=3 WIDTH=271 BGCOLOR="#e0e0e0">
			<P CLASS="western">Array of corresponding type 
			</P>
		</TD>
		<TD ROWSPAN=3 WIDTH=245 BGCOLOR="#e0e0e0">
			<P CLASS="western">C_TYPE(*) refers to an array of the
			corresponding Fortan type. The length of the array needed is
			context dependent. It may be e.g. PAPI_MAX_HWCTRS or
			PAPIF_num_counters. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=132 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western">C_FLOAT(*)</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=132 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western">C_LONG_LONG(*)</P>
		</TD>
	</TR>
</TABLE>
<P STYLE="margin-bottom: 0in">Array arguments must be of sufficent
size to hold the input/output from/to the subroutine for predictable
behavior. The array length is indicated either by the accompanying
argument or by internal PAPI definitions. For details on this see the
corresponding C routine. 
</P>
<P STYLE="margin-bottom: 0in">Subroutines accepting <B>C_STRING</B>
as an argument are on most implementations capable of reading the
character string length as provided by Fortran. In these
implementations the string is truncated or space padded as necessary.
For other implementations the length of the character array is
assumed to be of sufficient size. No character string longer than
<B>PAPI_MAX_STR_LEN</B> is returned by the PAPIF interface. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif3"></A>The
return code of the corresponding C routine is returned in the
argument <B>check</B> in the Fortran interface. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif4"></A>The
PAPI Interface: <FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_presets0"></A>
PAPI_presets - PAPI predefined named events 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_presets1"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_presets2"></A>
The PAPI library names a number of predefined, or preset events. This
set is a collection of events typically found in many CPUs that
provide performance counters. A PAPI preset event name is mapped onto
one or more of the countable native events on each hardware platform.
On any particular platform, the preset can either be directly
available as a single counter, derived using a combination of
counters or unavailable. 
</P>
<P STYLE="margin-bottom: 0in">The PAPI preset events can be broken
loosely into several categories, as shown in the table below: 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI Preset Event Definitions by
Category:</B> 
</P>
<TABLE WIDTH=479 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=131>
	<COL WIDTH=325>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Name</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Description</B></P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=465 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Conditional Branching</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_BR_CN</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Conditional branch instructions 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_BR_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Branch instructions 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_BR_MSP</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Conditional branch instructions mispredicted 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_BR_NTK</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Conditional branch instructions not taken 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_BR_PRC</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Conditional branch instructions correctly
			predicted 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_BR_TKN</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Conditional branch instructions taken 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_BR_UCN</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Unconditional branch instructions 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_BRU_IDL</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Cycles branch units are idle 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_BTAC_M</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Branch target address cache misses 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=465 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Cache Requests:</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CA_CLN</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Requests for exclusive access to clean cache
			line 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CA_INV</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Requests for cache line invalidation 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CA_ITV</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Requests for cache line intervention 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CA_SHR</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Requests for exclusive access to shared cache
			line 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CA_SNP</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Requests for a snoop 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=465 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Conditional Store:</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CSR_FAL</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Failed store conditional instructions 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CSR_SUC</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Successful store conditional instructions 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CSR_TOT</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Total store conditional instructions 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=465 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Floating Point Operations:</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_FAD_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Floating point add instructions 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_FDV_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Floating point divide instructions 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_FMA_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">FMA instructions completed 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_FML_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Floating point multiply instructions 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_FNV_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Floating point inverse instructions 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_FP_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Floating point instructions 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_FP_OPS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Floating point operations 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_FP_STAL</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Cycles the FP unit 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_FPU_IDL</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Cycles floating point units are idle 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_FSQ_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Floating point square root instructions 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=465 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Instruction Counting:</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_FUL_CCY</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Cycles with maximum instructions completed 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_FUL_ICY</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Cycles with maximum instruction issue 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_FXU_IDL</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Cycles integer units are idle 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_HW_INT</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Hardware interrupts 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_INT_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Integer instructions 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_TOT_CYC</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Total cycles 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_TOT_IIS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Instructions issued 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_TOT_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Instructions completed 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_VEC_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Vector/SIMD instructions 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=465 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Cache Access:</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_DCA</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 data cache accesses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_DCH</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 data cache hits 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_DCM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 data cache misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_DCR</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 data cache reads 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_DCW</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 data cache writes 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_ICA</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 instruction cache accesses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_ICH</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 instruction cache hits 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_ICM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 instruction cache misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_ICR</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 instruction cache reads 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_ICW</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 instruction cache writes 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_LDM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 load misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_STM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 store misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_TCA</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 total cache accesses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_TCH</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 total cache hits 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_TCM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 total cache misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_TCR</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 total cache reads 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L1_TCW</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L1 total cache writes 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_DCA</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 data cache accesses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_DCH</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 data cache hits 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_DCM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 data cache misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_DCR</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 data cache reads 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_DCW</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 data cache writes 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_ICA</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 instruction cache accesses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_ICH</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 instruction cache hits 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_ICM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 instruction cache misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_ICR</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 instruction cache reads 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_ICW</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 instruction cache writes 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_LDM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 load misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_STM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 store misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_TCA</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 total cache accesses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_TCH</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 total cache hits 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_TCM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 total cache misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_TCR</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 total cache reads 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L2_TCW</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L2 total cache writes 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_DCA</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 data cache accesses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_DCH</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 Data Cache Hits 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_DCM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 data cache misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_DCR</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 data cache reads 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_DCW</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 data cache writes 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_ICA</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 instruction cache accesses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_ICH</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 instruction cache hits 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_ICM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 instruction cache misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_ICR</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 instruction cache reads 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_ICW</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 instruction cache writes 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_LDM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 load misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_STM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 store misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_TCA</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 total cache accesses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_TCH</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 total cache hits 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_TCM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 cache misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_TCR</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 total cache reads 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_L3_TCW</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">L3 total cache writes 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=465 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Data Access:</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_LD_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Load instructions 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_LST_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Load/store instructions completed 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_LSU_IDL</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Cycles load/store units are idle 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MEM_RCY</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Cycles Stalled Waiting for memory Reads 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MEM_SCY</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Cycles Stalled Waiting for memory accesses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MEM_WCY</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Cycles Stalled Waiting for memory writes 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PRF_DM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Data prefetch cache misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_RES_STL</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Cycles stalled on any resource 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SR_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Store instructions 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_STL_CCY</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Cycles with no instructions completed 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_STL_ICY</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Cycles with no instruction issue 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SYC_INS</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Synchronization instructions completed 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=465 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>TLB Operations:</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_TLB_DM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Data translation lookaside buffer misses 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_TLB_IM</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Instruction translation lookaside buffer misses
						</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_TLB_SD</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Translation lookaside buffer shootdowns 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=131 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_TLB_TL</B></P>
		</TD>
		<TD WIDTH=325 BGCOLOR="#e0e0e0">
			<P CLASS="western">Total translation lookaside buffer misses 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">AUTHORS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_presets3"></A>
Nils Smeds &lt;<FONT COLOR="#0000ff"><U><A HREF="mailto:smeds@cs.utk.edu">smeds@cs.utk.edu</A></U></FONT>&gt;
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_presets4"></A>
The exact semantics of an event counter are platform dependent. PAPI
preset names are mapped onto available events in a way so as to count
as similar types of events as possible on different platforms. Due to
hardware implementation differences it is not necessarily possible to
directly compare the counts of a particular PAPI event obtained on
different hardware platforms. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_presets5"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native0">PAPI_native</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_enum_event0">PAPI_enum_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_event_info0">PAPI_get_event_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_code_to_name0">PAPI_event_code_to_name</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_name_to_code0">PAPI_event_name_to_code</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_native0"></A>
PAPI_native - Accessing PAPI native events 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_native1"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_native2"></A>
In addition to the predefined PAPI preset events, the PAPI library
also exposes a majority of the events native to each platform. Native
events form the basic building blocks for PAPI presets. They can also
be used directly to access functions specific to a given platform. 
</P>
<P STYLE="margin-bottom: 0in">Since native events are <I>by
definition</I> specific to each platform, the names for these events
are unique to each platform. Native events for a given platform can
be discovered by combining the <FONT COLOR="#0000ff"><U><A HREF="#papi_enum_event0">PAPI_enum_event</A></U></FONT>
and <FONT COLOR="#0000ff"><U><A HREF="#papi_event_code_to_name0">PAPI_event_code_to_name</A></U></FONT>
or <FONT COLOR="#0000ff"><U><A HREF="#papi_get_event_info0">PAPI_get_event_info</A></U></FONT>
functions. 
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_native3"></A>
Not every native event on every platform can be represented through
the native event interface. Occasionally, exotic but valuable events
are not represented. There is presently no method for representing
these events in a PAPI event set. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_native4"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_presets0">PAPI_presets</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_enum_event0">PAPI_enum_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_event_info0">PAPI_get_event_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_code_to_name0">PAPI_event_code_to_name</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_name_to_code0">PAPI_event_name_to_code</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_avail0"></A>
papi_avail - provides availability and detail information for PAPI
preset events. 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_avail1"></A><B>papi_avail</B>
[<I>-adht</I>] [<I>-e event</I>] 
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_avail2"></A>
<B>papi_avail</B> is a PAPI utility program that reports information
about the current PAPI installation and supported preset events.
Using the -e option, it will also display information about specific
native events. 
</P>
<H3 CLASS="western"><A NAME="papi_avail3"></A>OPTIONS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD WIDTH=35 VALIGN=TOP>
			<P CLASS="western"><I>-a</I> 
			</P>
		</TD>
		<TD WIDTH=587 VALIGN=BOTTOM>
			<P CLASS="western">Display only the available PAPI preset events. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=35 VALIGN=TOP>
			<P CLASS="western"><I>-d</I> 
			</P>
		</TD>
		<TD WIDTH=587 VALIGN=BOTTOM>
			<P CLASS="western">Display PAPI preset event information in a more
			detailed format. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=35 VALIGN=TOP>
			<P CLASS="western"><I>-h</I> 
			</P>
		</TD>
		<TD WIDTH=587 VALIGN=BOTTOM>
			<P CLASS="western">Display help information about this utility. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=35 VALIGN=TOP>
			<P CLASS="western"><I>-t</I> 
			</P>
		</TD>
		<TD WIDTH=587 VALIGN=BOTTOM>
			<P CLASS="western">Display the PAPI preset event information in a
			tabular format. This is the default. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><I>-e &lt;event&gt;</I> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Display detailed event information for the
			named event. This event can be either a preset or a native event. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_avail4"></A>
There are no known bugs in this utility. 
</P>
<P STYLE="margin-bottom: 0in">If you find a bug, it should be
reported to the PAPI Mailing List at &lt;<FONT COLOR="#0000ff"><U><A HREF="mailto:ptools-perfapi@ptools.org">ptools-perfapi@ptools.org</A></U></FONT>&gt;.
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_avail5"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_clockres0">papi_clockres</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_command_line0">papi_command_line</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_cost0">papi_cost</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_decode0">papi_decode</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_chooser0">papi_event_chooser</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_mem_info0">papi_mem_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native_avail0">papi_native_avail</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_clockres0"></A>
papi_clockres - measures and reports clock latency and resolution for
PAPI timers. 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_clockres1"></A><B>papi_clockres</B>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_clockres2"></A>
<B>papi_clockres</B> is a PAPI utility program that measures and
reports the latency and resolution of the four PAPI timer functions:
<B>PAPI_get_real_cyc(), PAPI_get_virt_cyc(), PAPI_get_real_usec() and
PAPI_get_virt_usec(). </B>
</P>
<H3 CLASS="western">OPTIONS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_clockres3"></A>This
utility has no command line options. 
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_clockres4"></A>
There are no known bugs in this utility. 
</P>
<P STYLE="margin-bottom: 0in">If you find a bug, it should be
reported to the PAPI Mailing List at &lt;<FONT COLOR="#0000ff"><U><A HREF="mailto:ptools-perfapi@ptools.org">ptools-perfapi@ptools.org</A></U></FONT>&gt;.
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_clockres5"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_avail0">papi_avail</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_command_line0">papi_command_line</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_cost0">papi_cost</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_decode0">papi_decode</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_chooser0">papi_event_chooser</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_mem_info0">papi_mem_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native_avail0">papi_native_avail</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_cost0"></A>
papi_cost - computes execution time costs for basic PAPI operations. 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_cost1"></A><B>papi_cost</B>
[<I>-dhs</I>] [<I>-b bins</I>] [<I>-t threshold</I>] 
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_cost2"></A>
<B>papi_cost</B> is a PAPI utility program that computes the min /
max / mean / std. deviation of execution times for PAPI start/stop
pairs and for PAPI reads. This information provides the basic
operating cost to a user’s program for collecting hardware counter
data. Command line options control display capabilities. 
</P>
<H3 CLASS="western"><A NAME="papi_cost3"></A>OPTIONS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><I>-b &lt;bins&gt;</I> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Define the number of bins into which the
			results are partitioned for display. The default is 100. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=35 VALIGN=TOP>
			<P CLASS="western"><I>-d</I> 
			</P>
		</TD>
		<TD WIDTH=587 VALIGN=BOTTOM>
			<P CLASS="western">Display a graphical distribution of costs in a
			vertical histogram. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=35 VALIGN=TOP>
			<P CLASS="western"><I>-h</I> 
			</P>
		</TD>
		<TD WIDTH=587 VALIGN=BOTTOM>
			<P CLASS="western">Display help information about this utility. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=35 VALIGN=TOP>
			<P CLASS="western"><I>-s</I> 
			</P>
		</TD>
		<TD WIDTH=587 VALIGN=BOTTOM>
			<P CLASS="western">Show the number of iterations in each of the
			first 10 standard deviations above the mean. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><I>-t &lt;threshold&gt;</I> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Set the threshold for the number of iterations
			to measure costs. The default is 100,000. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_cost4"></A>
There are no known bugs in this utility. 
</P>
<P STYLE="margin-bottom: 0in">If you find a bug, it should be
reported to the PAPI Mailing List at &lt;<FONT COLOR="#0000ff"><U><A HREF="mailto:ptools-perfapi@ptools.org">ptools-perfapi@ptools.org</A></U></FONT>&gt;.
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_cost5"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_avail0">papi_avail</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_clockres0">papi_clockres</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_command_line0">papi_command_line</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_decode0">papi_decode</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_chooser0">papi_event_chooser</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_mem_info0">papi_mem_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native_avail0">papi_native_avail</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_command_line0"></A>
papi_command_line - executes PAPI preset or native events from the
command line. 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_command_line1"></A><B>papi_command_line</B>
&lt;event&gt; &lt;event&gt; ... 
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_command_line2"></A>
<B>papi_command_line</B> is a PAPI utility program that adds named
events from the command line to a PAPI EventSet and does some work
with that EventSet. This serves as a handy way to see if events can
be counted together, and if they give reasonable results for known
work. 
</P>
<H3 CLASS="western">OPTIONS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_command_line3"></A>This
utility has no command line options. 
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_command_line4"></A>
There are no known bugs in this utility. 
</P>
<P STYLE="margin-bottom: 0in">If you find a bug, it should be
reported to the PAPI Mailing List at &lt;<FONT COLOR="#0000ff"><U><A HREF="mailto:ptools-perfapi@ptools.org">ptools-perfapi@ptools.org</A></U></FONT>&gt;.
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_command_line5"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_avail0">papi_avail</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_clockres0">papi_clockres</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_cost0">papi_cost</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_decode0">papi_decode</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_chooser0">papi_event_chooser</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_mem_info0">papi_mem_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native_avail0">papi_native_avail</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_decode0"></A>
papi_decode - provides availability and detail information for PAPI
preset events. 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_decode1"></A><B>papi_decode</B>
[<I>-ah</I>] 
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_decode2"></A>
<B>papi_decode</B> is a PAPI utility program that converts the PAPI
presets for the existing library into a comma separated value format
that can then be viewed or modified in spreadsheet applications or
text editors, and can be supplied to <FONT COLOR="#0000ff"><U><A HREF="#papi_encode_events0">PAPI_encode_events</A></U></FONT>
as a way of adding or modifying event definitions for specialized
applications. The format for the csv output consists of a line of
field names, followed by a blank line, followed by one line of comma
separated values for each event contained in the preset table. A
portion of this output (for Pentium 4) is shown below: 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>name,derived,postfix,short_descr,long_descr,note,[native,...]</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_L1_ICM,NOT_DERIVED,,&quot;L1I
cache misses&quot;,&quot;Level 1 instruction cache
misses&quot;,,BPU_fetch_request_TCMISS</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_L2_TCM,NOT_DERIVED,,&quot;L2
cache misses&quot;,&quot;Level 2 cache
misses&quot;,,BSQ_cache_reference_RD_2ndL_MISS_WR_2ndL_MISS</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_TLB_DM,NOT_DERIVED,,&quot;Data
TLB misses&quot;,&quot;Data translation lookaside buffer
misses&quot;,,page_walk_type_DTMISS</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western"><A NAME="papi_decode3"></A>OPTIONS</H3>
<TABLE WIDTH=331 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=16>
	<COL WIDTH=302>
	<TR>
		<TD WIDTH=16 VALIGN=TOP>
			<P CLASS="western"><I>-a</I> 
			</P>
		</TD>
		<TD WIDTH=302 VALIGN=BOTTOM>
			<P CLASS="western">Convert only the available PAPI preset events. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=16 VALIGN=TOP>
			<P CLASS="western"><I>-h</I> 
			</P>
		</TD>
		<TD WIDTH=302 VALIGN=BOTTOM>
			<P CLASS="western">Display help information about this utility. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_decode4"></A>
There are no known bugs in this utility. 
</P>
<P STYLE="margin-bottom: 0in">If you find a bug, it should be
reported to the PAPI Mailing List at &lt;<FONT COLOR="#0000ff"><U><A HREF="mailto:ptools-perfapi@ptools.org">ptools-perfapi@ptools.org</A></U></FONT>&gt;.
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_decode5"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_avail0">papi_avail</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_clockres0">papi_clockres</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_command_line0">papi_command_line</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_cost0">papi_cost</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_chooser0">papi_event_chooser</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_mem_info0">papi_mem_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native_avail0">papi_native_avail</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_chooser0"></A>
papi_event_chooser - given a list of named events, lists other events
that can be counted with them. 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_event_chooser1"></A><B>papi_event_chooser</B>
NATIVE | PRESET &lt;event&gt; &lt;event&gt; ... 
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_chooser2"></A>
<B>papi_event_chooser</B> is a PAPI utility program that reports
information about the current PAPI installation and supported preset
events. 
</P>
<H3 CLASS="western">OPTIONS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_event_chooser3"></A>This
utility has no command line options. 
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_chooser4"></A>
There are no known bugs in this utility. 
</P>
<P STYLE="margin-bottom: 0in">If you find a bug, it should be
reported to the PAPI Mailing List at &lt;<FONT COLOR="#0000ff"><U><A HREF="mailto:ptools-perfapi@ptools.org">ptools-perfapi@ptools.org</A></U></FONT>&gt;.
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_chooser5"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_avail0">papi_avail</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_clockres0">papi_clockres</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_command_line0">papi_command_line</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_cost0">papi_cost</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_decode0">papi_decode</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_mem_info0">papi_mem_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native_avail0">papi_native_avail</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_mem_info0"></A>
papi_mem_info - provides information on the memory architecture of
the current processor. 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_mem_info1"></A><B>papi_mem_info</B>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_mem_info2"></A>
<B>papi_mem_info</B> is a PAPI utility program that reports
information about the cache memory architecture of the current
processor, including number, types, sizes and associativities of
instruction and data caches and Translation Lookaside Buffers. 
</P>
<H3 CLASS="western">OPTIONS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_mem_info3"></A>This
utility has no command line options. 
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_mem_info4"></A>
There are no known bugs in this utility. 
</P>
<P STYLE="margin-bottom: 0in">If you find a bug, it should be
reported to the PAPI Mailing List at &lt;<FONT COLOR="#0000ff"><U><A HREF="mailto:ptools-perfapi@ptools.org">ptools-perfapi@ptools.org</A></U></FONT>&gt;.
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_mem_info5"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_avail0">papi_avail</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_clockres0">papi_clockres</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_command_line0">papi_command_line</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_cost0">papi_cost</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_decode0">papi_decode</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_chooser0">papi_event_chooser</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native_avail0">papi_native_avail</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_native_avail0"></A>
papi_native_avail - provides detailed information for PAPI native
events. 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_native_avail1"></A><B>papi_native_avail</B>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_native_avail2"></A>
<B>papi_native_avail</B> is a PAPI utility program that reports
information about the native events available on the current
platform. A native event is an event specific to a specific hardware
platform. On many platforms, a specific native event may have a
number of optional settings. In such cases, the native event and the
valid settings are presented, rather than every possible combination
of those settings. For each native event, a name, a description, and
specific bit patterns are provided. 
</P>
<H3 CLASS="western">OPTIONS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_native_avail3"></A>This
utility has no command line options. 
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_native_avail4"></A>
There are no known bugs in this utility. 
</P>
<P STYLE="margin-bottom: 0in">If you find a bug, it should be
reported to the PAPI Mailing List at &lt;<FONT COLOR="#0000ff"><U><A HREF="mailto:ptools-perfapi@ptools.org">ptools-perfapi@ptools.org</A></U></FONT>&gt;.
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_native_avail5"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_avail0">papi_avail</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_clockres0">papi_clockres</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_command_line0">papi_command_line</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_cost0">papi_cost</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_decode0">papi_decode</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_chooser0">papi_event_chooser</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_mem_info0">papi_mem_info</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_accum0"></A>
PAPI_read - read hardware counters from an event set 
</P>
<P STYLE="margin-bottom: 0in">PAPI_accum - accumulate and reset
counters in an event set 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_accum1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_read(int
<I>EventSet</I>, long_long *<I>values</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_accum(int
<I>EventSet</I>, long_long *<I>values</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_read(C_INT
<I>EventSet, </I>C_LONG_LONG(*) <I>values, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_accum(C_INT
<I>EventSet, </I>C_LONG_LONG(*) <I>values, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_accum2"></A>These calls
assume an initialized PAPI library and a properly added event set. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_read()</B> copies the counters
of the indicated event set into the array <I>values</I>. The counters
continue counting after the read. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_accum()</B> adds the counters
of the indicated event set into the array <I>values</I>. The counters
are zeroed and continue counting after the operation. 
</P>
<P STYLE="margin-bottom: 0in">Note the differences between
PAPI_read() and PAPI_accum(), specifically that PAPI_accum() resets
the values array to zero. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_accum3"></A>
<I>EventSet</I> -- an integer handle for a PAPI Event Set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>*values</I> -- an array to hold the
counter values of the counting events 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_accum4"></A>
On success, these functions return <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_accum5"></A>ERRORS</H3>
<TABLE WIDTH=478 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=25>
	<COL WIDTH=441>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">A system or C library call failed inside PAPI,
			see the <I>errno</I> variable. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_accum6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>do_100events();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_read(EventSet, values) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
values[0] now equals 100 */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>do_100events();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_accum(EventSet, values) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
values[0] now equals 200 */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>values[0]
= -100;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>do_100events();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_accum(EventSet, values) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
values[0] now equals 0 */</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_accum7"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_accum8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_reset0">PAPI_reset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_start0">PAPI_start</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_accum_counters0"></A>
PAPI_read_counters - PAPI High Level: read and reset counters 
</P>
<P STYLE="margin-bottom: 0in">PAPI_accum_counters - PAPI High Level:
accumulate and reset counters 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_accum_counters1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_read_counters(long_long *<I>values</I>, int <I>array_len</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_accum_counters(long_long *<I>values</I>, int <I>array_len</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_read_counters(C_LONG_LONG(*)
<I>values, </I>C_INT <I>array_len, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_accum_counters(C_LONG_LONG(*)
<I>values, </I>C_INT <I>array_len, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_accum_counters2"></A><B>PAPI_read_counters()</B>
copies the event counters into the array <I>values</I> . <BR>The
counters are reset and left running after the call. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_accum_counters()</B> adds the
event counters into the array <I>values</I> . <BR>The counters are
reset and left running after the call. 
</P>
<P STYLE="margin-bottom: 0in">These calls assume an initialized PAPI
library and a properly added event set. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_accum_counters3"></A>
<I>*values</I> -- an array to hold the counter values of the counting
events 
</P>
<P STYLE="margin-bottom: 0in"><I>array_len</I> -- the number of items
in the *events array 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_accum_counters4"></A>
On success, these functions return <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_accum_counters5"></A>ERRORS</H3>
<TABLE WIDTH=478 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=25>
	<COL WIDTH=441>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">A system or C library call failed inside PAPI,
			see the <I>errno</I> variable. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_accum_counters6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>do_100events();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_read_counters(values, num_hwcntrs) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
values[0] now equals 100 */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>do_100events();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_accum_counters(values, num_hwcntrs) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
values[0] now equals 200 */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>values[0]
= -100;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>do_100events();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_accum_counters(values, num_hwcntrs) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
values[0] now equals 0 */</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_accum_counters7"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_accum_counters8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_start_counters0">PAPI_start_counters</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_add_event0"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_add_event  -
add PAPI preset or native hardware event to an event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_add_events -
add PAPI presets or native hardware events to an event set</FONT></FONT></P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_add_event1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_add_event(int <I>EventSet</I>, int <I>EventCode</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_add_events(int <I>EventSet</I>, int *<I>EventCodes</I>, int
<I>number</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_add_event(C_INT
<I>EventSet, </I>C_INT <I>EventCode, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_add_events(C_INT
<I>EventSet, </I>C_INT(*) <I>EventCodes, </I>C_INT <I>number, </I>C_INT
<I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_add_event2"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_add_event() 
adds one event to a PAPI Event Set.</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_add_events()
does the same, but for an array of events.</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">A hardware event can be either a PAPI
preset or a native hardware event code. For a list of PAPI preset
events, see <FONT COLOR="#0000ff"><U><A HREF="#papi_presets0">PAPI_presets</A></U></FONT>
or run the <I>avail</I> test case in the PAPI distribution. PAPI
presets can be passed to <FONT COLOR="#0000ff"><U><A HREF="#papi_query_event0">PAPI_query_event</A></U></FONT>
to see if they exist on the underlying architecture. For a list of
native events available on current platform, run native_avail test
case in the PAPI distribution. For the encoding of native events, see
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_name_to_code0">PAPI_event_name_to_code</A></U></FONT>
to learn how to generate native code for the supported native event
on the underlying architecture. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_add_event3"></A>
<I>EventSet</I> -- an integer handle for a PAPI Event Set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>EventCode</I> -- a defined event
such as PAPI_TOT_INS. 
</P>
<P STYLE="margin-bottom: 0in"><I>*EventCode</I> -- an array of
defined events 
</P>
<P STYLE="margin-bottom: 0in"><I>number</I> -- an integer indicating
the number of events in the array <I>*EventCode</I> 
</P>
<P STYLE="margin-bottom: 0in">It should be noted that <B>PAPI_add_events</B>
can partially succeed, exactly like <B>PAPI_remove_events</B>. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_add_event4"></A>
On success, these functions return <B>PAPI_OK.</B> <BR>On error, a
less than zero error code is returned or the the number of elements
that succeeded before the error. 
</P>
<H3 CLASS="western"><A NAME="papi_add_event5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>Positive integer</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The number of consecutive elements that
			succeeded before the error. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Insufficient memory to complete the operation. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The event set is currently counting events. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ECNFLCT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The underlying counter hardware can not count
			this event and other events in the event set simultaneously. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The PAPI preset is not available on the
			underlying hardware. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EBUG</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Internal error, please send mail to the
			developers. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_add_event6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
EventSet = PAPI_NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int native = 0x0;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_create_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, PAPI_TOT_INS) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add native event PM_CYC to EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_event_name_to_code(&quot;PM_CYC&quot;,&amp;native) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, native) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_add_event7"></A>
The vector function should take a pointer to a length argument so a
proper return value can be set upon partial success. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_add_event8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_presets0">PAPI_presets</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native0">PAPI_native</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_remove_event0">PAPI_remove_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_remove_events0">PAPI_remove_events</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_query_event0">PAPI_query_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_cleanup_eventset0">PAPI_cleanup_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_destroy_eventset0">PAPI_destroy_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_code_to_name0">PAPI_event_code_to_name</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_add_events0"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_add_event  -
add PAPI preset or native hardware event to an event set</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_add_events -
add PAPI presets or native hardware events to an event set</FONT></FONT></P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_add_events1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_add_event(int <I>EventSet</I>, int <I>EventCode</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_add_events(int <I>EventSet</I>, int *<I>EventCodes</I>, int
<I>number</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_add_event(C_INT
<I>EventSet, </I>C_INT <I>EventCode, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_add_events(C_INT
<I>EventSet, </I>C_INT(*) <I>EventCodes, </I>C_INT <I>number, </I>C_INT
<I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_add_events2"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_add_event() 
adds one event to a PAPI Event Set.</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_add_events()
does the same, but for an array of events.</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">A hardware event can be either a PAPI
preset or a native hardware event code. For a list of PAPI preset
events, see <FONT COLOR="#0000ff"><U><A HREF="#papi_presets0">PAPI_presets</A></U></FONT>
or run the <I>avail</I> test case in the PAPI distribution. PAPI
presets can be passed to <FONT COLOR="#0000ff"><U><A HREF="#papi_query_event0">PAPI_query_event</A></U></FONT>
to see if they exist on the underlying architecture. For a list of
native events available on current platform, run native_avail test
case in the PAPI distribution. For the encoding of native events, see
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_name_to_code0">PAPI_event_name_to_code</A></U></FONT>
to learn how to generate native code for the supported native event
on the underlying architecture. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_add_events3"></A>
<I>EventSet</I> -- an integer handle for a PAPI Event Set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>EventCode</I> -- a defined event
such as PAPI_TOT_INS. 
</P>
<P STYLE="margin-bottom: 0in"><I>*EventCode</I> -- an array of
defined events 
</P>
<P STYLE="margin-bottom: 0in"><I>number</I> -- an integer indicating
the number of events in the array <I>*EventCode</I> 
</P>
<P STYLE="margin-bottom: 0in">It should be noted that <B>PAPI_add_events</B>
can partially succeed, exactly like <B>PAPI_remove_events</B>. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_add_events4"></A>
On success, these functions return <B>PAPI_OK.</B> <BR>On error, a
less than zero error code is returned or the the number of elements
that succeeded before the error. 
</P>
<H3 CLASS="western"><A NAME="papi_add_events5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>Positive integer</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The number of consecutive elements that
			succeeded before the error. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Insufficient memory to complete the operation. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The event set is currently counting events. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ECNFLCT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The underlying counter hardware can not count
			this event and other events in the event set simultaneously. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The PAPI preset is not available on the
			underlying hardware. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EBUG</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Internal error, please send mail to the
			developers. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_add_events6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
EventSet = PAPI_NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int native = 0x0;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_create_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, PAPI_TOT_INS) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add native event PM_CYC to EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_event_name_to_code(&quot;PM_CYC&quot;,&amp;native) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, native) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_add_events7"></A>
The vector function should take a pointer to a length argument so a
proper return value can be set upon partial success. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_add_events8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_presets0">PAPI_presets</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native0">PAPI_native</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_remove_event0">PAPI_remove_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_remove_events0">PAPI_remove_events</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_query_event0">PAPI_query_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_cleanup_eventset0">PAPI_cleanup_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_destroy_eventset0">PAPI_destroy_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_code_to_name0">PAPI_event_code_to_name</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_attach0"></A>
<BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0in">PAPI_attach  - attach
PAPI event set to the specified thread id</P>
<P CLASS="western" STYLE="margin-bottom: 0in">PAPI_detach  - detach
PAPI event set from previously specified thread id and restore to
executing thread</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_attach1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_attach(int
<I>EventSet</I>, unsigned long <I>tid</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_detach(int
<I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;none&gt; </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_attach2"></A>
<B>PAPI_attach()</B> and <B>PAPI_detach()</B> are wrapper functions
that access <FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt()0">PAPI_set_opt()</A></U></FONT>
to allow PAPI to monitor performance counts on a thread other than
the one currently executing. This is sometimes referred to as third
party monitoring. <B>PAPI_attach()</B> connects the specified
EventSet to the specifed thread; <B>PAPI_detach()</B> breaks that
connection and restores the EventSet to the original executing
thread. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_attach3"></A>
<I>EventSet</I> -- an integer handle for a PAPI Event Set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>tid</I> -- a thread id as obtained
from, for example, <FONT COLOR="#0000ff"><U><A HREF="#papi_list_threads0">PAPI_list_threads</A></U></FONT>
or <FONT COLOR="#0000ff"><U><A HREF="#papi_thread_id0">PAPI_thread_id</A></U></FONT>.
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_attach4"></A>
On success, these functions return <B>PAPI_OK.</B> On error, a
negative error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_attach5"></A>ERRORS</H3>
<TABLE WIDTH=317 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=16>
	<COL WIDTH=290>
	<TR>
		<TD COLSPAN=2 WIDTH=311 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESBSTR</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=16>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=290>
			<P CLASS="western">This feature is unsupported on this substrate. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=311 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=16>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=290>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=311 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=16>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=290>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=311 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=16>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=290>
			<P CLASS="western">The event set is currently counting events. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_attach6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
EventSet = PAPI_NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
long pid;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>pid
= fork();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(pid &lt;= 0)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_create_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, PAPI_TOT_INS) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Attach this EventSet to the forked process */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_attach(EventSet, pid) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_attach7"></A>
There are no known bugs in these functions. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_attach8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_list_threads0">PAPI_list_threads</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_id0">PAPI_thread_id</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_cleanup_eventset0"></A>
PAPI_destroy_eventset, PAPI_cleanup_eventset - empty and destroy an
EventSet 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_cleanup_eventset1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_cleanup_eventset(int <I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_destroy_eventset(int *<I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_cleanup_eventset(C_INT
<I>EventSet, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_destroy_eventset(C_INT
<I>EventSet, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_cleanup_eventset2"></A>
<B>PAPI_cleanup_eventset()</B> removes all events from a PAPI event
set and turns off profiling and overflow for all events in the
eventset. This can not be called if the EventSet is not stopped. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_destroy_eventset()</B>
deallocates the memory associated with an empty PAPI event set. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_cleanup_eventset3"></A>
<I>EventSet</I> -- an integer handle for a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>.
</P>
<P STYLE="margin-bottom: 0in"><I>*EventSet</I> -- a pointer to the
integer handle for a PAPI event set as created by
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>.
The value pointed to by EventSet is then set to PAPI_NULL on success.
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_cleanup_eventset4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_cleanup_eventset5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments is invalid.
			Attempting to destroy a non-empty event set or passing in a null
			pointer to be destroyed. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet is currently counting events. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EBUG</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Internal error, send mail to
			<FONT COLOR="#0000ff"><U><A HREF="mailto:ptools-perfapi@ptools.org">ptools-perfapi@ptools.org</A></U></FONT>
			and complain. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_cleanup_eventset6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Remove all events in the eventset */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_cleanup_eventset(EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Free all memory and data structures, EventSet must be empty. */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_destroy_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_cleanup_eventset7"></A>
If the user has set profile on an event with the <B>PAPI_profil </B>(3)
call, then when destroying the EventSet the memory allocated by
<B>PAPI_profil </B>(3) will not be freed. The user should turn off
profiling on the Events before destroying the EventSet to prevent
this behavior. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_cleanup_eventset8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_add_event0">PAPI_add_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_stop0">PAPI_stop</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_profil0">PAPI_profil</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_create_eventset0"></A>
PAPI_create_eventset - create an EventSet 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_create_eventset1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_create_eventset
(int *<I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_create_eventset(C_INT
<I>EventSet, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_create_eventset2"></A>
<B>PAPI_create_eventset()</B> creates a new EventSet pointed to by
<I>EventSet,</I> which must be initialized to <I>PAPI_NULL</I> before
calling this routine. The user may then add hardware events to the
event set by calling <FONT COLOR="#0000ff"><U><A HREF="#papi_add_event0">PAPI_add_event</A></U></FONT>
or similar routines. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_create_eventset3"></A>
<I>EventSet</I> -- Address of an integer location to store the new
EventSet handle 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_create_eventset4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_create_eventset5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The argument <I>handle</I> has not been
			initialized to <I>PAPI_NULL</I> or the argument is a NULL pointer.
						</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Insufficient memory to complete the operation. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_create_eventset6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
EventSet = PAPI_NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_create_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, PAPI_TOT_INS) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_create_eventset7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_create_eventset8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_destroy_eventset0">PAPI_destroy_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_cleanup_eventset0">PAPI_cleanup_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_add_event0">PAPI_add_event</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_destroy_eventset0"></A>
PAPI_destroy_eventset, PAPI_cleanup_eventset - empty and destroy an
EventSet 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_destroy_eventset1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_cleanup_eventset(int <I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_destroy_eventset(int *<I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_cleanup_eventset(C_INT
<I>EventSet, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_destroy_eventset(C_INT
<I>EventSet, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_destroy_eventset2"></A>
<B>PAPI_cleanup_eventset()</B> removes all events from a PAPI event
set and turns off profiling and overflow for all events in the
eventset. This can not be called if the EventSet is not stopped. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_destroy_eventset()</B>
deallocates the memory associated with an empty PAPI event set. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_destroy_eventset3"></A>
<I>EventSet</I> -- an integer handle for a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>.
</P>
<P STYLE="margin-bottom: 0in"><I>*EventSet</I> -- a pointer to the
integer handle for a PAPI event set as created by
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>.
The value pointed to by EventSet is then set to PAPI_NULL on success.
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_destroy_eventset4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_destroy_eventset5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments is invalid.
			Attempting to destroy a non-empty event set or passing in a null
			pointer to be destroyed. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet is currently counting events. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EBUG</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Internal error, send mail to
			<FONT COLOR="#0000ff"><U><A HREF="mailto:ptools-perfapi@ptools.org">ptools-perfapi@ptools.org</A></U></FONT>
			and complain. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_destroy_eventset6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Remove all events in the eventset */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_cleanup_eventset(EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Free all memory and data structures, EventSet must be empty. */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_destroy_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_destroy_eventset7"></A>
If the user has set profile on an event with the <B>PAPI_profil </B>(3)
call, then when destroying the EventSet the memory allocated by
<B>PAPI_profil </B>(3) will not be freed. The user should turn off
profiling on the Events before destroying the EventSet to prevent
this behavior. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_destroy_eventset8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_add_event0">PAPI_add_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_stop0">PAPI_stop</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_profil0">PAPI_profil</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_detach0"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_attach  -
attach PAPI event set to the specified thread id</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_detach  -
detach PAPI event set from previously specified thread id and restore
to executing thread</FONT></FONT></P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_detach1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_attach(int
<I>EventSet</I>, unsigned long <I>tid</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_detach(int
<I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;none&gt; </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_detach2"></A>
<B>PAPI_attach()</B> and <B>PAPI_detach()</B> are wrapper functions
that access <FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt()0">PAPI_set_opt()</A></U></FONT>
to allow PAPI to monitor performance counts on a thread other than
the one currently executing. This is sometimes referred to as third
party monitoring. <B>PAPI_attach()</B> connects the specified
EventSet to the specifed thread; <B>PAPI_detach()</B> breaks that
connection and restores the EventSet to the original executing
thread. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_detach3"></A>
<I>EventSet</I> -- an integer handle for a PAPI Event Set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>tid</I> -- a thread id as obtained
from, for example, <FONT COLOR="#0000ff"><U><A HREF="#papi_list_threads0">PAPI_list_threads</A></U></FONT>
or <FONT COLOR="#0000ff"><U><A HREF="#papi_thread_id0">PAPI_thread_id</A></U></FONT>.
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_detach4"></A>
On success, these functions return <B>PAPI_OK.</B> On error, a
negative error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_detach5"></A>ERRORS</H3>
<TABLE WIDTH=317 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=16>
	<COL WIDTH=290>
	<TR>
		<TD COLSPAN=2 WIDTH=311 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESBSTR</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=16>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=290>
			<P CLASS="western">This feature is unsupported on this substrate. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=311 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=16>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=290>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=311 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=16>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=290>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=311 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=16>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=290>
			<P CLASS="western">The event set is currently counting events. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_detach6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
EventSet = PAPI_NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
long pid;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>pid
= fork();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(pid &lt;= 0)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_create_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, PAPI_TOT_INS) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Attach this EventSet to the forked process */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_attach(EventSet, pid) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_detach7"></A>
There are no known bugs in these functions. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_detach8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_list_threads0">PAPI_list_threads</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_id0">PAPI_thread_id</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_encode_events0"></A>
PAPI_encode_events - read event definitions from a file and modify
the existing PAPI preset table. 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_encode_events1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_encode_events(char * event_file, int replace); </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_encode_events2"></A>
<B>NOTE: This API has been deprecated in PAPI 3.5 pending a data
structure redesign.</B> 
</P>
<P STYLE="margin-bottom: 0in">This function reads event descriptions
from a file where they are stored in comma separated value format and
modifies or adds events to the PAPI preset event table. The file
format is described below. This function presently works only to
define or modify PAPI preset events. 
</P>
<H3 CLASS="western">FILE FORMAT</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_encode_events3"></A>
The comma separated value file format is one that can be easily
edited in a standard text editor or a csv-aware spreadsheet
application, and can be easily parsed. Text strings can contain
commas, but only if the strings are enclosed in quotes. Each entry in
the file is a separate line, and each field, including empty fields,
is separated by a comma from its neighbor. The specific format used
in this case consists of a title line for readability, a blank line,
and a series of lines containing event definitions. A portion of such
a file (for Pentium 4) is shown below: 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>name,derived,postfix,short_descr,long_descr,note,[native,...]</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_L1_ICM,NOT_DERIVED,,&quot;L1I
cache misses&quot;,&quot;Level 1 instruction cache
misses&quot;,,BPU_fetch_request_TCMISS</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_L2_TCM,NOT_DERIVED,,&quot;L2
cache misses&quot;,&quot;Level 2 cache
misses&quot;,,BSQ_cache_reference_RD_2ndL_MISS_WR_2ndL_MISS</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_TLB_DM,NOT_DERIVED,,&quot;Data
TLB misses&quot;,&quot;Data translation lookaside buffer
misses&quot;,,page_walk_type_DTMISS</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>MY_PAPI_TLB_DM,NOT_DERIVED,,&quot;Data
TLB misses&quot;,&quot;Data translation lookaside buffer
misses&quot;,&quot;This is a note for my event&quot;,page_walk_type_DTMISS</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_encode_events4"></A><I>event_file</I>
-- string containing the name of the csv event file to be read 
</P>
<P STYLE="margin-bottom: 0in"><I>replace</I> -- 1 to replace existing
events, or 0 to prevent accidental replacement 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_encode_events5"></A>
On success, the function returns <B>PAPI_OK.</B> On error, a non-zero
error code is returned by the function. 
</P>
<H3 CLASS="western"><A NAME="papi_encode_events6"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EPERM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">You are trying to modify an existing event
			without specifying <I>replace.</I> 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">You are trying to modify an event that has been
			added to an EventSet. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments or fields of the
			info structure is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOTPRESET</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The PAPI preset table is full and there is no
			room for a new event. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The event specified is not a PAPI preset.
			Usually because the PAPI_PRESET_MASK bit is not set. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_encode_events7"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Use the command line utility to create a csv copy of the currently
defined events */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>&gt;
/papi/utils/decode -a -&gt; current.csv</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
View and modify the events in an editor */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>&gt;
vi current.csv</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Load the modified events into the preset table */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_encode_events(&quot;./current.csv&quot;, 1) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_encode_events8"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_encode_events9"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_decode0">papi_decode</A></U></FONT>
, <FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_event_info0">PAPI_get_event_info</A></U></FONT>
, <FONT COLOR="#0000ff"><U><A HREF="#papi_set_event_info0">PAPI_set_event_info</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_enum_event0"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_enum_event -
enumerate PAPI preset or native events</FONT></FONT></P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_enum_event1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_enum_event(int <I>*EventCode,</I>int <I>modifer</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_enum_event(C_INT
<I>EventCode, </I>C_INT <I>modifier</I>, <I>C_INT </I>check<I>)</I> </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_enum_event2"></A>
Given a preset or native event code, <B>PAPI_enum_event()</B>
replaces the event code with the next available event in either the
preset or native table. The <I>modifier</I> argument affects which
events are returned. For all platforms and event types, a value of
<B>PAPI_ENUM_ALL</B> (zero) directs the function to return all
possible events. For preset events, a TRUE (non-zero) value currently
directs the function to return event codes only for PAPI preset
events available on this platform. This may change in the future. For
native events, the effect of the <I>modifier</I> argument is
different on each platform. See the discussion below for
platform-specific definitions. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_enum_event3"></A>
<I>EventCode</I> -- a defined preset or native event such as
PAPI_TOT_INS. 
</P>
<P STYLE="margin-bottom: 0in"><I>modifier</I> -- modifies the search
logic. For preset events, TRUE specifies available events only. For
native events, each platform behaves differently. See
platform-specific documentation for details 
</P>
<H3 CLASS="western">PENTIUM 4</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_enum_event4"></A>
The following values are implemented for <I>modifier</I> on Pentium
4: <B>PAPI_PENT4_ENUM_GROUPS</B> - 45 groups + custom + user event
types <B>PAPI_PENT4_ENUM_COMBOS</B> - all combinations of mask bits
for given group <B>PAPI_PENT4_ENUM_BITS </B>- all individual bits for
a given group 
</P>
<H3 CLASS="western">ITANIUM</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_enum_event5"></A>
The following values are implemented for <I>modifier</I> on Itanium:
<B>PAPI_ITA_ENUM_IARR</B> - Enumerate IAR (instruction address
ranging) events <B>PAPI_ITA_ENUM_DARR</B> - Enumerate DAR (data
address ranging) events <B>PAPI_ITA_ENUM_OPCM</B> - Enumerate OPC
(opcode matching) events <B>PAPI_ITA_ENUM_IEAR</B> - Enumerate IEAR
(instr event address register) events <B>PAPI_ITA_ENUM_DEAR</B> -
Enumerate DEAR (data event address register) events 
</P>
<H3 CLASS="western">POWER 4</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_enum_event6"></A>
The following values are implemented for <I>modifier</I> on POWER 4:
<B>PAPI_PWR4_ENUM_GROUPS</B> - Enumerate groups to which an event
belongs 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_enum_event7"></A>
On success, this function returns <B>PAPI_OK ,</B> and on error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_enum_event8"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The next requested PAPI preset or native event
			is not available on the underlying hardware. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_enum_event9"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Scan for all supported native events on this platform */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      Code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Description0);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>do
{</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">         <FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_get_event_info(i, &amp;info);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">         <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval == PAPI_OK) {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">            <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;%-30s
0x%-10x0s0, info.symbol, info.event_code, info.long_descr);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">         <FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>}
while (PAPI_enum_event(&amp;i, PAPI_ENUM_ALL) == PAPI_OK);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_enum_event10"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_enum_event11"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_preset0">PAPI_preset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native0">PAPI_native</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_event_info0">PAPI_get_event_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_name_to_code0">PAPI_event_name_to_code</A></U></FONT>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_event_code_to_name0"></A>
<BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0in">PAPI_event_code_to_name
- convert a numeric hardware event code to a name.</P>
<P CLASS="western" STYLE="margin-bottom: 0in">PAPI_event_name_to_code
- convert a name to a numeric hardware event code.</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_code_to_name1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_event_code_to_name(int <I>EventCode</I>, char *<I>EventName</I>);
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_event_name_to_code(char *<I>EventName</I>, int *<I>EventCode</I>);
</FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_event_code_to_name(C_INT
<I>EventCode, </I>C_STRING <I>EventName, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_event_name_to_code(C_STRING
<I>EventName, </I>C_INT <I>EventCode, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_code_to_name2"></A>
<B>PAPI_event_code_to_name()</B> is used to translate a 32-bit
integer PAPI event code into an ASCII PAPI event name. Either Preset
event codes or Native event codes can be passed to this routine.
Native event codes and names differ from platform to platform. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_event_name_to_code()</B> is
used to translate an ASCII PAPI event name into an integer PAPI event
code. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_code_to_name3"></A>
<I>EventName</I> -- a string containing the event name as listed in
<FONT COLOR="#0000ff"><U><A HREF="#papi_presets0">PAPI_presets</A></U></FONT>
or discussed in <FONT COLOR="#0000ff"><U><A HREF="#papi_native0">PAPI_native</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>EventCode</I> -- the numeric code
for the event 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_code_to_name4"></A>
On success, these functions return <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_event_code_to_name5"></A>ERRORS</H3>
<TABLE WIDTH=451 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=24>
	<COL WIDTH=415>
	<TR>
		<TD COLSPAN=2 WIDTH=445 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=24>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=415>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=445 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOTPRESET</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=24>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=415>
			<P CLASS="western">The hardware event specified is not a valid
			PAPI preset. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=445 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=24>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=415>
			<P CLASS="western">The hardware event is not available on the
			underlying hardware. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_event_code_to_name6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
EventCode, EventSet = PAPI_NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
EventCodeStr[PAPI_MAX_STR_LEN];</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
EventDescr[PAPI_MAX_STR_LEN];</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
EventLabel[20];</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Convert to integer */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_event_name_to_code(&quot;PAPI_TOT_INS&quot;,&amp;EventCode) !=
PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Create the EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_create_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, EventCode) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_code_to_name7"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_code_to_name8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_presets0">PAPI_presets</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native0">PAPI_native</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_enum_events0">PAPI_enum_events</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_add_event0">PAPI_add_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_remove_event0">PAPI_remove_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_event_info0">PAPI_get_event_info</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_event_name_to_code0"></A>
<BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0in">PAPI_event_code_to_name
- convert a numeric hardware event code to a name.</P>
<P CLASS="western" STYLE="margin-bottom: 0in">PAPI_event_name_to_code
- convert a name to a numeric hardware event code.</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_name_to_code1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_event_code_to_name(int <I>EventCode</I>, char *<I>EventName</I>);
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_event_name_to_code(char *<I>EventName</I>, int *<I>EventCode</I>);
</FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_event_code_to_name(C_INT
<I>EventCode, </I>C_STRING <I>EventName, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_event_name_to_code(C_STRING
<I>EventName, </I>C_INT <I>EventCode, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_name_to_code2"></A>
<B>PAPI_event_code_to_name()</B> is used to translate a 32-bit
integer PAPI event code into an ASCII PAPI event name. Either Preset
event codes or Native event codes can be passed to this routine.
Native event codes and names differ from platform to platform. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_event_name_to_code()</B> is
used to translate an ASCII PAPI event name into an integer PAPI event
code. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_name_to_code3"></A>
<I>EventName</I> -- a string containing the event name as listed in
<FONT COLOR="#0000ff"><U><A HREF="#papi_presets0">PAPI_presets</A></U></FONT>
or discussed in <FONT COLOR="#0000ff"><U><A HREF="#papi_native0">PAPI_native</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>EventCode</I> -- the numeric code
for the event 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_name_to_code4"></A>
On success, these functions return <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_event_name_to_code5"></A>ERRORS</H3>
<TABLE WIDTH=451 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=24>
	<COL WIDTH=415>
	<TR>
		<TD COLSPAN=2 WIDTH=445 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=24>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=415>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=445 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOTPRESET</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=24>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=415>
			<P CLASS="western">The hardware event specified is not a valid
			PAPI preset. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=445 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=24>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=415>
			<P CLASS="western">The hardware event is not available on the
			underlying hardware. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_event_name_to_code6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
EventCode, EventSet = PAPI_NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
EventCodeStr[PAPI_MAX_STR_LEN];</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
EventDescr[PAPI_MAX_STR_LEN];</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
EventLabel[20];</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Convert to integer */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_event_name_to_code(&quot;PAPI_TOT_INS&quot;,&amp;EventCode) !=
PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Create the EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_create_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, EventCode) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_name_to_code7"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_event_name_to_code8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_presets0">PAPI_presets</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native0">PAPI_native</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_enum_events0">PAPI_enum_events</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_add_event0">PAPI_add_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_remove_event0">PAPI_remove_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_event_info0">PAPI_get_event_info</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_flips0"></A>
<BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0in">  PAPI_flips - PAPI
High level: Simplified call to get Mflips/s, real and processor time</P>
<P CLASS="western" STYLE="margin-bottom: 0in">  PAPI_flops - PAPI
High level: Simplified call to get Mflops/s, real and processor time</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_flips1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_flips
(float *<I>rtime</I>, float *<I>ptime</I>, long_long *<I>flpins</I>,
float *<I>mflips</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_flops
(float *<I>rtime</I>, float *<I>ptime</I>, long_long *<I>flpops</I>,
float *<I>mflops</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_flips(C_FLOAT
<I>real_time, </I>C_FLOAT <I>proc_time, </I>C_LONG_LONG <I>flpins,
</I>C_FLOAT <I>mflips, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_flops(C_FLOAT
<I>real_time, </I>C_FLOAT <I>proc_time, </I>C_LONG_LONG <I>flpops,
</I>C_FLOAT <I>mflops, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_flips2"></A>The first
call to <B>PAPI_flips() or PAPI_flops()</B> will initialize the PAPI
High Level interface, set up the counters to monitor PAPI_FP_INS or
PAPI_FP_OPS and PAPI_TOT_CYC events and start the counters.
Subsequent calls will read the counters and return total real time,
total process time, total floating point instructions or operations
since the start of the measurement and the Mflip/s or Mflop/s rate
since latest call to <B>PAPI_flips() or PAPI_flops().</B> A call to
<B>PAPI_stop_counters() </B>will stop the counters from running and
then calls such as <B>PAPI_start_counters() </B>can safely be used. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_flips3"></A>
<I>*rtime</I> -- total realtime since the first PAPI_flops() call 
</P>
<P STYLE="margin-bottom: 0in"><I>*ptime</I> -- total process time
since the first PAPI_flops() call 
</P>
<P STYLE="margin-bottom: 0in"><I>*flpins, flpops</I> -- total
floating point instructions or operations since the first call 
</P>
<P STYLE="margin-bottom: 0in"><I>*mflips, *mflops</I> -- Mflip/s or
Mflop/s achieved since the previous call 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_flips4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western">ERRORS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_flips5"></A>
In addition to the possible errors returned by the various PAPI low
level calls, the following errors could also be returned: 
</P>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The counters were already started by something
			other than: <B>PAPI_flips() or PAPI_flops().</B> 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The floating point operations,floating point
			instruction or total cycles event does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Insufficient memory to complete the operation. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">NOTES</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_flips6"></A>Mflip/s, or
millions of floating point instructions per second, is defined in
this context as the number of instructions issued to the floating
point unit per second. It is usually calculated directly from a
counter measurement and may be different from platform to platform.
Mflop/s, or millions of floating point operations per second, is
intended to represent the number of floating point arithmetic
operations per second. Attempts are made to massage the counter
values to produce the theoreticallly expected value by, for instance,
doubling FMA counts or subtracting floating point loads and stores if
necessary. <I>CAVEAT EMPTOR</I> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_flops()andPAPI_flips()
may be called by: </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>the
user application program </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><B>PAPI_flops()</B>
contains calls to: </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_perror()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_library_init()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_get_hardware_info()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_create_eventset()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_add_event()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_start()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_get_real_usec()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_accum()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_shutdown()
</FONT></FONT>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_flips7"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_flips8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_stop_counters0">PAPI_stop_counters</A></U></FONT>
, <FONT COLOR="#0000ff"><U><A HREF="#papi_ipc0">PAPI_ipc</A></U></FONT>
, <FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_flops0"></A>
<BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0in">  PAPI_flips - PAPI
High level: Simplified call to get Mflips/s, real and processor time</P>
<P CLASS="western" STYLE="margin-bottom: 0in">  PAPI_flops - PAPI
High level: Simplified call to get Mflops/s, real and processor time</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_flops1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_flips
(float *<I>rtime</I>, float *<I>ptime</I>, long_long *<I>flpins</I>,
float *<I>mflips</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_flops
(float *<I>rtime</I>, float *<I>ptime</I>, long_long *<I>flpops</I>,
float *<I>mflops</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_flips(C_FLOAT
<I>real_time, </I>C_FLOAT <I>proc_time, </I>C_LONG_LONG <I>flpins,
</I>C_FLOAT <I>mflips, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_flops(C_FLOAT
<I>real_time, </I>C_FLOAT <I>proc_time, </I>C_LONG_LONG <I>flpops,
</I>C_FLOAT <I>mflops, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_flops2"></A>The first
call to <B>PAPI_flips() or PAPI_flops()</B> will initialize the PAPI
High Level interface, set up the counters to monitor PAPI_FP_INS or
PAPI_FP_OPS and PAPI_TOT_CYC events and start the counters.
Subsequent calls will read the counters and return total real time,
total process time, total floating point instructions or operations
since the start of the measurement and the Mflip/s or Mflop/s rate
since latest call to <B>PAPI_flips() or PAPI_flops().</B> A call to
<B>PAPI_stop_counters() </B>will stop the counters from running and
then calls such as <B>PAPI_start_counters() </B>can safely be used. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_flops3"></A>
<I>*rtime</I> -- total realtime since the first PAPI_flops() call 
</P>
<P STYLE="margin-bottom: 0in"><I>*ptime</I> -- total process time
since the first PAPI_flops() call 
</P>
<P STYLE="margin-bottom: 0in"><I>*flpins, flpops</I> -- total
floating point instructions or operations since the first call 
</P>
<P STYLE="margin-bottom: 0in"><I>*mflips, *mflops</I> -- Mflip/s or
Mflop/s achieved since the previous call 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_flops4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western">ERRORS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_flops5"></A>
In addition to the possible errors returned by the various PAPI low
level calls, the following errors could also be returned: 
</P>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The counters were already started by something
			other than: <B>PAPI_flips() or PAPI_flops().</B> 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The floating point operations,floating point
			instruction or total cycles event does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Insufficient memory to complete the operation. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">NOTES</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_flops6"></A>Mflip/s, or
millions of floating point instructions per second, is defined in
this context as the number of instructions issued to the floating
point unit per second. It is usually calculated directly from a
counter measurement and may be different from platform to platform.
Mflop/s, or millions of floating point operations per second, is
intended to represent the number of floating point arithmetic
operations per second. Attempts are made to massage the counter
values to produce the theoreticallly expected value by, for instance,
doubling FMA counts or subtracting floating point loads and stores if
necessary. <I>CAVEAT EMPTOR</I> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_flops()andPAPI_flips()
may be called by: </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>the
user application program </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><B>PAPI_flops()</B>
contains calls to: </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_perror()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_library_init()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_get_hardware_info()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_create_eventset()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_add_event()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_start()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_get_real_usec()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_accum()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_shutdown()
</FONT></FONT>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_flops7"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_flops8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_stop_counters0">PAPI_stop_counters</A></U></FONT>
, <FONT COLOR="#0000ff"><U><A HREF="#papi_ipc0">PAPI_ipc</A></U></FONT>
, <FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_dmem_info0"></A>
PAPI_get_dmem_info - get information about the dynamic memory usage
of the current program 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_dmem_info1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_get_dmem_info(PAPI_dmem_info_t *<I>dmem</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_dmem_info(C_LONG_LONG(*)
<I>dmem, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_dmem_info2"></A>
In C, this function takes a pointer to a PAPI_dmem_info_t structure
and returns with the structure fields filled in. In Fortran, this
function takes a pointer to an array of long_long values and fills in
the array on return. A value of PAPI_EINVAL in any field indicates an
undefined parameter. 
</P>
<H3 CLASS="western">NOTE</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_dmem_info3"></A>
This function is currently implemented only for the Linux operating
system. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_get_dmem_info4"></A><I>dmem</I>
-- Structure (C) or array (Fortran) containing the following values
(Fortran values can be accessed using the specified indices): 
</P>
<P STYLE="margin-bottom: 0in"><B>size [PAPIF_DMEM_VMSIZE]</B> (Size
of process image), 
</P>
<P STYLE="margin-bottom: 0in"><B>resident [PAPIF_DMEM_RESIDENT]</B>
(Resident set size), 
</P>
<P STYLE="margin-bottom: 0in"><B>high_water_mark
[PAPIF_DMEM_HIGH_WATER]</B> (High water memory usage), 
</P>
<P STYLE="margin-bottom: 0in"><B>shared [PAPIF_DMEM_SHARED]</B>
(Shared memory), 
</P>
<P STYLE="margin-bottom: 0in"><B>text [PAPIF_DMEM_TEXT]</B> (Memory
allocated to code), 
</P>
<P STYLE="margin-bottom: 0in"><B>library [PAPIF_DMEM_LIBRARY]</B>
(Memory allocated to libraries), 
</P>
<P STYLE="margin-bottom: 0in"><B>heap [PAPIF_DMEM_HEAP]</B> (Size of
the heap), 
</P>
<P STYLE="margin-bottom: 0in"><B>locked [PAPIF_DMEM_LOCKED]</B>
(Locked memory), 
</P>
<P STYLE="margin-bottom: 0in"><B>stack [PAPIF_DMEM_STACK]</B> (Size
of the stack) 
</P>
<P STYLE="margin-bottom: 0in"><B>pagesize [PAPIF_DMEM_PAGESIZE]</B>
(Size of a page in bytes), 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_dmem_info5"></A>
On success, this function returns PAPI_OK with the data structure or
array values filled in. On error a negative error value is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_get_dmem_info6"></A>ERRORS</H3>
<TABLE WIDTH=591 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=32>
	<COL WIDTH=547>
	<TR>
		<TD COLSPAN=2 WIDTH=585 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESBSTR</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=32>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=547>
			<P CLASS="western">The funtion is not implemented for the current
			substrate. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=585 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=32>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=547>
			<P CLASS="western">Any value in the structure or array may be
			undefined as indicated by this error value. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=585 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_SYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=32>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=547>
			<P CLASS="western">A system error occured. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_dmem_info7"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
retval;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_dmem_info_t
dmem;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_library_init(PAPI_VER_CURRENT) != PAPI_VER_CURRENT)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_library_init(PAPI_VER_CURRENT);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval != PAPI_VER_CURRENT)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_get_dmem_info(&amp;dmem);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Mem
Size:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%lld0,dmem.size);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Mem
Resident:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%lld0,dmem.resident);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Mem
High Water Mark:&nbsp;%lld0,dmem.high_water_mark);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Mem
Shared:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%lld0,dmem.shared);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Mem
Text:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%lld0,dmem.text);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Mem
Library:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%lld0,dmem.library);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Mem
Heap:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%lld0,dmem.heap);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Mem
Locked:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%lld0,dmem.locked);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Mem
Stack:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%lld0,dmem.stack);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Mem
Pagesize:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%lld0,dmem.pagesize);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_dmem_info8"></A>
If called before <B>PAPI_library_init()</B> the behavior of the
routine is undefined. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_dmem_info9"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_library_init0">PAPI_library_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_opt0">PAPI_get_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_hardware_info0">PAPI_get_hardware_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_executable_info0">PAPI_get_executable_info</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_event_info0"></A>
PAPI_get_event_info - get the event’s name and description info 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_event_info1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_get_event_info(int EventCode, PAPI_event_info_t *info); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_event_info(C_INT
<I>EventCode, </I>C_STRING <I>symbol,</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>C_STRING
long_descr, C_STRING C_INT <I>count,</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>C_STRING
event_note, C_INT , C_INT <I>check)</I> </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_event_info2"></A>
In C, this function fills the event information into a structure. In
Fortran, some fields of the structure are returned explicitly. This
function works with existing PAPI preset and native event codes. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_event_info3"></A>
The following arguments are implicit in the structure returned by the
C function, or explicitly returned by Fortran. 
</P>
<P STYLE="margin-bottom: 0in"><I>EventCode</I> -- event code(preset
or native) 
</P>
<P STYLE="margin-bottom: 0in"><I>info</I> -- structure with the event
information 
</P>
<P STYLE="margin-bottom: 0in"><I>symbol</I> -- whether the preset is
part of the API 
</P>
<P STYLE="margin-bottom: 0in"><I>long_descr</I> -- detail description
about the event 
</P>
<P STYLE="margin-bottom: 0in"><I>short_descr</I> -- short description
about the event 
</P>
<P STYLE="margin-bottom: 0in"><I>event_note</I> -- notes about the
event 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_event_info4"></A>
On success, the C function returns PAPI_OK, and the Fortran function
returns <B>PAPI_OK.</B> <BR>On error, a non-zero error code is
returned by the function. 
</P>
<H3 CLASS="western"><A NAME="papi_get_event_info5"></A>ERRORS</H3>
<TABLE WIDTH=631 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=34>
	<COL WIDTH=584>
	<TR>
		<TD COLSPAN=2 WIDTH=625 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=34>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=584>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=625 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOTPRESET</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=34>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=584>
			<P CLASS="western">The PAPI preset mask was set, but the hardware
			event specified is not a valid PAPI preset. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=625 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=34>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=584>
			<P CLASS="western">The PAPI preset is not available on the
			underlying hardware. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_event_info6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*Find
the event code for PAPI_TOT_INS and its info*/</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_event_name_to_code(&quot;PAPI_TOT_INS&quot;,&amp;EventCode)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_get_event_info(EventCode, &amp;info) == PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_event_info7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_event_info8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_event_info0">PAPI_set_event_info</A></U></FONT>
, <FONT COLOR="#0000ff"><U><A HREF="#papi_event_name_to_code0">PAPI_event_name_to_code</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_executable_info0"></A>
PAPI_get_executable_info - get the executable’s address space info 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_executable_info1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>const
PAPI_exe_info_t *PAPI_get_executable_info(void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_exe_info(C_STRING
<I>fullname,</I> C_STRING <I>name,</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
       <FONT FACE="Courier New, monospace"><FONT SIZE=2>C_LONG_LONG
<I>text_start,</I> C_LONG_LONG <I>text_end,</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
       <FONT FACE="Courier New, monospace"><FONT SIZE=2>C_LONG_LONG
<I>data_start,</I> C_LONG_LONG <I>data_end,</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
       <FONT FACE="Courier New, monospace"><FONT SIZE=2>C_LONG_LONG
<I>bss_start,</I>  C_LONG_LONG <I>bss_end,</I> C_INT <I>check)</I> </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_executable_info2"></A>
In C, this function returns a pointer to a structure containing
information about the current program. In Fortran, the fields of the
structure are returned explicitly. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_executable_info3"></A>
The following arguments are implicit in the structure returned by the
C function, or explicitly returned by Fortran. 
</P>
<P STYLE="margin-bottom: 0in"><I>fullname</I> -- fully qualified path
+ filename of the executable 
</P>
<P STYLE="margin-bottom: 0in"><I>name</I> -- filename of the
executable with no path information 
</P>
<P STYLE="margin-bottom: 0in"><I>text_start, text_end</I> -- Start
and End addresses of program text segment 
</P>
<P STYLE="margin-bottom: 0in"><I>data_start, data_end</I> -- Start
and End addresses of program data segment 
</P>
<P STYLE="margin-bottom: 0in"><I>bss_start, bss_end</I> -- Start and
End addresses of program bss segment 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_executable_info4"></A>
On success, the C function returns a non-NULL pointer, and the
Fortran function returns <B>PAPI_OK.</B> <BR>On error, NULL is
returned by the C function, and a non-zero error code is returned by
the Fortran function. 
</P>
<H3 CLASS="western"><A NAME="papi_get_executable_info5"></A>ERRORS</H3>
<TABLE WIDTH=288 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=14>
	<COL WIDTH=263>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_executable_info6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>const
PAPI_exe_info_t *prginfo = NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((prginfo = PAPI_get_executable_info()) == NULL)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Path+Program:
%s0,exeinfo-&gt;fullname);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Program:
%s0,exeinfo-&gt;address_info.name);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Text
start: %p, Text end:
%p0,exeinfo-&gt;address_info.text_start,exeinfo-&gt;address_info.text_end);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Data
start: %p, Data end:
%p0,exeinfo-&gt;address_info.data_start,exeinfo-&gt;address_info.data_end);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Bss
start: %p, Bss end:
%p0,exeinfo-&gt;address_info.bss_start,exeinfo-&gt;address_info.bss_end);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">DATA STRUCTURES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_executable_info7"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
struct _papi_address_map {</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
name[PAPI_HUGE_STR_LEN];</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
text_start;       /* Start address of program text segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
text_end;         /* End address of program text segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
data_start;       /* Start address of program data segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
data_end;         /* End address of program data segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
bss_start;        /* Start address of program bss segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
bss_end;          /* End address of program bss segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_address_map_t;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
struct _papi_program_info {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>char
fullname[PAPI_HUGE_STR_LEN];  /* path+name */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_address_map_t
address_info;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_exe_info_t;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_executable_info8"></A>
Only the <I>text_start</I> and <I>text_end</I> fields are filled on
every architecture. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_executable_info9"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_hardware_info0">PAPI_get_hardware_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_opt0">PAPI_get_opt</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_hardware_info0"></A>
PAPI_get_hardware_info - get information about the system hardware 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_hardware_info1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>const PAPI_hw_info_t
*PAPI_get_hardware_info(void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><B>PAPIF_get_hardware_info(C_INT
</B><I>ncpu, </I><B>C_INT </B><I>nnodes, </I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
           <FONT FACE="Courier New, monospace"><FONT SIZE=2>C_INT 
totalcpus,  C_INT  vendor, </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
           <FONT FACE="Courier New, monospace"><FONT SIZE=2>C_STRING 
vendor_string,   C_INT  model, </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
           <FONT FACE="Courier New, monospace"><FONT SIZE=2>C_STRING 
model_string,</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
           <FONT FACE="Courier New, monospace"><FONT SIZE=2>C_FLOAT 
revision,  C_FLOAT  mhz)</FONT></FONT></P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_hardware_info2"></A>
In C, this function returns a pointer to a structure containing
information about the hardware on which the program runs. In Fortran,
the values of the structure are returned explicitly. 
</P>
<H3 CLASS="western">NOTE</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_hardware_info3"></A>
The C structure contains detailed information about cache and TLB
sizes. This information is not available from Fortran. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_hardware_info4"></A>
The following arguments are implicit in the structure returned by the
C function, or explicitly returned by Fortran. 
</P>
<P STYLE="margin-bottom: 0in"><I>ncpu</I> -- number of CPUs in an SMP
Node 
</P>
<P STYLE="margin-bottom: 0in"><I>nnodes</I> -- number of Nodes in the
entire system 
</P>
<P STYLE="margin-bottom: 0in"><I>totalcpus</I> -- total number of
CPUs in the entire system 
</P>
<P STYLE="margin-bottom: 0in"><I>vendor</I> -- vendor id number of
CPU 
</P>
<P STYLE="margin-bottom: 0in"><I>vendor_string</I> -- vendor id
string of CPU 
</P>
<P STYLE="margin-bottom: 0in"><I>model</I> -- model number of CPU 
</P>
<P STYLE="margin-bottom: 0in"><I>model_string</I> -- model string of
CPU 
</P>
<P STYLE="margin-bottom: 0in"><I>revision</I> -- Revision number of
CPU 
</P>
<P STYLE="margin-bottom: 0in"><I>mhz</I> -- Cycle time of this CPU;
*may* be an estimate generated at init time with a quick timing
routine 
</P>
<P STYLE="margin-bottom: 0in"><I>mem_hierarchy</I> -- PAPI memory
heirarchy description 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_hardware_info5"></A>
On success, the C function returns a non-NULL pointer, and the
Fortran function returns <B>PAPI_OK.</B> <BR>On error, NULL is
returned by the C function, and a non-zero error code is returned by
the Fortran function. 
</P>
<H3 CLASS="western"><A NAME="papi_get_hardware_info6"></A>ERRORS</H3>
<TABLE WIDTH=288 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=14>
	<COL WIDTH=263>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_hardware_info7"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>const
PAPI_hw_info_t *hwinfo = NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_library_init(PAPI_VER_CURRENT) != PAPI_VER_CURRENT)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((hwinfo = PAPI_get_hardware_info()) == NULL)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;%d
CPU’s at %f Mhz.\n&quot;,hwinfo-&gt;totalcpus,hwinfo-&gt;mhz);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">DATA STRUCTURE</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_hardware_info8"></A>
The C data structure returned by this function is found in <B>papi.h
and reproduced below:</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
struct _papi_mh_tlb_info {</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
type; /* See papi.h for PAPI_MH definitions. */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
num_entries;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
associativity;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_mh_tlb_info_t;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
struct _papi_mh_cache_info {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
type; /* See papi.h for PAPI_MH definitions. */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
size;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
line_size;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
num_lines;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
associativity;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_mh_cache_info_t;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
struct _papi_mh_level_info {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_mh_tlb_info_t
  tlb[2];</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_mh_cache_info_t
cache[2];</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_mh_level_t;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
struct _papi_mh_info { /* mh for mem hierarchy maybe? */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
levels;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_mh_level_t
level[PAPI_MAX_MEM_HIERARCHY_LEVELS];</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_mh_info_t;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
struct _papi_hw_info {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
ncpu;                     /* Number of CPU’s in an SMP Node */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
nnodes;                   /* Number of Nodes in the entire system */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
totalcpus;                /* Total number of CPU’s in the entire
system */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
vendor;                   /* Vendor number of CPU */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>char
vendor_string[PAPI_MAX_STR_LEN];     /* Vendor string of CPU */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
model;                    /* Model number of CPU */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>char
model_string[PAPI_MAX_STR_LEN];      /* Model string of CPU */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>float
revision;               /* Revision of CPU */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>float
mhz;                    /* Cycle time of this CPU, *may* be estimated
at</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">                                      
<FONT FACE="Courier New, monospace"><FONT SIZE=2>init time with a
quick timing routine */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">     <FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_mh_info_t
mem_hierarchy;  /* PAPI memory heirarchy description */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_hw_info_t;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_hardware_info9"></A>
If called before <B>PAPI_library_init()</B> the behavior of the
routine is undefined. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_hardware_info10"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_library_init0">PAPI_library_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_dmem_info0">PAPI_get_dmem_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_opt0">PAPI_get_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_executable_info0">PAPI_get_executable_info</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_multiplex0"></A>
PAPI_get_multiplex - get the multiplexing status of specified event
set PAPI_set_multiplex - convert a standard event set to a
multiplexed event set 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_multiplex1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_get_multiplex(int <I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_set_multiplex(int <I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_multiplex(C_INT
<I>EventSet, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_set_multiplex(C_INT
<I>EventSet, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_multiplex2"></A>
<B>PAPI_get_multiplex</B> tests the state of the <I>PAPI_MULTIPLEXING</I>
flag in the specified event set, returning <I>TRUE</I> if a PAPI
event set is multiplexed, or <I>FALSE</I> if not. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_set_multiplex</B> converts a
standard PAPI event set created by a call to <B>PAPI_create_eventset()</B>
into an event set capable of handling multiplexed events. This must
be done after calling <B>PAPI_multiplex_init()</B> , but prior to
calling <B>PAPI_start().</B> Events can be added to an event set
either before or after converting it into a multiplexed set, but the
conversion must be done prior to using it as a multiplexed set. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_multiplex3"></A>
<I>EventSet</I> -- an integer handle for a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_multiplex4"></A>
<B>PAPI_get_multiplex</B> returns either <I>TRUE</I> (positive
non-zero) if multiplexing is enabled for this event set, <I>FALSE</I>
(zero) if multiplexing is not enabled, or <I>PAPI_ENOEVST</I> if the
specified event set cannot be found. 
</P>
<P STYLE="margin-bottom: 0in">On success, <B>PAPI_get_multiplex</B>
returns <I>PAPI_OK.</I> On error, a non-zero error code is returned,
as described below. 
</P>
<H3 CLASS="western"><A NAME="papi_get_multiplex5"></A>ERRORS</H3>
<TABLE WIDTH=557 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=30>
	<COL WIDTH=515>
	<TR>
		<TD COLSPAN=2 WIDTH=551 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=30>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=515>
			<P CLASS="western">One or more of the arguments is invalid, or the
			EventSet is already multiplexed. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=551 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=30>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=515>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=551 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=30>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=515>
			<P CLASS="western">The EventSet is currently counting events. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=551 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=30>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=515>
			<P CLASS="western">Insufficient memory to complete the operation. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_multiplex6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_get_multiplex(EventSet);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval &gt; 0) printf(&quot;This event set is ready for
multiplexing0&quot;)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval == 0) printf(&quot;This event set is not enabled for
multiplexing0&quot;)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval &lt; 0) handle_error(retval);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_set_multiplex(EventSet);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval == PAPI_EINVAL) &amp;&amp; (PAPI_get_multiplex(EventSet) &gt;
0))</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;This
event set already has multiplexing enabled0);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>else
if (retval != PAPI_OK) handle_error(retval);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_multiplex7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_multiplex8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_multiplex_init0">PAPI_multiplex_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_opt0"></A>
PAPI_get_opt - get PAPI library or event set options <BR>PAPI_set_opt
- set PAPI library or event set options <BR>PAPIF_get_clockrate - get
the clockrate (Fortran only) <BR>PAPIF_get_domain - get the counting
domain (Fortran only) <BR>PAPIF_get_granularity - get the counting
granularity (Fortran only) <BR>PAPIF_get_preload - get the library
preload setting (Fortran only) 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_opt1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_get_opt(int
<I>option</I>, PAPI_option_t *<I>ptr</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_set_opt(int
<I>option</I>, PAPI_option_t *<I>ptr</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_clockrate(C_INT
<I>clockrate</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_domain(C_INT
<I>EventSet, </I>C_INT <I>domain, </I>C_INT <I>mode, </I>C_INT <I>check</I>)
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_granularity(C_INT
<I>EventSet, </I>C_INT <I>granularity, </I>C_INT <I>mode, </I>C_INT
<I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_preload(C_STRING
<I>preload, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_opt2"></A>
<B>PAPI_get_opt()</B> and <B>PAPI_set_opt()</B> query or change the
options of the PAPI library or a specific event set created by
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>.
The C interface for these functions passes a pointer to the
<I>PAPI_option_t</I> structure. Not all options require or return
information in this structure, and not all options are implemented
for both get and set. 
</P>
<P STYLE="margin-bottom: 0in">The Fortran interface is a series of
calls implementing various subsets of the C interface. Not all
options in C are available in Fortran. 
</P>
<P STYLE="margin-bottom: 0in"><B>NOTE:</B> Some options, such as
PAPI_DOMAIN and PAPI_MULTIPLEX, are also available as separate entry
points in both C and Fortran. 
</P>
<P STYLE="margin-bottom: 0in">The reader is urged to see the example
code in the PAPI distribution for usage of PAPI_get_opt. The file
<B>papi.h</B> contains definitions for the structures unioned in the
<I>PAPI_option_t</I> structure. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_opt3"></A>
<I>option</I> -- is an input parameter describing the course of
action. Possible values are defined in <B>papi.h</B> and briefly
described in the table below. The Fortran calls are implementations
of specific options. 
</P>
<P STYLE="margin-bottom: 0in"><I>ptr</I> -- is a pointer to a
structure that acts as both an input and output parameter. It is
defined in <B>papi.h</B> and below. 
</P>
<P STYLE="margin-bottom: 0in"><I>EventSet</I> -- input; a reference
to an EventSetInfo structure 
</P>
<P STYLE="margin-bottom: 0in"><I>clockrate</I> -- output; cycle time
of this CPU in MHz; *may* be an estimate generated at init time with
a quick timing routine 
</P>
<P STYLE="margin-bottom: 0in"><I>domain</I> -- output; execution
domain for which events are counted 
</P>
<P STYLE="margin-bottom: 0in"><I>granularity</I> -- output; execution
granularity for which events are counted 
</P>
<P STYLE="margin-bottom: 0in"><I>mode</I> -- input; determines if
domain or granularity are default or for the current event set 
</P>
<P STYLE="margin-bottom: 0in"><I>preload</I> -- output; environment
variable string for preloading libraries 
</P>
<H3 CLASS="western"><A NAME="papi_get_opt4"></A>OPTIONS TABLE</H3>
<TABLE WIDTH=676 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=179>
	<COL WIDTH=474>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Predefined name</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Explanation</B></P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=662 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>General information requests</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CLOCKRATE</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get clockrate in MHz. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_CPUS</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get number of CPUs. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_HWCTRS</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get number of counters. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_EXEINFO</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get Executable addresses for text/data/bss. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_HWINFO</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get information about the hardware. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SHLIBINFO</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get shared library information used by the
			program. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SUBSTRATEINFO</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get the PAPI features the substrate supports 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_LIB_VERSION</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get the full PAPI version of the library 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PRELOAD</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get ‘‘LD_PRELOAD’’ environment
			equivalent. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=662 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Defaults for the global library</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEFDOM</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set default counting domain for newly
			created event sets. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEFGRN</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set default counting granularity. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEBUG</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set the PAPI debug state and the debug
			handler. The available debug states are defined in papi.h. The
			debug state is available in ptr-&gt;debug.level. The debug handler
			is available in ptr-&gt;debug.handler. For information regarding
			the behavior of the handler, please see the man page for
			PAPI_set_debug. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=662 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Multiplexing control</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MULTIPLEX</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set options for multiplexing. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_MPX_CTRS</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get maximum number of multiplexing counters. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEF_MPX_USEC</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set the sampling time slice in microseconds
			for multiplexing. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=662 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Manipulating individual event
			sets</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_ATTACH</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get thread or process id to which event set is
			attached. Returns TRUE if currently attached. Set event set
			specified in ptr-&gt;ptr-&gt;attach.eventset to be attached to
			thread or process id specified in in ptr-&gt;attach.tid 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DETACH</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get thread or process id to which event set is
			attached. Returns TRUE if currently detached. Set event set
			specified in ptr-&gt;ptr-&gt;attach.eventset to be detached from
			any thread or process id. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOMAIN</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set domain for a single event set. The
			event set is specified in ptr-&gt;domain.eventset 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_GRANUL</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set granularity for a single event set. The
			event set is specified in ptr-&gt;granularity.eventset. Not
			implemented yet. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=662 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Platform specific options</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DATA_ADDRESS</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Set data address range to restrict event
			counting for event set specified in ptr-&gt;addr.eventset.
			Starting and ending addresses are specified in ptr-&gt;addr.start
			and ptr-&gt;addr.end, respectively. If exact addresses cannot be
			instantiated, offsets are returned in ptr-&gt;addr.start_off and
			ptr-&gt;addr.end_off. Currently implemented on Itanium only. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_INSTR_ADDRESS</B></P>
		</TD>
		<TD WIDTH=474 BGCOLOR="#e0e0e0">
			<P CLASS="western">Set instruction address range as described
			above. Itanium only. 
			</P>
		</TD>
	</TR>
</TABLE>
<P STYLE="margin-bottom: 0in">The <B>option_t *</B><I>ptr</I>
structure is defined in <B>papi.h</B> and looks something like the
following example from the source tree. Users should use the
definition in <B>papi.h</B> which is in synch with the library used. 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
union {</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_preload_option_t
preload;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_debug_option_t
debug;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_granularity_option_t
granularity;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_granularity_option_t
defgranularity;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_domain_option_t
domain;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_domain_option_t
defdomain;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_attach_option_t
attach;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_multiplex_option_t
multiplex;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_hw_info_t
*hw_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_shlib_info_t
*shlib_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_exe_info_t
*exe_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_substrate_info_t
*sub_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_overflow_option_t
ovf_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_addr_range_option_t
addr;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_option_t;</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_opt5"></A>
On success, these functions return <I>PAPI_OK.</I> On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_get_opt6"></A>ERRORS</H3>
<TABLE WIDTH=300 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=15>
	<COL WIDTH=274>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set is currently counting events. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_opt7"></A>
<BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_option_t
options;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((num = PAPI_get_opt(PAPI_MAX_HWCTRS,NULL)) &lt;= 0)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;This
machine has %d counters.0,num);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Set the domain of this EventSet</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>to
counter user and kernel modes for this</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>process
*/</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>memset(&amp;options,0x0,sizeof(options));</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>options.domain.eventset
= EventSet;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>options.domain.domain
= PAPI_DOM_ALL;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_set_opt(PAPI_DOMAIN, &amp;options) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_opt8"></A>
The granularity functions are not yet implemented. The domain
functions are only implemented on some platforms. There are no known
bugs in these functions. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_opt9"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_debug0">PAPI_set_debug</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_multiplex0">PAPI_set_multiplex</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_domain0">PAPI_set_domain</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_overflow_event_index0"></A>
PAPI_get_overflow_event_index - converts an overflow vector into an
array of indexes to overflowing events 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_overflow_event_index1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_get_overflow_event_index(int <I>EventSet</I>, long_long
<I>overflow_vector</I>, int *<I>array</I>, int *<I>number</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>Not implemented </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_get_overflow_event_index2"></A>
<B>PAPI_get_overflow_event_index</B> decomposes an overflow_vector
into an event index array in which the first element corresponds to
the least significant set bit in overflow_vector and so on. Based on
overflow_vector, the user can only tell which physical counters
overflowed. Using this function, the user can map overflowing
counters to specific events in the event set. An array is used in
this function to support the possibility of multiple simultaneous
overflow events. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_overflow_event_index3"></A>
<I>EventSet</I> -- an integer handle to a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>overflow_vector</I> -- a vector with
bits set for each counter that overflowed. This vector is passed by
the system to the overflow handler routine. 
</P>
<P STYLE="margin-bottom: 0in"><I>*array</I> -- an array of indexes
for events in <I>EventSet.</I> No more than <I>*number</I> indexes
will be stored into the <I>array.</I> 
</P>
<P STYLE="margin-bottom: 0in"><I>*number</I> -- On input the variable
determines the size of the <I>array.</I> <BR>On output the variable
contains the number of indexes in the <I>array.</I> 
</P>
<P STYLE="margin-bottom: 0in">Note that if the given <I>*array</I> is
too short to hold all the indexes correspond to the set bits in the
overflow_vector the <I>*number</I> variable will be set to the size
of <I>array.</I> 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_overflow_event_index4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_get_overflow_event_index5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments is invalid. This
			could occur if the <I>overflow_vector</I> is empty (zero), if the
			<I>array</I> or <I>number</I> pointers are NULL, if the value of
			<I>number</I> is less than one, or if the <I>EventSet</I> is
			empty. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The <I>EventSet</I> specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=35 VALIGN=TOP>
			<P CLASS="western"><BR>
			</P>
		</TD>
		<TD WIDTH=587 VALIGN=BOTTOM>
			<P CLASS="western"><BR>
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_overflow_event_index6"></A>
Create a user defined overflow handler routine that prints diagnostic
information about the overflow: 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>void
handler(int EventSet, void *address, long_long overflow_vector, void
*context)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>{</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
Events[4], number, i;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
total = 0, retval;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Overflow
#%d0 Handler(%d) Overflow at %p! vector=0x%llx0,</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>total,
EventSet, address, overflow_vector);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>total++;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>number
= 4;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_get_overflow_event_index(EventSet,</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
                 <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>overflow_vector,
Events, &amp;number);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if(retval
== PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>for(i=0;
i&lt;number; i++) printf(&quot;Event index[%d] = %d&quot;, i,
Events[i]);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_overflow_event_index7"></A>
This function may not return all overflowing events if used with
software-driven overflow of multiple derived events. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_overflow_event_index8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_overflow0">PAPI_overflow</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_real_cyc0"></A>
PAPI_get_real_cyc - get real time counter value in clock cycles 
</P>
<P STYLE="margin-bottom: 0in">PAPI_get_real_usec - get real time
counter value in microseconds 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_real_cyc1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>long_long
PAPI_get_real_cyc(void); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>long_long
PAPI_get_real_usec(void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_real_usec(C_LONG_LONG
<I>time)</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_real_cyc(C_LONG_LONG
<I>real_cyc)</I> </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_real_cyc2"></A>
Both of these functions return the total real time passed since some
arbitrary starting point. The time is returned in clock cycles or
microseconds respectively. These calls are equivalent to wall clock
time. 
</P>
<H3 CLASS="western">ERRORS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_real_cyc3"></A>
These functions always succeed. 
</P>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_real_cyc4"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>s
= PAPI_get_real_cyc();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>your_slow_code();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>e
= PAPI_get_real_cyc();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Wallclock
cycles: %lld\n&quot;,e-s);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_real_cyc5"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_real_cyc6"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_library_init0">PAPI_library_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_virt_cyc0">PAPI_get_virt_cyc</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_virt_usec0">PAPI_get_virt_usec</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_real_usec0"></A>
PAPI_get_real_cyc - get real time counter value in clock cycles 
</P>
<P STYLE="margin-bottom: 0in">PAPI_get_real_usec - get real time
counter value in microseconds 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_real_usec1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>long_long
PAPI_get_real_cyc(void); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>long_long
PAPI_get_real_usec(void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_real_usec(C_LONG_LONG
<I>time)</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_real_cyc(C_LONG_LONG
<I>real_cyc)</I> </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_real_usec2"></A>
Both of these functions return the total real time passed since some
arbitrary starting point. The time is returned in clock cycles or
microseconds respectively. These calls are equivalent to wall clock
time. 
</P>
<H3 CLASS="western">ERRORS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_real_usec3"></A>
These functions always succeed. 
</P>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_real_usec4"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>s
= PAPI_get_real_cyc();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>your_slow_code();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>e
= PAPI_get_real_cyc();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Wallclock
cycles: %lld\n&quot;,e-s);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_real_usec5"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_real_usec6"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_library_init0">PAPI_library_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_virt_cyc0">PAPI_get_virt_cyc</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_virt_usec0">PAPI_get_virt_usec</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_shared_lib_info0"></A>
PAPI_get_shared_lib_info - get address info about the shared
libraries used by the process 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_shared_lib_info1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>const
PAPI_shlib_info_t *PAPI_get_shared_lib_info(void); </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_shared_lib_info2"></A>
In C, this function returns a pointer to a structure containing
information about the shared library used by the program. There is no
Fortran equivalent call. 
</P>
<H3 CLASS="western">NOTE</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_shared_lib_info3"></A>
This data will be incorporated into the <B>PAPI_get_executable_info</B>
call in the future. will be deprecated and should be used with
caution. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_shared_lib_info4"></A>
On success, the function returns a non-NULL pointer. <BR>On error,
NULL is returned. 
</P>
<H3 CLASS="western">DATA STRUCTURE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_shared_lib_info5"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
struct _papi_address_map {</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
name[PAPI_MAX_STR_LEN];</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
text_start;       /* Start address of program text segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
text_end;         /* End address of program text segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
data_start;       /* Start address of program data segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
data_end;         /* End address of program data segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
bss_start;        /* Start address of program bss segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
bss_end;          /* End address of program bss segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_address_map_t;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
struct _papi_shared_lib_info {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_address_map_t
*map;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
count;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_shlib_info_t;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_shared_lib_info6"></A>
If called before <B>PAPI_library_init()</B> the behavior of the
routine is undefined. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_shared_lib_info7"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_library_init0">PAPI_library_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_opt0">PAPI_get_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_dmem_info0">PAPI_get_dmem_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_executable_info0">PAPI_get_executable_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_hardware_info0">PAPI_get_hardware_info</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_substrate_info0"></A>
PAPI_get_substrate_info - get information about the software
substrate 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_substrate_info1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>const
PAPI_substrate_info_t *PAPI_get_substrate_info(void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;none&gt; </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_substrate_info2"></A>
This function returns a pointer to a structure containing detailed
information about the software substrate on which the program runs.
This includes versioning information, preset and native event
information, details on event multiplexing, and more. For full
details, see the structure listing below. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_substrate_info3"></A>
On success, the function returns a non-NULL pointer. On error, a NULL
pointer is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_get_substrate_info4"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=52>
	<COL WIDTH=570>
	<TR>
		<TD WIDTH=52 VALIGN=TOP>
			<P CLASS="western">&lt;none&gt; 
			</P>
		</TD>
		<TD WIDTH=570 VALIGN=BOTTOM>
			<P CLASS="western"><BR>
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_substrate_info5"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>const
PAPI_substrate_info_t *sbinfo = NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_library_init(PAPI_VER_CURRENT) != PAPI_VER_CURRENT)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((sbinfo = PAPI_get_substrate_info()) == NULL)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;This
substrate supports %d Preset Events and %d Native events.0,</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>sbinfo-&gt;num_preset_events,
sbinfo-&gt;num_native_events);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">DATA STRUCTURE</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_substrate_info6"></A>
The C data structure returned by this function is found in <B>papi.h</B>
and reproduced below: 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
struct _papi_substrate_option {</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
name[PAPI_MAX_STR_LEN];            /* Name of the substrate we’re
using, usually CVS RCS Id */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
version[PAPI_MIN_STR_LEN];         /* Version of this substrate,
usually CVS Revision */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
support_version[PAPI_MIN_STR_LEN]; /* Version of the support library
*/</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
kernel_version[PAPI_MIN_STR_LEN];  /* Version of the kernel PMC
support driver */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
num_cntrs;               /* Number of hardware counters the substrate
supports */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
num_mpx_cntrs;           /* Number of hardware counters the substrate
or PAPI can multiplex supports */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
num_preset_events;       /* Number of preset events the substrate
supports */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
num_native_events;       /* Number of native events the substrate
supports */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
default_domain;          /* The default domain when this substrate is
used */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
available_domains;       /* Available domains */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
default_granularity;     /* The default granularity when this
substrate is used */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
available_granularities; /* Available granularities */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
multiplex_timer_sig;     /* Signal number used by the multiplex
timer, 0 if not */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
multiplex_timer_num;     /* Number of the itimer or POSIX 1 timer
used by the multiplex timer */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
multiplex_timer_us;   /* uS between switching of sets */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
hardware_intr_sig;       /* Signal used by hardware to deliver PMC
events */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
opcode_match_width;      /* Width of opcode matcher if exists, 0 if
not */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
reserved_ints[4];       </FONT></FONT></FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int hardware_intr:1;         /* hw overflow intr, does not need to be
emulated in software*/</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int precise_intr:1;          /* Performance interrupts happen
precisely */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int posix1b_timers:1;        /* Using POSIX 1b interval timers
(timer_create) instead of setitimer */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int kernel_profile:1;        /* Has kernel profiling support
(buffered interrupts or sprofil-like) */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int kernel_multiplex:1;      /* In kernel multiplexing */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int data_address_range:1;    /* Supports data address range limiting
*/</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int instr_address_range:1;   /* Supports instruction address range
limiting */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int fast_counter_read:1;     /* Supports a user level PMC read
instruction */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int fast_real_timer:1;       /* Supports a fast real timer */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int fast_virtual_timer:1;    /* Supports a fast virtual timer */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int attach:1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  /* Supports attach */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int attach_must_ptrace:1;&nbsp;   /* Attach must first ptrace and
stop the thread/process*/</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int edge_detect:1;           /* Supports edge detection on events */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int invert:1;                /* Supports invert detection on events
*/</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int profile_ear:1;      &nbsp;&nbsp;   /* Supports data/instr/tlb
miss address sampling */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int grouped_cntrs:1;         /* Underlying hardware uses counter
groups */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int reserved_bits:16;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_substrate_info_t;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_substrate_info7"></A>
If called before <B>PAPI_library_init()</B> the behavior of the
routine is undefined. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_substrate_info8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_library_init0">PAPI_library_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_opt0">PAPI_get_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_dmem_info0">PAPI_get_dmem_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_hardware_info0">PAPI_get_hardware_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_executable_info0">PAPI_get_executable_info</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_thr_specific0"></A>
PAPI_get_thr_specific, PAPI_set_thr_specific - Store or retrieve a
pointer to a thread specific data structure 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_thr_specific1"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_get_thr_specific(int tag, void **ptr); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_set_thr_specific(int tag, void *ptr); </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_thr_specific2"></A>
In C, PAPI_set_thr_specific will save ptr into an array indexed by
tag. PAPI_get_thr_specific will retrieve the pointer from the array
with index tag. There are 2 user available locations and tag can be
either PAPI_USR1_TLS or PAPI_USR2_TLS. The array mentioned above is
managed by PAPI and allocated to each thread which has called
PAPI_thread_init. There are no Fortran equivalent functions. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_get_thr_specific3"></A><I>tag</I>
-- An identifier, the value of which is either PAPI_USR1_TLS or
PAPI_USR2_TLS. This identifier indicates which of several data
structures associated with this thread is to be accessed. 
</P>
<P STYLE="margin-bottom: 0in"><I>ptr</I> -- A pointer to the memory
containing the data structure. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_thr_specific4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
negative error value is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_get_thr_specific5"></A>ERRORS</H3>
<TABLE WIDTH=240 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=11>
	<COL WIDTH=217>
	<TR>
		<TD COLSPAN=2 WIDTH=234 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=11>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=217>
			<P CLASS="western">The <I>tag</I> argument is out of range. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_thr_specific6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>HighLevelInfo
*state = NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval = PAPI_thread_init(pthread_self) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>/*</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>*
Do we have the thread specific data setup yet?</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>*/</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_get_thr_specific(PAPI_USR1_TLS, (void *) &amp;state))</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">       <FONT FACE="Courier New, monospace"><FONT SIZE=2>!=
PAPI_OK || state == NULL) {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>state
= (HighLevelInfo *) malloc(sizeof(HighLevelInfo));</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(state == NULL)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">         <FONT FACE="Courier New, monospace"><FONT SIZE=2>return
(PAPI_ESYS);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>memset(state,
0, sizeof(HighLevelInfo));</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>state-&gt;EventSet
= PAPI_NULL;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_create_eventset(&amp;state-&gt;EventSet)) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">         <FONT FACE="Courier New, monospace"><FONT SIZE=2>return
(PAPI_ESYS);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval=PAPI_set_thr_specific(PAPI_USR1_TLS, state))!=PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">         <FONT FACE="Courier New, monospace"><FONT SIZE=2>return
(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_thr_specific7"></A>
There are no known bugs in these functions. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_thr_specific8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>,
.BR PAPI_thread_id (3), <FONT COLOR="#0000ff"><U><A HREF="#papi_register_thread0">PAPI_register_thread</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_virt_cyc0"></A>
PAPI_get_virt_cyc - get virtual time counter value in clock cycles 
</P>
<P STYLE="margin-bottom: 0in">PAPI_get_virt_usec - get virtual time
counter values in microseconds 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_virt_cyc1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>long_long
PAPI_get_virt_cyc(void); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>long_long
PAPI_get_virt_usec(void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_virt_usec(C_LONG_LONG
<I>time)</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_virt_cyc(C_LONG_LONG
<I>virt_cyc)</I> </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_virt_cyc2"></A>
Both of these functions return the total number of virtual units from
some arbitrary starting point. Virtual units accrue every time the
process is running in user-mode on behalf of the process. Like the
real time counters, these are guaranteed to exist on every platform
PAPI supports. However on some platforms, the resolution can be as
bad as 1/Hz as defined by the operating system. 
</P>
<H3 CLASS="western">ERRORS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_virt_cyc3"></A>
The functions returns <B>PAPI_ECNFLCT</B> if there is no master event
set. This will happen if the library has not been initialized, or for
threaded applications, if there has been no thread id function
defined by the <B>PAPI_thread_init </B>function. 
</P>
<P STYLE="margin-bottom: 0in">For threaded applications, if there has
not yet been any thread specific master event created for the current
thread, and if the allocation of such an event set fails, the call
will return <B>PAPI_ENOMEM</B>or<B>PAPI_ESYS</B>. 
</P>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_virt_cyc4"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>s
= PAPI_get_virt_cyc();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>your_slow_code();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>e
= PAPI_get_virt_cyc();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Process
has run for cycles: %lld\n&quot;,e-s);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_virt_cyc5"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_virt_cyc6"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_library_init0">PAPI_library_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_real_usec0">PAPI_get_real_usec</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_real_cyc0">PAPI_get_real_cyc</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_virt_usec0"></A>
PAPI_get_virt_cyc - get virtual time counter value in clock cycles 
</P>
<P STYLE="margin-bottom: 0in">PAPI_get_virt_usec - get virtual time
counter values in microseconds 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_virt_usec1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>long_long
PAPI_get_virt_cyc(void); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>long_long
PAPI_get_virt_usec(void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_virt_usec(C_LONG_LONG
<I>time)</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_virt_cyc(C_LONG_LONG
<I>virt_cyc)</I> </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_virt_usec2"></A>
Both of these functions return the total number of virtual units from
some arbitrary starting point. Virtual units accrue every time the
process is running in user-mode on behalf of the process. Like the
real time counters, these are guaranteed to exist on every platform
PAPI supports. However on some platforms, the resolution can be as
bad as 1/Hz as defined by the operating system. 
</P>
<H3 CLASS="western">ERRORS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_virt_usec3"></A>
The functions returns <B>PAPI_ECNFLCT</B> if there is no master event
set. This will happen if the library has not been initialized, or for
threaded applications, if there has been no thread id function
defined by the <B>PAPI_thread_init </B>function. 
</P>
<P STYLE="margin-bottom: 0in">For threaded applications, if there has
not yet been any thread specific master event created for the current
thread, and if the allocation of such an event set fails, the call
will return <B>PAPI_ENOMEM</B>or<B>PAPI_ESYS</B>. 
</P>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_get_virt_usec4"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>s
= PAPI_get_virt_cyc();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>your_slow_code();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>e
= PAPI_get_virt_cyc();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Process
has run for cycles: %lld\n&quot;,e-s);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_virt_usec5"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_get_virt_usec6"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_library_init0">PAPI_library_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_real_usec0">PAPI_get_real_usec</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_real_cyc0">PAPI_get_real_cyc</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_clockrate0"></A>
PAPI_get_opt - get PAPI library or event set options <BR>PAPI_set_opt
- set PAPI library or event set options <BR>PAPIF_get_clockrate - get
the clockrate (Fortran only) <BR>PAPIF_get_domain - get the counting
domain (Fortran only) <BR>PAPIF_get_granularity - get the counting
granularity (Fortran only) <BR>PAPIF_get_preload - get the library
preload setting (Fortran only) 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_clockrate1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_get_opt(int
<I>option</I>, PAPI_option_t *<I>ptr</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_set_opt(int
<I>option</I>, PAPI_option_t *<I>ptr</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_clockrate(C_INT
<I>clockrate</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_domain(C_INT
<I>EventSet, </I>C_INT <I>domain, </I>C_INT <I>mode, </I>C_INT <I>check</I>)
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_granularity(C_INT
<I>EventSet, </I>C_INT <I>granularity, </I>C_INT <I>mode, </I>C_INT
<I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_preload(C_STRING
<I>preload, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_clockrate2"></A>
<B>PAPI_get_opt()</B> and <B>PAPI_set_opt()</B> query or change the
options of the PAPI library or a specific event set created by
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>.
The C interface for these functions passes a pointer to the
<I>PAPI_option_t</I> structure. Not all options require or return
information in this structure, and not all options are implemented
for both get and set. 
</P>
<P STYLE="margin-bottom: 0in">The Fortran interface is a series of
calls implementing various subsets of the C interface. Not all
options in C are available in Fortran. 
</P>
<P STYLE="margin-bottom: 0in"><B>NOTE:</B> Some options, such as
PAPI_DOMAIN and PAPI_MULTIPLEX, are also available as separate entry
points in both C and Fortran. 
</P>
<P STYLE="margin-bottom: 0in">The reader is urged to see the example
code in the PAPI distribution for usage of PAPI_get_opt. The file
<B>papi.h</B> contains definitions for the structures unioned in the
<I>PAPI_option_t</I> structure. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_clockrate3"></A>
<I>option</I> -- is an input parameter describing the course of
action. Possible values are defined in <B>papi.h</B> and briefly
described in the table below. The Fortran calls are implementations
of specific options. 
</P>
<P STYLE="margin-bottom: 0in"><I>ptr</I> -- is a pointer to a
structure that acts as both an input and output parameter. It is
defined in <B>papi.h</B> and below. 
</P>
<P STYLE="margin-bottom: 0in"><I>EventSet</I> -- input; a reference
to an EventSetInfo structure 
</P>
<P STYLE="margin-bottom: 0in"><I>clockrate</I> -- output; cycle time
of this CPU in MHz; *may* be an estimate generated at init time with
a quick timing routine 
</P>
<P STYLE="margin-bottom: 0in"><I>domain</I> -- output; execution
domain for which events are counted 
</P>
<P STYLE="margin-bottom: 0in"><I>granularity</I> -- output; execution
granularity for which events are counted 
</P>
<P STYLE="margin-bottom: 0in"><I>mode</I> -- input; determines if
domain or granularity are default or for the current event set 
</P>
<P STYLE="margin-bottom: 0in"><I>preload</I> -- output; environment
variable string for preloading libraries 
</P>
<H3 CLASS="western"><A NAME="papif_get_clockrate4"></A>OPTIONS TABLE</H3>
<TABLE WIDTH=636 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=179>
	<COL WIDTH=434>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Predefined name</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Explanation</B></P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>General information requests</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CLOCKRATE</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get clockrate in MHz. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_CPUS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get number of CPUs. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_HWCTRS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get number of counters. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_EXEINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get Executable addresses for text/data/bss. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_HWINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get information about the hardware. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SHLIBINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get shared library information used by the
			program. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SUBSTRATEINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get the PAPI features the substrate supports 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_LIB_VERSION</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get the full PAPI version of the library 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PRELOAD</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get ‘‘LD_PRELOAD’’ environment
			equivalent. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Defaults for the global library</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEFDOM</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set default counting domain for newly
			created event sets. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEFGRN</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set default counting granularity. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEBUG</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set the PAPI debug state and the debug
			handler. The available debug states are defined in papi.h. The
			debug state is available in ptr-&gt;debug.level. The debug handler
			is available in ptr-&gt;debug.handler. For information regarding
			the behavior of the handler, please see the man page for
			PAPI_set_debug. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Multiplexing control</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MULTIPLEX</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set options for multiplexing. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_MPX_CTRS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get maximum number of multiplexing counters. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEF_MPX_USEC</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set the sampling time slice in microseconds
			for multiplexing. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Manipulating individual event
			sets</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_ATTACH</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get thread or process id to which event set is
			attached. Returns TRUE if currently attached. Set event set
			specified in ptr-&gt;ptr-&gt;attach.eventset to be attached to
			thread or process id specified in in ptr-&gt;attach.tid 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DETACH</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get thread or process id to which event set is
			attached. Returns TRUE if currently detached. Set event set
			specified in ptr-&gt;ptr-&gt;attach.eventset to be detached from
			any thread or process id. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOMAIN</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set domain for a single event set. The
			event set is specified in ptr-&gt;domain.eventset 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_GRANUL</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set granularity for a single event set. The
			event set is specified in ptr-&gt;granularity.eventset. Not
			implemented yet. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Platform specific options</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DATA_ADDRESS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Set data address range to restrict event
			counting for event set specified in ptr-&gt;addr.eventset.
			Starting and ending addresses are specified in ptr-&gt;addr.start
			and ptr-&gt;addr.end, respectively. If exact addresses cannot be
			instantiated, offsets are returned in ptr-&gt;addr.start_off and
			ptr-&gt;addr.end_off. Currently implemented on Itanium only. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_INSTR_ADDRESS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Set instruction address range as described
			above. Itanium only. 
			</P>
		</TD>
	</TR>
</TABLE>
<P STYLE="margin-bottom: 0in">The <B>option_t *</B><I>ptr</I>
structure is defined in <B>papi.h</B> and looks something like the
following example from the source tree. Users should use the
definition in <B>papi.h</B> which is in synch with the library used. 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
union {</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_preload_option_t
preload;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_debug_option_t
debug;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_granularity_option_t
granularity;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_granularity_option_t
defgranularity;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_domain_option_t
domain;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_domain_option_t
defdomain;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_attach_option_t
attach;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_multiplex_option_t
multiplex;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_hw_info_t
*hw_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_shlib_info_t
*shlib_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_exe_info_t
*exe_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_substrate_info_t
*sub_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_overflow_option_t
ovf_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_addr_range_option_t
addr;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_option_t;</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_clockrate5"></A>
On success, these functions return <I>PAPI_OK.</I> On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papif_get_clockrate6"></A>ERRORS</H3>
<TABLE WIDTH=300 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=15>
	<COL WIDTH=274>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set is currently counting events. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papif_get_clockrate7"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_option_t
options;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((num = PAPI_get_opt(PAPI_MAX_HWCTRS,NULL)) &lt;= 0)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;This
machine has %d counters.0,num);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Set the domain of this EventSet</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>to
counter user and kernel modes for this</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>process
*/</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>memset(&amp;options,0x0,sizeof(options));</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>options.domain.eventset
= EventSet;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>options.domain.domain
= PAPI_DOM_ALL;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_set_opt(PAPI_DOMAIN, &amp;options) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_clockrate8"></A>
The granularity functions are not yet implemented. The domain
functions are only implemented on some platforms. There are no known
bugs in these functions. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_clockrate9"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_debug0">PAPI_set_debug</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_multiplex0">PAPI_set_multiplex</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_domain0">PAPI_set_domain</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_domain0"></A>
PAPI_get_opt - get PAPI library or event set options <BR>PAPI_set_opt
- set PAPI library or event set options <BR>PAPIF_get_clockrate - get
the clockrate (Fortran only) <BR>PAPIF_get_domain - get the counting
domain (Fortran only) <BR>PAPIF_get_granularity - get the counting
granularity (Fortran only) <BR>PAPIF_get_preload - get the library
preload setting (Fortran only) 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_domain1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_get_opt(int
<I>option</I>, PAPI_option_t *<I>ptr</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_set_opt(int
<I>option</I>, PAPI_option_t *<I>ptr</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_clockrate(C_INT
<I>clockrate</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_domain(C_INT
<I>EventSet, </I>C_INT <I>domain, </I>C_INT <I>mode, </I>C_INT <I>check</I>)
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_granularity(C_INT
<I>EventSet, </I>C_INT <I>granularity, </I>C_INT <I>mode, </I>C_INT
<I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_preload(C_STRING
<I>preload, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_domain2"></A>
<B>PAPI_get_opt()</B> and <B>PAPI_set_opt()</B> query or change the
options of the PAPI library or a specific event set created by
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>.
The C interface for these functions passes a pointer to the
<I>PAPI_option_t</I> structure. Not all options require or return
information in this structure, and not all options are implemented
for both get and set. 
</P>
<P STYLE="margin-bottom: 0in">The Fortran interface is a series of
calls implementing various subsets of the C interface. Not all
options in C are available in Fortran. 
</P>
<P STYLE="margin-bottom: 0in"><B>NOTE:</B> Some options, such as
PAPI_DOMAIN and PAPI_MULTIPLEX, are also available as separate entry
points in both C and Fortran. 
</P>
<P STYLE="margin-bottom: 0in">The reader is urged to see the example
code in the PAPI distribution for usage of PAPI_get_opt. The file
<B>papi.h</B> contains definitions for the structures unioned in the
<I>PAPI_option_t</I> structure. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_domain3"></A>
<I>option</I> -- is an input parameter describing the course of
action. Possible values are defined in <B>papi.h</B> and briefly
described in the table below. The Fortran calls are implementations
of specific options. 
</P>
<P STYLE="margin-bottom: 0in"><I>ptr</I> -- is a pointer to a
structure that acts as both an input and output parameter. It is
defined in <B>papi.h</B> and below. 
</P>
<P STYLE="margin-bottom: 0in"><I>EventSet</I> -- input; a reference
to an EventSetInfo structure 
</P>
<P STYLE="margin-bottom: 0in"><I>clockrate</I> -- output; cycle time
of this CPU in MHz; *may* be an estimate generated at init time with
a quick timing routine 
</P>
<P STYLE="margin-bottom: 0in"><I>domain</I> -- output; execution
domain for which events are counted 
</P>
<P STYLE="margin-bottom: 0in"><I>granularity</I> -- output; execution
granularity for which events are counted 
</P>
<P STYLE="margin-bottom: 0in"><I>mode</I> -- input; determines if
domain or granularity are default or for the current event set 
</P>
<P STYLE="margin-bottom: 0in"><I>preload</I> -- output; environment
variable string for preloading libraries 
</P>
<H3 CLASS="western"><A NAME="papif_get_domain4"></A>OPTIONS TABLE</H3>
<TABLE WIDTH=636 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=179>
	<COL WIDTH=434>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Predefined name</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Explanation</B></P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>General information requests</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CLOCKRATE</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get clockrate in MHz. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_CPUS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get number of CPUs. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_HWCTRS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get number of counters. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_EXEINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get Executable addresses for text/data/bss. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_HWINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get information about the hardware. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SHLIBINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get shared library information used by the
			program. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SUBSTRATEINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get the PAPI features the substrate supports 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_LIB_VERSION</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get the full PAPI version of the library 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PRELOAD</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get ‘‘LD_PRELOAD’’ environment
			equivalent. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Defaults for the global library</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEFDOM</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set default counting domain for newly
			created event sets. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEFGRN</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set default counting granularity. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEBUG</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set the PAPI debug state and the debug
			handler. The available debug states are defined in papi.h. The
			debug state is available in ptr-&gt;debug.level. The debug handler
			is available in ptr-&gt;debug.handler. For information regarding
			the behavior of the handler, please see the man page for
			PAPI_set_debug. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Multiplexing control</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MULTIPLEX</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set options for multiplexing. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_MPX_CTRS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get maximum number of multiplexing counters. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEF_MPX_USEC</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set the sampling time slice in microseconds
			for multiplexing. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Manipulating individual event
			sets</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_ATTACH</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get thread or process id to which event set is
			attached. Returns TRUE if currently attached. Set event set
			specified in ptr-&gt;ptr-&gt;attach.eventset to be attached to
			thread or process id specified in in ptr-&gt;attach.tid 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DETACH</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get thread or process id to which event set is
			attached. Returns TRUE if currently detached. Set event set
			specified in ptr-&gt;ptr-&gt;attach.eventset to be detached from
			any thread or process id. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOMAIN</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set domain for a single event set. The
			event set is specified in ptr-&gt;domain.eventset 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_GRANUL</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set granularity for a single event set. The
			event set is specified in ptr-&gt;granularity.eventset. Not
			implemented yet. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Platform specific options</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DATA_ADDRESS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Set data address range to restrict event
			counting for event set specified in ptr-&gt;addr.eventset.
			Starting and ending addresses are specified in ptr-&gt;addr.start
			and ptr-&gt;addr.end, respectively. If exact addresses cannot be
			instantiated, offsets are returned in ptr-&gt;addr.start_off and
			ptr-&gt;addr.end_off. Currently implemented on Itanium only. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_INSTR_ADDRESS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Set instruction address range as described
			above. Itanium only. 
			</P>
		</TD>
	</TR>
</TABLE>
<P STYLE="margin-bottom: 0in">The <B>option_t *</B><I>ptr</I>
structure is defined in <B>papi.h</B> and looks something like the
following example from the source tree. Users should use the
definition in <B>papi.h</B> which is in synch with the library used. 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
union {</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_preload_option_t
preload;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_debug_option_t
debug;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_granularity_option_t
granularity;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_granularity_option_t
defgranularity;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_domain_option_t
domain;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_domain_option_t
defdomain;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_attach_option_t
attach;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_multiplex_option_t
multiplex;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_hw_info_t
*hw_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_shlib_info_t
*shlib_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_exe_info_t
*exe_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_substrate_info_t
*sub_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_overflow_option_t
ovf_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_addr_range_option_t
addr;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_option_t;</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_domain5"></A>
On success, these functions return <I>PAPI_OK.</I> On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papif_get_domain6"></A>ERRORS</H3>
<TABLE WIDTH=300 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=15>
	<COL WIDTH=274>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set is currently counting events. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papif_get_domain7"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_option_t
options;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((num = PAPI_get_opt(PAPI_MAX_HWCTRS,NULL)) &lt;= 0)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;This
machine has %d counters.0,num);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Set the domain of this EventSet</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>to
counter user and kernel modes for this</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>process
*/</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>memset(&amp;options,0x0,sizeof(options));</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>options.domain.eventset
= EventSet;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>options.domain.domain
= PAPI_DOM_ALL;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_set_opt(PAPI_DOMAIN, &amp;options) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_domain8"></A>
The granularity functions are not yet implemented. The domain
functions are only implemented on some platforms. There are no known
bugs in these functions. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_domain9"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_debug0">PAPI_set_debug</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_multiplex0">PAPI_set_multiplex</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_domain0">PAPI_set_domain</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_exe_info0"></A>
PAPI_get_executable_info - get the executable’s address space info 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_exe_info1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>const
PAPI_exe_info_t *PAPI_get_executable_info(void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_exe_info(C_STRING
<I>fullname,</I> C_STRING <I>name,</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
       <FONT FACE="Courier New, monospace"><FONT SIZE=2>C_LONG_LONG
<I>text_start,</I> C_LONG_LONG <I>text_end,</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
       <FONT FACE="Courier New, monospace"><FONT SIZE=2>C_LONG_LONG
<I>data_start,</I> C_LONG_LONG <I>data_end,</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
       <FONT FACE="Courier New, monospace"><FONT SIZE=2>C_LONG_LONG
<I>bss_start,</I>  C_LONG_LONG <I>bss_end,</I> C_INT <I>check)</I> </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_exe_info2"></A>
In C, this function returns a pointer to a structure containing
information about the current program. In Fortran, the fields of the
structure are returned explicitly. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_exe_info3"></A>
The following arguments are implicit in the structure returned by the
C function, or explicitly returned by Fortran. 
</P>
<P STYLE="margin-bottom: 0in"><I>fullname</I> -- fully qualified path
+ filename of the executable 
</P>
<P STYLE="margin-bottom: 0in"><I>name</I> -- filename of the
executable with no path information 
</P>
<P STYLE="margin-bottom: 0in"><I>text_start, text_end</I> -- Start
and End addresses of program text segment 
</P>
<P STYLE="margin-bottom: 0in"><I>data_start, data_end</I> -- Start
and End addresses of program data segment 
</P>
<P STYLE="margin-bottom: 0in"><I>bss_start, bss_end</I> -- Start and
End addresses of program bss segment 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_exe_info4"></A>
On success, the C function returns a non-NULL pointer, and the
Fortran function returns <B>PAPI_OK.</B> <BR>On error, NULL is
returned by the C function, and a non-zero error code is returned by
the Fortran function. 
</P>
<H3 CLASS="western"><A NAME="papif_get_exe_info5"></A>ERRORS</H3>
<TABLE WIDTH=288 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=14>
	<COL WIDTH=263>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papif_get_exe_info6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>const
PAPI_exe_info_t *prginfo = NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((prginfo = PAPI_get_executable_info()) == NULL)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Path+Program:
%s0,exeinfo-&gt;fullname);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Program:
%s0,exeinfo-&gt;address_info.name);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Text
start: %p, Text end:
%p0,exeinfo-&gt;address_info.text_start,exeinfo-&gt;address_info.text_end);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Data
start: %p, Data end:
%p0,exeinfo-&gt;address_info.data_start,exeinfo-&gt;address_info.data_end);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Bss
start: %p, Bss end:
%p0,exeinfo-&gt;address_info.bss_start,exeinfo-&gt;address_info.bss_end);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">DATA STRUCTURES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papif_get_exe_info7"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
struct _papi_address_map {</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
name[PAPI_HUGE_STR_LEN];</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
text_start;       /* Start address of program text segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
text_end;         /* End address of program text segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
data_start;       /* Start address of program data segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
data_end;         /* End address of program data segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
bss_start;        /* Start address of program bss segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>caddr_t
bss_end;          /* End address of program bss segment */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_address_map_t;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
struct _papi_program_info {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>char
fullname[PAPI_HUGE_STR_LEN];  /* path+name */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_address_map_t
address_info;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_exe_info_t;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_exe_info8"></A>
Only the <I>text_start</I> and <I>text_end</I> fields are filled on
every architecture. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_exe_info9"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_hardware_info0">PAPI_get_hardware_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_opt0">PAPI_get_opt</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_granularity0"></A>
PAPI_get_opt - get PAPI library or event set options <BR>PAPI_set_opt
- set PAPI library or event set options <BR>PAPIF_get_clockrate - get
the clockrate (Fortran only) <BR>PAPIF_get_domain - get the counting
domain (Fortran only) <BR>PAPIF_get_granularity - get the counting
granularity (Fortran only) <BR>PAPIF_get_preload - get the library
preload setting (Fortran only) 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_granularity1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_get_opt(int
<I>option</I>, PAPI_option_t *<I>ptr</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_set_opt(int
<I>option</I>, PAPI_option_t *<I>ptr</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_clockrate(C_INT
<I>clockrate</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_domain(C_INT
<I>EventSet, </I>C_INT <I>domain, </I>C_INT <I>mode, </I>C_INT <I>check</I>)
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_granularity(C_INT
<I>EventSet, </I>C_INT <I>granularity, </I>C_INT <I>mode, </I>C_INT
<I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_preload(C_STRING
<I>preload, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_granularity2"></A>
<B>PAPI_get_opt()</B> and <B>PAPI_set_opt()</B> query or change the
options of the PAPI library or a specific event set created by
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>.
The C interface for these functions passes a pointer to the
<I>PAPI_option_t</I> structure. Not all options require or return
information in this structure, and not all options are implemented
for both get and set. 
</P>
<P STYLE="margin-bottom: 0in">The Fortran interface is a series of
calls implementing various subsets of the C interface. Not all
options in C are available in Fortran. 
</P>
<P STYLE="margin-bottom: 0in"><B>NOTE:</B> Some options, such as
PAPI_DOMAIN and PAPI_MULTIPLEX, are also available as separate entry
points in both C and Fortran. 
</P>
<P STYLE="margin-bottom: 0in">The reader is urged to see the example
code in the PAPI distribution for usage of PAPI_get_opt. The file
<B>papi.h</B> contains definitions for the structures unioned in the
<I>PAPI_option_t</I> structure. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_granularity3"></A>
<I>option</I> -- is an input parameter describing the course of
action. Possible values are defined in <B>papi.h</B> and briefly
described in the table below. The Fortran calls are implementations
of specific options. 
</P>
<P STYLE="margin-bottom: 0in"><I>ptr</I> -- is a pointer to a
structure that acts as both an input and output parameter. It is
defined in <B>papi.h</B> and below. 
</P>
<P STYLE="margin-bottom: 0in"><I>EventSet</I> -- input; a reference
to an EventSetInfo structure 
</P>
<P STYLE="margin-bottom: 0in"><I>clockrate</I> -- output; cycle time
of this CPU in MHz; *may* be an estimate generated at init time with
a quick timing routine 
</P>
<P STYLE="margin-bottom: 0in"><I>domain</I> -- output; execution
domain for which events are counted 
</P>
<P STYLE="margin-bottom: 0in"><I>granularity</I> -- output; execution
granularity for which events are counted 
</P>
<P STYLE="margin-bottom: 0in"><I>mode</I> -- input; determines if
domain or granularity are default or for the current event set 
</P>
<P STYLE="margin-bottom: 0in"><I>preload</I> -- output; environment
variable string for preloading libraries 
</P>
<H3 CLASS="western"><A NAME="papif_get_granularity4"></A>OPTIONS
TABLE</H3>
<TABLE WIDTH=636 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=179>
	<COL WIDTH=434>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Predefined name</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Explanation</B></P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>General information requests</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CLOCKRATE</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get clockrate in MHz. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_CPUS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get number of CPUs. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_HWCTRS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get number of counters. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_EXEINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get Executable addresses for text/data/bss. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_HWINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get information about the hardware. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SHLIBINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get shared library information used by the
			program. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SUBSTRATEINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get the PAPI features the substrate supports 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_LIB_VERSION</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get the full PAPI version of the library 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PRELOAD</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get ‘‘LD_PRELOAD’’ environment
			equivalent. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Defaults for the global library</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEFDOM</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set default counting domain for newly
			created event sets. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEFGRN</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set default counting granularity. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEBUG</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set the PAPI debug state and the debug
			handler. The available debug states are defined in papi.h. The
			debug state is available in ptr-&gt;debug.level. The debug handler
			is available in ptr-&gt;debug.handler. For information regarding
			the behavior of the handler, please see the man page for
			PAPI_set_debug. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Multiplexing control</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MULTIPLEX</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set options for multiplexing. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_MPX_CTRS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get maximum number of multiplexing counters. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEF_MPX_USEC</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set the sampling time slice in microseconds
			for multiplexing. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Manipulating individual event
			sets</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_ATTACH</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get thread or process id to which event set is
			attached. Returns TRUE if currently attached. Set event set
			specified in ptr-&gt;ptr-&gt;attach.eventset to be attached to
			thread or process id specified in in ptr-&gt;attach.tid 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DETACH</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get thread or process id to which event set is
			attached. Returns TRUE if currently detached. Set event set
			specified in ptr-&gt;ptr-&gt;attach.eventset to be detached from
			any thread or process id. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOMAIN</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set domain for a single event set. The
			event set is specified in ptr-&gt;domain.eventset 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_GRANUL</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set granularity for a single event set. The
			event set is specified in ptr-&gt;granularity.eventset. Not
			implemented yet. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Platform specific options</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DATA_ADDRESS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Set data address range to restrict event
			counting for event set specified in ptr-&gt;addr.eventset.
			Starting and ending addresses are specified in ptr-&gt;addr.start
			and ptr-&gt;addr.end, respectively. If exact addresses cannot be
			instantiated, offsets are returned in ptr-&gt;addr.start_off and
			ptr-&gt;addr.end_off. Currently implemented on Itanium only. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_INSTR_ADDRESS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Set instruction address range as described
			above. Itanium only. 
			</P>
		</TD>
	</TR>
</TABLE>
<P STYLE="margin-bottom: 0in">The <B>option_t *</B><I>ptr</I>
structure is defined in <B>papi.h</B> and looks something like the
following example from the source tree. Users should use the
definition in <B>papi.h</B> which is in synch with the library used. 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
union {</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_preload_option_t
preload;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_debug_option_t
debug;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_granularity_option_t
granularity;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_granularity_option_t
defgranularity;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_domain_option_t
domain;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_domain_option_t
defdomain;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_attach_option_t
attach;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_multiplex_option_t
multiplex;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_hw_info_t
*hw_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_shlib_info_t
*shlib_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_exe_info_t
*exe_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_substrate_info_t
*sub_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_overflow_option_t
ovf_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_addr_range_option_t
addr;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_option_t;</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_granularity5"></A>
On success, these functions return <I>PAPI_OK.</I> On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papif_get_granularity6"></A>ERRORS</H3>
<TABLE WIDTH=300 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=15>
	<COL WIDTH=274>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set is currently counting events. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papif_get_granularity7"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_option_t
options;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((num = PAPI_get_opt(PAPI_MAX_HWCTRS,NULL)) &lt;= 0)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;This
machine has %d counters.0,num);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Set the domain of this EventSet</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>to
counter user and kernel modes for this</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>process
*/</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>memset(&amp;options,0x0,sizeof(options));</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>options.domain.eventset
= EventSet;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>options.domain.domain
= PAPI_DOM_ALL;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_set_opt(PAPI_DOMAIN, &amp;options) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_granularity8"></A>
The granularity functions are not yet implemented. The domain
functions are only implemented on some platforms. There are no known
bugs in these functions. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_granularity9"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_debug0">PAPI_set_debug</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_multiplex0">PAPI_set_multiplex</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_domain0">PAPI_set_domain</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_preload0"></A>
PAPI_get_opt - get PAPI library or event set options <BR>PAPI_set_opt
- set PAPI library or event set options <BR>PAPIF_get_clockrate - get
the clockrate (Fortran only) <BR>PAPIF_get_domain - get the counting
domain (Fortran only) <BR>PAPIF_get_granularity - get the counting
granularity (Fortran only) <BR>PAPIF_get_preload - get the library
preload setting (Fortran only) 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_preload1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_get_opt(int
<I>option</I>, PAPI_option_t *<I>ptr</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_set_opt(int
<I>option</I>, PAPI_option_t *<I>ptr</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_clockrate(C_INT
<I>clockrate</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_domain(C_INT
<I>EventSet, </I>C_INT <I>domain, </I>C_INT <I>mode, </I>C_INT <I>check</I>)
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_granularity(C_INT
<I>EventSet, </I>C_INT <I>granularity, </I>C_INT <I>mode, </I>C_INT
<I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_preload(C_STRING
<I>preload, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_preload2"></A>
<B>PAPI_get_opt()</B> and <B>PAPI_set_opt()</B> query or change the
options of the PAPI library or a specific event set created by
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>.
The C interface for these functions passes a pointer to the
<I>PAPI_option_t</I> structure. Not all options require or return
information in this structure, and not all options are implemented
for both get and set. 
</P>
<P STYLE="margin-bottom: 0in">The Fortran interface is a series of
calls implementing various subsets of the C interface. Not all
options in C are available in Fortran. 
</P>
<P STYLE="margin-bottom: 0in"><B>NOTE:</B> Some options, such as
PAPI_DOMAIN and PAPI_MULTIPLEX, are also available as separate entry
points in both C and Fortran. 
</P>
<P STYLE="margin-bottom: 0in">The reader is urged to see the example
code in the PAPI distribution for usage of PAPI_get_opt. The file
<B>papi.h</B> contains definitions for the structures unioned in the
<I>PAPI_option_t</I> structure. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_preload3"></A>
<I>option</I> -- is an input parameter describing the course of
action. Possible values are defined in <B>papi.h</B> and briefly
described in the table below. The Fortran calls are implementations
of specific options. 
</P>
<P STYLE="margin-bottom: 0in"><I>ptr</I> -- is a pointer to a
structure that acts as both an input and output parameter. It is
defined in <B>papi.h</B> and below. 
</P>
<P STYLE="margin-bottom: 0in"><I>EventSet</I> -- input; a reference
to an EventSetInfo structure 
</P>
<P STYLE="margin-bottom: 0in"><I>clockrate</I> -- output; cycle time
of this CPU in MHz; *may* be an estimate generated at init time with
a quick timing routine 
</P>
<P STYLE="margin-bottom: 0in"><I>domain</I> -- output; execution
domain for which events are counted 
</P>
<P STYLE="margin-bottom: 0in"><I>granularity</I> -- output; execution
granularity for which events are counted 
</P>
<P STYLE="margin-bottom: 0in"><I>mode</I> -- input; determines if
domain or granularity are default or for the current event set 
</P>
<P STYLE="margin-bottom: 0in"><I>preload</I> -- output; environment
variable string for preloading libraries 
</P>
<H3 CLASS="western"><A NAME="papif_get_preload4"></A>OPTIONS TABLE</H3>
<TABLE WIDTH=636 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=179>
	<COL WIDTH=434>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Predefined name</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Explanation</B></P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>General information requests</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CLOCKRATE</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get clockrate in MHz. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_CPUS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get number of CPUs. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_HWCTRS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get number of counters. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_EXEINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get Executable addresses for text/data/bss. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_HWINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get information about the hardware. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SHLIBINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get shared library information used by the
			program. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SUBSTRATEINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get the PAPI features the substrate supports 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_LIB_VERSION</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get the full PAPI version of the library 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PRELOAD</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get ‘‘LD_PRELOAD’’ environment
			equivalent. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Defaults for the global library</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEFDOM</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set default counting domain for newly
			created event sets. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEFGRN</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set default counting granularity. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEBUG</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set the PAPI debug state and the debug
			handler. The available debug states are defined in papi.h. The
			debug state is available in ptr-&gt;debug.level. The debug handler
			is available in ptr-&gt;debug.handler. For information regarding
			the behavior of the handler, please see the man page for
			PAPI_set_debug. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Multiplexing control</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MULTIPLEX</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set options for multiplexing. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_MPX_CTRS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get maximum number of multiplexing counters. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEF_MPX_USEC</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set the sampling time slice in microseconds
			for multiplexing. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Manipulating individual event
			sets</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_ATTACH</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get thread or process id to which event set is
			attached. Returns TRUE if currently attached. Set event set
			specified in ptr-&gt;ptr-&gt;attach.eventset to be attached to
			thread or process id specified in in ptr-&gt;attach.tid 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DETACH</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get thread or process id to which event set is
			attached. Returns TRUE if currently detached. Set event set
			specified in ptr-&gt;ptr-&gt;attach.eventset to be detached from
			any thread or process id. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOMAIN</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set domain for a single event set. The
			event set is specified in ptr-&gt;domain.eventset 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_GRANUL</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set granularity for a single event set. The
			event set is specified in ptr-&gt;granularity.eventset. Not
			implemented yet. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Platform specific options</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DATA_ADDRESS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Set data address range to restrict event
			counting for event set specified in ptr-&gt;addr.eventset.
			Starting and ending addresses are specified in ptr-&gt;addr.start
			and ptr-&gt;addr.end, respectively. If exact addresses cannot be
			instantiated, offsets are returned in ptr-&gt;addr.start_off and
			ptr-&gt;addr.end_off. Currently implemented on Itanium only. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_INSTR_ADDRESS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Set instruction address range as described
			above. Itanium only. 
			</P>
		</TD>
	</TR>
</TABLE>
<P STYLE="margin-bottom: 0in">The <B>option_t *</B><I>ptr</I>
structure is defined in <B>papi.h</B> and looks something like the
following example from the source tree. Users should use the
definition in <B>papi.h</B> which is in synch with the library used. 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
union {</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_preload_option_t
preload;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_debug_option_t
debug;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_granularity_option_t
granularity;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_granularity_option_t
defgranularity;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_domain_option_t
domain;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_domain_option_t
defdomain;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_attach_option_t
attach;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_multiplex_option_t
multiplex;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_hw_info_t
*hw_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_shlib_info_t
*shlib_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_exe_info_t
*exe_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_substrate_info_t
*sub_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_overflow_option_t
ovf_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_addr_range_option_t
addr;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_option_t;</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_preload5"></A>
On success, these functions return <I>PAPI_OK.</I> On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papif_get_preload6"></A>ERRORS</H3>
<TABLE WIDTH=300 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=15>
	<COL WIDTH=274>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set is currently counting events. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papif_get_preload7"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_option_t
options;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((num = PAPI_get_opt(PAPI_MAX_HWCTRS,NULL)) &lt;= 0)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;This
machine has %d counters.0,num);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Set the domain of this EventSet</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>to
counter user and kernel modes for this</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>process
*/</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>memset(&amp;options,0x0,sizeof(options));</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>options.domain.eventset
= EventSet;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>options.domain.domain
= PAPI_DOM_ALL;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_set_opt(PAPI_DOMAIN, &amp;options) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_preload8"></A>
The granularity functions are not yet implemented. The domain
functions are only implemented on some platforms. There are no known
bugs in these functions. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_get_preload9"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_debug0">PAPI_set_debug</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_multiplex0">PAPI_set_multiplex</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_domain0">PAPI_set_domain</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_ipc0"></A>
PAPI_ipc - PAPI High level: Simplified call to get instructions per
cycle, real and processor time 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_ipc1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_ipc (float
*<I>rtime</I>, float *<I>ptime</I>, long_long *<I>ins</I>, float
*<I>ipc</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_ipc(C_FLOAT
<I>real_time, </I>C_FLOAT <I>proc_time, </I>C_LONG_LONG <I>ins,
</I>C_FLOAT <I>ipc, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_ipc2"></A>The first call
to <B>PAPI_ipc()</B> will initialize the PAPI High Level interface,
set up the counters to monitor PAPI_TOT_INS and PAPI_TOT_CYC events
and start the counters. Subsequent calls will read the counters and
return total real time, total process time, total instructions since
the start of the measurement and the instructions per cycle rate
since latest call to <B>PAPI_ipc().</B> A call to
<B>PAPI_stop_counters() </B>will stop the counters from running and
then calls such as <B>PAPI_start_counters() </B>can safely be used. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_ipc3"></A>
<I>*rtime</I> -- total realtime since the first PAPI_ipc() call 
</P>
<P STYLE="margin-bottom: 0in"><I>*ptime</I> -- total process time
since the first PAPI_ipc() call 
</P>
<P STYLE="margin-bottom: 0in"><I>*ins</I> -- total instructions since
the first call 
</P>
<P STYLE="margin-bottom: 0in"><I>*ipc</I> -- instructions per cycle
achieved since the previous call 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_ipc4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western">ERRORS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_ipc5"></A>
In addition to the possible errors returned by the various PAPI low
level calls, the following errors could also be returned: 
</P>
<TABLE WIDTH=507 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=27>
	<COL WIDTH=468>
	<TR>
		<TD COLSPAN=2 WIDTH=501 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=27>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=468>
			<P CLASS="western">The counters were already started by something
			other than: <B>PAPI_ipc()</B> 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=501 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=27>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=468>
			<P CLASS="western">The total instructions or total cycles event
			does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=501 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=27>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=468>
			<P CLASS="western">Insufficient memory to complete the operation.
			<BR><B>PAPI_ipc()</B> may be called by: <B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B>
			<B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the user
			application program</B> 
			</P>
		</TD>
	</TR>
</TABLE>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><B>PAPI_ipc()</B>
contains calls to: </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_perror()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_library_init()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_get_hardware_info()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_create_eventset()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_add_event()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_start()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_get_real_usec()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_accum()
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_shutdown()
</FONT></FONT>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_ipc6"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_ipc7"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_stop_counters0">PAPI_stop_counters</A></U></FONT>
, <FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>
, <FONT COLOR="#0000ff"><U><A HREF="#papi_flips0">PAPI_flips</A></U></FONT>
, <FONT COLOR="#0000ff"><U><A HREF="#papi_flops0">PAPI_flops</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_is_initialized0"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_library_init  
- initialize the PAPI library.</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_is_initialized
- check for initialization.</FONT></FONT></P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_is_initialized1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_library_init(int <I>version</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_is_initialized(void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_library_init(C_INT
<I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_is_initialized(C_INT
<I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_is_initialized2"></A>
<B>PAPI_library_init()</B> initializes the PAPI library. It must be
called before any low level PAPI functions can be used. If your
application is making use of threads <FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>
must also be called prior to making any calls to the library other
than <B>PAPI_library_init()</B>. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_is_initialized()</B> returns
the status of the PAPI library. The PAPI library can be in one of
three states, as described under RETURN VALUES. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_is_initialized3"></A>
<I>version</I> -- upon initialization, PAPI checks the argument
against the internal value of <B>PAPI_VER_CURRENT</B> when the
library was compiled. This guards against portability problems when
updating the PAPI shared libraries on your system. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_is_initialized4"></A>
<B>PAPI_library_init</B> : On success, this function returns
<B>PAPI_VER_CURRENT .</B> A positive return code other than
<B>PAPI_VER_CURRENT</B> indicates a library version mis-match. A
negative error code indicates an initialization error. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_is_initialized :</B> 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_NOT_INITED</B> <BR>-- PAPI has
not been initialized 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_LOW_LEVEL_INITED</B> <BR>--
PAPI_library_init has been called 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_HIGH_LEVEL_INITED</B> <BR>-- a
high level PAPI function has been called 
</P>
<H3 CLASS="western">ERRORS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_is_initialized5"></A>
<B>PAPI_is_initialized</B> never returns an error. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_library_init</B> can return the
following: 
</P>
<TABLE WIDTH=483 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=26>
	<COL WIDTH=445>
	<TR>
		<TD COLSPAN=2 WIDTH=477 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=26>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=445>
			<P CLASS="western"><I>papi.h</I> is different from the version
			used to compile the PAPI library. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=477 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=26>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=445>
			<P CLASS="western">Insufficient memory to complete the operation. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=477 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESBSTR</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=26>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=445>
			<P CLASS="western">This substrate does not support the underlying
			hardware. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=477 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=26>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=445>
			<P CLASS="western">A system or C library call failed inside PAPI,
			see the <I>errno</I> variable. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_is_initialized6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
retval;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Initialize the library */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_library_init(PAPI_VER_CURRENT);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval != PAPI_VER_CURRENT &amp;&amp; retval &gt; 0) {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>fprintf(stderr,&quot;PAPI
library version mismatch!\n&quot;);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);
}</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval &lt; 0)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_is_initialized();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval != PAPI_LOW_LEVEL_INITED)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_is_initialized7"></A>
If you don’t call this before using any of the low level PAPI
calls, your application could core dump. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_is_initialized8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT> 
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_library_init0"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_library_init  
- initialize the PAPI library.</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_is_initialized
- check for initialization.</FONT></FONT></P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_library_init1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_library_init(int <I>version</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_is_initialized(void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_library_init(C_INT
<I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_is_initialized(C_INT
<I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_library_init2"></A>
<B>PAPI_library_init()</B> initializes the PAPI library. It must be
called before any low level PAPI functions can be used. If your
application is making use of threads <FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>
must also be called prior to making any calls to the library other
than <B>PAPI_library_init()</B>. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_is_initialized()</B> returns
the status of the PAPI library. The PAPI library can be in one of
three states, as described under RETURN VALUES. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_library_init3"></A>
<I>version</I> -- upon initialization, PAPI checks the argument
against the internal value of <B>PAPI_VER_CURRENT</B> when the
library was compiled. This guards against portability problems when
updating the PAPI shared libraries on your system. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_library_init4"></A>
<B>PAPI_library_init</B> : On success, this function returns
<B>PAPI_VER_CURRENT .</B> A positive return code other than
<B>PAPI_VER_CURRENT</B> indicates a library version mis-match. A
negative error code indicates an initialization error. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_is_initialized :</B> 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_NOT_INITED</B> <BR>-- PAPI has
not been initialized 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_LOW_LEVEL_INITED</B> <BR>--
PAPI_library_init has been called 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_HIGH_LEVEL_INITED</B> <BR>-- a
high level PAPI function has been called 
</P>
<H3 CLASS="western">ERRORS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_library_init5"></A>
<B>PAPI_is_initialized</B> never returns an error. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_library_init</B> can return the
following: 
</P>
<TABLE WIDTH=483 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=26>
	<COL WIDTH=445>
	<TR>
		<TD COLSPAN=2 WIDTH=477 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=26>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=445>
			<P CLASS="western"><I>papi.h</I> is different from the version
			used to compile the PAPI library. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=477 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=26>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=445>
			<P CLASS="western">Insufficient memory to complete the operation. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=477 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESBSTR</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=26>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=445>
			<P CLASS="western">This substrate does not support the underlying
			hardware. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=477 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=26>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=445>
			<P CLASS="western">A system or C library call failed inside PAPI,
			see the <I>errno</I> variable. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_library_init6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
retval;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Initialize the library */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_library_init(PAPI_VER_CURRENT);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval != PAPI_VER_CURRENT &amp;&amp; retval &gt; 0) {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>fprintf(stderr,&quot;PAPI
library version mismatch!\n&quot;);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);
}</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval &lt; 0)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_is_initialized();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval != PAPI_LOW_LEVEL_INITED)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_library_init7"></A>
If you don’t call this before using any of the low level PAPI
calls, your application could core dump. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_library_init8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT> 
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_list_events0"></A>
PAPI_list_events - list the events in an event set 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_list_events1"></A>
C Interface 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include  papi.h  </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_list_events(int <I>EventSet</I>, int *<I>Events</I>, int
*<I>number</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
Fortran Interface 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include  fpapi.h  </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_list_events(C_INT
<I>EventSet, </I>C_INT(*) <I>Events, </I>C_INT <I>number, </I>C_INT
<I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_list_events2"></A><B>PAPI_list_events()</B>
decomposes an event set into the hardware events it contains. 
</P>
<P STYLE="margin-bottom: 0in">This call assumes an initialized PAPI
library and a successfully added event set. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_list_events3"></A>
<I>EventSet</I> -- An integer handle for a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>.
</P>
<P STYLE="margin-bottom: 0in"><I>*Events</I> -- An array of codes for
events, such as PAPI_INT_INS. No more than <I>*number</I> codes will
be stored into the array. 
</P>
<P STYLE="margin-bottom: 0in"><I>*number</I> -- On input the variable
determines the size of the <I>Events</I> array. On output the
variable contains the number of counters in the event set. 
</P>
<P STYLE="margin-bottom: 0in">Note that if the given array <I>Events</I>
is too short to hold all the counters in the event set the <I>*number</I>
variable will be greater than the actually stored number of counter
codes. 
</P>
<H3 CLASS="western"><A NAME="papi_list_events4"></A>RETURN VALUES</H3>
<TABLE WIDTH=288 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=14>
	<COL WIDTH=263>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_OK</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">The call returned successfully. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_list_events5"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Convert an event name to an event code */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_event_name_to_code(&quot;PAPI_TOT_INS&quot;,&amp;EventCode) !=
PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, EventCode) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Convert a second event name to an event code */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_event_name_to_code(&quot;PAPI_L1_LDM&quot;,&amp;EventCode) !=
PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add L1 Load Misses to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, EventCode) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
List the events in our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>number
= 4;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if(PAPI_list_events(EventSet,
Events, &amp;number);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if(number
!= 2)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_list_events6"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_list_events7"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_name_to_code0">PAPI_event_name_to_code</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_add_event0">PAPI_add_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_code_to_name0">PAPI_event_code_to_name</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, 
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_list_threads0"></A>
PAPI_list_threads - list the registered thread ids 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_list_threads1"></A>C
Interface 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_list_threads(PAPI_thread_id_t *<I>id</I>, int *<I>number</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
Fortran Interface 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;none&gt; </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_list_threads2"></A><B>PAPI_list_threads()</B>
returns to the caller a list of all thread ID’s known to PAPI. 
</P>
<P STYLE="margin-bottom: 0in">This call assumes an initialized PAPI
library. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_list_threads3"></A>
<I>*id</I> -- A pointer to a preallocated array. This may be NULL to
only return a count of threads. No more than <I>*number</I> codes
will be stored in the array. 
</P>
<P STYLE="margin-bottom: 0in"><I>*number</I> -- An input and output
parameter, input specifies the number of allocated elements in <I>*id</I>
(if non-NULL) and output specifies the number of threads. 
</P>
<H3 CLASS="western"><A NAME="papi_list_threads4"></A>RETURN VALUES</H3>
<TABLE WIDTH=288 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=14>
	<COL WIDTH=263>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_OK</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">The call returned successfully. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_list_threads5"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Reserved for example usage */</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_list_threads6"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_list_threads7"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_id0">PAPI_thread_id</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_register_thread0">PAPI_register_thread</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_unregister_thread0">PAPI_unregister_thread</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_thr_specific0">PAPI_get_thr_specific</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_thr_specific0">PAPI_set_thr_specific</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT> 
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_lock0"></A>
PAPI_lock - Lock one of two mutex variables defined in papi.h
<BR>PAPI_unlock - Unlock one of the mutex variables defined in papi.h
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_lock1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>void
PAPI_lock(int<I>lock);</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>void
PAPI_unlock(int<I>lock);</I> </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_lock(C_INT
<I>lock)</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_unlock(C_INT
<I>lock)</I> </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_lock2"></A>
<B>PAPI_lock()</B> Grabs access to one of the two PAPI mutex
variables. This function is provided to the user to have a platform
independent call to (hopefully) efficiently implemented mutex. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_unlock()</B> unlocks the mutex
acquired by a call to <B>PAPI_lock</B>. 
</P>
<H3 CLASS="western">ARGUMENT</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_lock3"></A>
<I>lock</I> -- an integer value specifying one of the two user locks:
<B>PAPI_USR1_LOCK or PAPI_USR2_LOCK</B> 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_lock4"></A>
There are no return values for these calls. Upon return from
<B>PAPI_lock</B> the current thread has acquired exclusive access to
the specified PAPI mutex. 
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_lock5"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_lock6"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_multiplex_init0"></A>
PAPI_multiplex_init - initialize multiplex support in the PAPI
library 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_multiplex_init1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_multiplex_init (void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_multiplex_init(C_INT
<I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_multiplex_init2"></A>
<B>PAPI_multiplex_init</B> enables and initializes multiplex support
in the PAPI library. Multiplexing allows a user to count more events
than total physical counters by time sharing the existing counters at
some loss in precision. Applications that make no use of multiplexing
do not need to call this routine. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_multiplex_init3"></A>
This function always returns <B>PAPI_OK.</B> 
</P>
<H3 CLASS="western">ERRORS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_multiplex_init4"></A>
<I>No errors are reported.</I> 
</P>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_multiplex_init5"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_multiplex_init();</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_multiplex_init6"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_multiplex_init7"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_multiplex0">PAPI_set_multiplex</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_multiplex0">PAPI_get_multiplex</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_events0"></A>
PAPI_num_events - return the number of events in an event set 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_events1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_num_events(int <I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_num_events(C_INT
<I>EventSet, </I>C_INT <I>count)</I> </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_num_events2"></A><B>PAPI_num_events()</B>
returns the number of preset events contained in an event set. The
event set should be created by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>.
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_events3"></A>
<I>EventSet</I> -- an integer handle for a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>*count</I> -- On output the variable
contains the number of events in the event set. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_events4"></A>
On success, this function returns the positive number of events in
the event set. On error, a non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_num_events5"></A>ERRORS</H3>
<TABLE WIDTH=486 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=26>
	<COL WIDTH=449>
	<TR>
		<TD COLSPAN=2 WIDTH=480 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=26>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=449>
			<P CLASS="western">The event count is zero; only if code is
			compiled with debug enabled. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=480 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=26>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=449>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=26 VALIGN=TOP>
			<P CLASS="western"><BR>
			</P>
		</TD>
		<TD WIDTH=449 VALIGN=BOTTOM>
			<P CLASS="western"><BR>
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_num_events6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Count the events in our EventSet */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;%d
events found in EventSet.0, PAPI_num_events(EventSet));</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_events7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_events8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_add_event0">PAPI_add_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_counters0"></A>
PAPI_num_counters - PAPI High Level: return the number of hardware
counters available on the system 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_counters1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_num_counters(void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_num_counters(C_INT
<I>number</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_num_counters2"></A><B>PAPI_num_counters()</B>
returns the optimal length of the values array for the high level
functions. This value corresponds to the number of hardware counters
supported by the current substrate. <B>PAPI_num_counters()</B>
initializes the library to <B>PAPI_HIGH_LEVEL_INITED</B> if
necessary. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_counters3"></A>
On success, this function returns the number of hardware counters
available. <BR>On error, a negative error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_num_counters4"></A>ERRORS</H3>
<TABLE WIDTH=483 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=26>
	<COL WIDTH=445>
	<TR>
		<TD COLSPAN=2 WIDTH=477 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=26>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=445>
			<P CLASS="western"><I>papi.h</I> is different from the version
			used to compile the PAPI library. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=477 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=26>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=445>
			<P CLASS="western">Insufficient memory to complete the operation. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=477 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=26>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=445>
			<P CLASS="western">A system or C library call failed inside PAPI,
			see the <I>errno</I> variable. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_num_counters5"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
num_hwcntrs;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
 The installation does not support PAPI */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((num_hwcntrs = PAPI_num_counters()) &lt; 0 )</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
 The installation supports PAPI, but has no counters */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((num_hwcntrs = PAPI_num_counters()) == 0 )</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>fprintf(stderr,&quot;Info::
This machine does not provide hardware counters.0);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_counters6"></A>
If you don’t call this function, your application could core dump. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_counters7"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_hwctrs0"></A>
PAPI_num_hwctrs - return the number of hardware counters 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_hwctrs1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_num_hwctrs(); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_num_hwctrs(C_INT
<I>num)</I> </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_hwctrs2"></A>
<B>PAPI_num_hwctrs()</B> returns the number of physical hardware
counters present in the processor. This count does not include any
special purpose registers or performance hardware. <FONT COLOR="#0000ff"><U><A HREF="#papi_library_init0">PAPI_library_init</A></U></FONT>
must be called in order for this function to return anything greater
than 0. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_hwctrs3"></A>
This function takes no arguments. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_hwctrs4"></A>
On success, this function returns a value greater than zero. 
</P>
<P STYLE="margin-bottom: 0in">A zero result usually means the library
has not been initialized. 
</P>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_num_hwctrs5"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Query the substrate for our resources. */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;%d
hardware counters found.0, PAPI_num_hwctrs());</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_hwctrs6"></A>
None. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_num_hwctrs7"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_init_library0">PAPI_init_library</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papi_f0">PAPI_F</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_overflow0"></A>
PAPI_overflow - set up an event set to begin registering overflows
<BR>_papi_overflow_handler - user defined function to process
overflow events 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_overflow1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_overflow </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2>(int <I>EventSet</I>,
int <I>EventCode</I>, int <I>threshold</I>, int <I>flags</I>,
PAPI_overflow_handler_t <I>handler</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>(*PAPI_overflow_handler_t)
_papi_overflow_handler </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
      <FONT FACE="Courier New, monospace"><FONT SIZE=2>(int <I>EventSet</I>,
void * <I>address</I>, long_long <I>overflow_vector</I>, void *
<I>context</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>Not implemented </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_overflow2"></A>
<B>PAPI_overflow()</B> marks a specific <I>EventCode</I> in an
<I>EventSet</I> to generate an overflow signal after every <I>threshold</I>
events are counted. More than one event in an event set can be used
to trigger overflows. In such cases, the user must call this function
once for each overflowing event. To turn off overflow on a specified
event, call this function with a <I>threshold</I> value of 0. 
</P>
<P STYLE="margin-bottom: 0in">Overflows can be implemented in either
software or hardware, but the scope is the entire event set. PAPI
defaults to hardware overflow if it is available. In the case of
software overflow, a periodic timer interrupt causes PAPI to compare
the event counts against the <I>threshold</I> values and call the
overflow handler if one or more events have exceeded their <I>threshold.</I>
In the case of hardware overflow, the counters are typically set to
the negative of the <I>threshold</I> value and count up to 0. This
zero-crossing triggers a hardware interrupt that calls the overflow
handler. Because of this counter interrupt, the counter values for
overflowing counters may be very small or even negative numbers, and
cannot be relied upon as accurate. In such cases the overflow handler
can approximate the counts by supplying the <I>threshold</I> value
whenever an overflow occurs. 
</P>
<P STYLE="margin-bottom: 0in"><B>_papi_overflow_handler()</B> is a
placeholder for a user-defined function to process overflow events. A
pointer to this function is passed to the <B>PAPI_overflow</B>
routine, where it is invoked whenever a software or hardware overflow
occurs. This handler receives the <I>EventSet</I> of the overflowing
event, the Program Counter <I>address</I> when the interrupt occured,
an <I>overflow_vector</I> that can be processed to determined which
event(s) caused the overflow, and a pointer to the machine <I>context,</I>
which can be used in a platform-specific manor to extract register
information about what was happening when the overflow occured. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_overflow3"></A>
<I>EventSet</I> -- an integer handle to a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>EventCode</I> -- the preset or
native event code to be set for overflow detection. This event must
have already been added to the <I>EvenSet.</I> 
</P>
<P STYLE="margin-bottom: 0in"><I>threshold</I> -- the overflow
threshold value for this <I>EventCode.</I> 
</P>
<P STYLE="margin-bottom: 0in"><I>flags</I> -- bit map that controls
the overflow mode of operation. Set to PAPI_OVERFLOW_FORCE_SW to
force software overflowing, even if hardware overflow support is
available. If hardware overflow support is available on a given
system, it will be the default mode of operation. There are
situations where it is advantageous to use software overflow instead.
Although software overflow is inherently less accurate, with more
latency and processing overhead, it does allow for overflowing on
derived events, and for the accurate recording of overflowing event
counts. These two features are typically not available with hardware
overflow. Only one type of overflow is allowed per event set, so
setting one event to hardware overflow and another to forced software
overflow will result in an error being returned. 
</P>
<P STYLE="margin-bottom: 0in"><I>handler</I> -- pointer to the user
supplied handler function to call upon overflow 
</P>
<P STYLE="margin-bottom: 0in"><I>address</I> -- the Program Counter
address at the time of the overflow 
</P>
<P STYLE="margin-bottom: 0in"><I>overflow_vector</I> -- a long_long
word containing flag bits to indicate which hardware counter(s)
caused the overflow 
</P>
<P STYLE="margin-bottom: 0in"><I>*context</I> -- pointer to a machine
specific structure that defines the register context at the time of
overflow. This parameter is often unused and can be ignored in the
user function. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_overflow4"></A>
On success, <B>PAPI_overflow</B> returns <B>PAPI_OK.</B> On error, a
non-zero error code is returned. <B>_papi_overflow_handler</B> is a
void function and returns nothing. 
</P>
<H3 CLASS="western"><A NAME="papi_overflow5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments is invalid.
			Specifically, a bad threshold value. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Insufficient memory to complete the operation. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet is currently counting events. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ECNFLCT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The underlying counter hardware cannot count
			this event and other events in the EventSet simultaneously. Or you
			are trying to overflow both by hardware and by forced software at
			the same time. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The PAPI preset is not available on the
			underlying hardware. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_overflow6"></A>
Define a simple overflow handler: 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>void
handler(int EventSet, void *address, long_long overflow_vector, void
*context)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>{</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>fprintf(stderr,&quot;Overflow
at %p! bit=0x%llx \n&quot;,</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>address,overflow_vector);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in">Call PAPI_overflow for an event set
containing the PAPI_TOT_INS event, setting the threshold to 100000.
Use the handler defined above. 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_overflow(EventSet, PAPI_TOT_INS, 100000, 0, handler);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_overflow7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_overflow8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_overflow_event_index0">PAPI_get_overflow_event_index</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_perror0"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_perror   -
convert PAPI error codes to strings, and print error message to
stderr.</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_strerror -
convert PAPI error codes to strings, and return the error string to
user.</FONT></FONT></P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_perror1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_perror(int
<I>code</I>, char *<I>destination</I>, int <I>length</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>char
*PAPI_strerror(int <I>code</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_perror(C_INT
<I>code, </I>C_STRING <I>destination, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_perror2"></A>
<B>PAPI_perror()</B> fills the string <I>destination</I> with the
error message corresponding to the error code <I>code</I>. The
function copies <I>length</I> worth of the error description string
corresponding to <I>code</I> into destination. The resulting string
is always null terminated. If length is 0, then the string is printed
on stderr. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_strerror()</B> returns a
pointer to the error message corresponding to the error code <I>code</I>.
If the call fails the function returns the NULL pointer. This
function is not implemented in Fortran. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_perror3"></A>
<I>code</I> -- the error code to interpret 
</P>
<P STYLE="margin-bottom: 0in"><I>*destination</I> -- &quot;the error
message in quotes&quot; 
</P>
<P STYLE="margin-bottom: 0in"><I>length</I> -- either 0 or
strlen(destination) 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_perror4"></A>
On success <B>PAPI_perror()</B> returns <B>PAPI_OK.</B> and
<B>PAPI_strerror()</B> returns a non-NULL pointer. 
</P>
<H3 CLASS="western"><A NAME="papi_perror5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=47>
	<COL WIDTH=575>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=47>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=575>
			<P CLASS="western">One or more of the arguments to <B>PAPI_perror()</B>
			is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=47 VALIGN=TOP>
			<P CLASS="western"><B>NULL</B> 
			</P>
		</TD>
		<TD WIDTH=575 VALIGN=BOTTOM>
			<P CLASS="western">The input error code to <B>PAPI_strerror()</B>
			is invalid. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_perror6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
EventSet = PAPI_NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
native = 0x0;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
error_str[PAPI_MAX_STR_LEN];</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_create_eventset(&amp;EventSet)) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>{</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>fprintf(stderr,
&quot;PAPI error %d: %s\n&quot;,retval,PAPI_strerror(retval));</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_add_event(EventSet, PAPI_TOT_INS)) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>{</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_perror(retval,error_str,PAPI_MAX_STR_LEN);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">     <FONT FACE="Courier New, monospace"><FONT SIZE=2>fprintf(stderr,&quot;PAPI_error
%d: %s\n&quot;,retval,error_str);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">     <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Start counting */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_start(EventSet)) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_perror7"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_perror8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_debug0">PAPI_set_debug</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_opt0">PAPI_get_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_shutdown0">PAPI_shutdown</A></U></FONT>,
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_profil0"></A>
PAPI_profil - generate a histogram of hardware counter overflows vs.
PC addresses 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_profil1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_profil(void
* <I>buf,</I> unsigned <I>bufsiz,</I> unsigned long <I>offset,</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
                <FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
<I>scale,</I> int <I>EventSet,</I> int <I>EventCode,</I>  int
<I>threshold,</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
                <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
<I>flags</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>The profiling
routines have no Fortran interface. </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_profil2"></A>
<B>PAPI_profil()</B> provides hardware event statistics by profiling
the occurence of specified hardware counter events. It is designed to
mimic the UNIX SVR4 profil call. The statistics are generated by
creating a histogram of hardware counter event overflows vs. program
counter addresses for the current process. The histogram is defined
for a specific region of program code to be profiled, and the
identified region is logically broken up into a set of equal size
subdivisions, each of which corresponds to a count in the histogram.
With each hardware event overflow, the current subdivision is
identified and its corresponding histogram count is incremented.
These counts establish a relative measure of how many hardware
counter events are occuring in each code subdivision. The resulting
histogram counts for a profiled region can be used to identify those
program addresses that generate a disproportionately high percentage
of the event of interest. 
</P>
<P STYLE="margin-bottom: 0in">Events to be profiled are specified
with the <I>EventSet</I> and <I>EventCode</I> parameters. More than
one event can be simultaneously profiled by calling <B>PAPI_profil()</B>
several times with different <I>EventCode</I> values. Profiling can
be turned off for a given event by calling <B>PAPI_profil()</B> with
a <I>threshold</I> value of 0. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_profil3"></A>
<I>*buf</I> -- pointer to a buffer of <I>bufsiz</I> bytes in which
the histogram counts are stored in an array of unsigned short,
unsigned int, or unsigned long long values, or ’buckets’. The
size of the buckets is determined by values in the <I>flags</I>
argument. 
</P>
<P STYLE="margin-bottom: 0in"><I>bufsiz</I> -- the size of the
histogram buffer in bytes. It is computed from the length of the code
region to be profiled, the size of the buckets, and the scale factor
as discussed below. 
</P>
<P STYLE="margin-bottom: 0in"><I>offset</I> -- the start address
of&nbsp;the region to be profiled. 
</P>
<P STYLE="margin-bottom: 0in"><I>scale</I> -- broadly and
historically speaking, a contraction factor that indicates how much
smaller the histogram buffer is than the region to be profiled. More
precisely, scale is interpreted as an unsigned 16-bit fixed-point
fraction with the decimal point implied on the left. Its value is the
reciprocal of the number of addresses in a subdivision, per counter
of histogram buffer. Below is a table of representative values for
scale: 
</P>
<TABLE WIDTH=622 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=54>
	<COL WIDTH=72>
	<COL WIDTH=464>
	<TR>
		<TD COLSPAN=3 WIDTH=608 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Representative values for the
			scale variable </I>
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=54 BGCOLOR="#e0e0e0">
			<P CLASS="western">HEX</P>
		</TD>
		<TD WIDTH=72 BGCOLOR="#e0e0e0">
			<P CLASS="western">DECIMAL</P>
		</TD>
		<TD WIDTH=464 BGCOLOR="#e0e0e0">
			<P CLASS="western">DEFININTION</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=54 BGCOLOR="#e0e0e0">
			<P CLASS="western">0x20000</P>
		</TD>
		<TD WIDTH=72 BGCOLOR="#e0e0e0">
			<P CLASS="western">131072</P>
		</TD>
		<TD WIDTH=464 BGCOLOR="#e0e0e0">
			<P CLASS="western">Maps precisely one instruction address to a
			unique bucket in buf.</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=54 BGCOLOR="#e0e0e0">
			<P CLASS="western">0x10000</P>
		</TD>
		<TD WIDTH=72 BGCOLOR="#e0e0e0">
			<P CLASS="western">65536</P>
		</TD>
		<TD WIDTH=464 BGCOLOR="#e0e0e0">
			<P CLASS="western">Maps precisely two instruction addresses to a
			unique bucket in buf.</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=54 BGCOLOR="#e0e0e0">
			<P CLASS="western">0xFFFF</P>
		</TD>
		<TD WIDTH=72 BGCOLOR="#e0e0e0">
			<P CLASS="western">65535</P>
		</TD>
		<TD WIDTH=464 BGCOLOR="#e0e0e0">
			<P CLASS="western">Maps approximately two instruction addresses to
			a unique bucket in buf.</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=54 BGCOLOR="#e0e0e0">
			<P CLASS="western">0x8000</P>
		</TD>
		<TD WIDTH=72 BGCOLOR="#e0e0e0">
			<P CLASS="western">32768</P>
		</TD>
		<TD WIDTH=464 BGCOLOR="#e0e0e0">
			<P CLASS="western">Maps every four instruction addresses to a
			bucket in buf.</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=54 BGCOLOR="#e0e0e0">
			<P CLASS="western">0x4000</P>
		</TD>
		<TD WIDTH=72 BGCOLOR="#e0e0e0">
			<P CLASS="western">16384</P>
		</TD>
		<TD WIDTH=464 BGCOLOR="#e0e0e0">
			<P CLASS="western">Maps every eight instruction addresses to a
			bucket in buf.</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=54 BGCOLOR="#e0e0e0">
			<P CLASS="western">0x0002</P>
		</TD>
		<TD WIDTH=72 BGCOLOR="#e0e0e0">
			<P CLASS="western">2</P>
		</TD>
		<TD WIDTH=464 BGCOLOR="#e0e0e0">
			<P CLASS="western">Maps all instruction addresses to the same
			bucket in buf.</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=54 BGCOLOR="#e0e0e0">
			<P CLASS="western">0x0001</P>
		</TD>
		<TD WIDTH=72 BGCOLOR="#e0e0e0">
			<P CLASS="western">1</P>
		</TD>
		<TD WIDTH=464 BGCOLOR="#e0e0e0">
			<P CLASS="western">Undefined.</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=54 BGCOLOR="#e0e0e0">
			<P CLASS="western">0x0000</P>
		</TD>
		<TD WIDTH=72 BGCOLOR="#e0e0e0">
			<P CLASS="western">0</P>
		</TD>
		<TD WIDTH=464 BGCOLOR="#e0e0e0">
			<P CLASS="western">Undefined.</P>
		</TD>
	</TR>
</TABLE>
<P STYLE="margin-bottom: 0in">Historically, the scale factor was
introduced to allow the allocation of buffers smaller than the code
size to be profiled. Data and instruction sizes were assumed to be
multiples of 16-bits. These assumptions are no longer necessarily
true. <B>PAPI_profil</B> has preserved the traditional definition of
scale where appropriate, but deprecated the definitions for 0 and 1
(disable scaling) and extended the range of scale to include 65536
and 131072 to allow for exactly two addresses and exactly one address
per profiling bucket. 
</P>
<P STYLE="margin-bottom: 0in">The value of bufsiz is computed as
follows: 
</P>
<P STYLE="margin-bottom: 0in"><I>bufsiz = (end -
start)*(bucket_size/2)*(scale/65536)</I> where 
</P>
<P STYLE="margin-bottom: 0in"><I>bufsiz</I> - the size of the buffer
in bytes 
</P>
<P STYLE="margin-bottom: 0in"><I>end, start</I> - the ending and
starting addresses of the profiled region 
</P>
<P STYLE="margin-bottom: 0in"><I>bucket_size</I> - the size of each
bucket in bytes; 2, 4, or 8 as defined in <I>flags</I> 
</P>
<P STYLE="margin-bottom: 0in"><I>scale</I> - as defined above 
</P>
<P STYLE="margin-bottom: 0in"><I>EventSet</I> -- The PAPI EventSet to
profile. This EventSet is marked as profiling-ready, but profiling
doesn’t actually start until a <B>PAPI_start()</B> call is issued. 
</P>
<P STYLE="margin-bottom: 0in"><I>EventCode</I> -- Code of the Event
in the EventSet to profile. This event must already be a member of
the EventSet. 
</P>
<P STYLE="margin-bottom: 0in"><I>threshold</I> -- minimum number of
events that must occur before the PC is sampled. If hardware overflow
is supported for your substrate, this threshold will trigger an
interrupt when reached. Otherwise, the counters will be sampled
periodically and the PC will be recorded for the first sample that
exceeds the threshold. If the value of threshold is 0, profiling will
be disabled for this event. 
</P>
<P STYLE="margin-bottom: 0in"><I>flags</I> -- bit pattern to control
profiling behavior. Defined values are shown in the table below: 
</P>
<TABLE WIDTH=626 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=203>
	<COL WIDTH=400>
	<TR>
		<TD COLSPAN=2 WIDTH=612 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Defined bits for the flags
			variable </I>
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=203 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PROFIL_POSIX</B></P>
		</TD>
		<TD WIDTH=400 BGCOLOR="#e0e0e0">
			<P CLASS="western">Default type of profiling, similar to 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=203 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PROFIL_RANDOM</B></P>
		</TD>
		<TD WIDTH=400 BGCOLOR="#e0e0e0">
			<P CLASS="western">Drop a random 25% of the samples. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=203 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PROFIL_WEIGHTED</B></P>
		</TD>
		<TD WIDTH=400 BGCOLOR="#e0e0e0">
			<P CLASS="western">Weight the samples by their value. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=203 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PROFIL_COMPRESS</B></P>
		</TD>
		<TD WIDTH=400 BGCOLOR="#e0e0e0">
			<P CLASS="western">Ignore samples as values in the hash buckets
			get big. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=203 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PROFIL_BUCKET_16</B></P>
		</TD>
		<TD WIDTH=400 BGCOLOR="#e0e0e0">
			<P CLASS="western">Use unsigned short (16 bit) buckets, This is
			the default bucket. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=203 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PROFIL_BUCKET_32</B></P>
		</TD>
		<TD WIDTH=400 BGCOLOR="#e0e0e0">
			<P CLASS="western">Use unsigned int (32 bit) buckets. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=203 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PROFIL_BUCKET_64</B></P>
		</TD>
		<TD WIDTH=400 BGCOLOR="#e0e0e0">
			<P CLASS="western">Use unsigned long long (64 bit) buckets. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=203 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PROFIL_FORCE_SW</B></P>
		</TD>
		<TD WIDTH=400 BGCOLOR="#e0e0e0">
			<P CLASS="western">Force software overflow in profiling. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=203 BGCOLOR="#e0e0e0">
			<P CLASS="western"><BR>
			</P>
		</TD>
		<TD WIDTH=400 BGCOLOR="#e0e0e0">
			<P CLASS="western"><BR>
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_profil4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_profil5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Insufficient memory to complete the operation. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet is currently counting events. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ECNFLCT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The underlying counter hardware can not count
			this event and other events in the EventSet simultaneously. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The PAPI preset is not available on the
			underlying hardware. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_profil6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
retval;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
long length;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_exe_info_t
*prginfo;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
short *profbuf;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((prginfo = PAPI_get_executable_info()) == NULL)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>length
= (unsigned long)(prginfo-&gt;text_end - prginfo-&gt;text_start);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>profbuf
= (unsigned short *)malloc(length);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(profbuf == NULL)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>memset(profbuf,0x00,length);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"> <FONT FACE="Courier New, monospace"><FONT SIZE=2>.</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"> <FONT FACE="Courier New, monospace"><FONT SIZE=2>.</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"> <FONT FACE="Courier New, monospace"><FONT SIZE=2>.</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_profil(profbuf, length, start, 65536, EventSet,</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">                <FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_FP_INS,
1000000, PAPI_PROFIL_POSIX | PAPI_PROFIL_BUCKET_16)) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_profil7"></A>
If you call PAPI_profil, PAPI allocates buffer space that will not be
freed if you call PAPI_shutdown or PAPI_cleanup_eventset. To clean
all memory, you must call PAPI_profil on the Events with a 0
threshold. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_profil8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_sprofil0">PAPI_sprofil</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_overflow0">PAPI_overflow</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_executable_info0">PAPI_get_executable_info</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_query_event0"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_query_event -
query if PAPI event exists</FONT></FONT></P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_query_event1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_query_event(int <I>EventCode</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_query_event(C_INT
<I>EventCode, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_query_event2"></A>
<B>PAPI_query_event()</B> asks the PAPI library if the PAPI Preset
event can be counted on this architecture. If the event CAN be
counted, the function returns PAPI_OK. If the event CANNOT be
counted, the function returns an error code. This function also can
be used to check the syntax of a native event. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_query_event3"></A>
<I>EventCode</I> -- a defined event such as PAPI_TOT_INS. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_query_event4"></A>
On success, <B>PAPI_query_event returns</B> <B>PAPI_OK</B> <BR>On
error, a non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_query_event5"></A>ERRORS</H3>
<TABLE WIDTH=428 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=22>
	<COL WIDTH=394>
	<TR>
		<TD COLSPAN=2 WIDTH=422 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=22>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=394>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=422 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOTPRESET</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=22>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=394>
			<P CLASS="western">The hardware event specified is not a valid
			PAPI preset. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=422 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=22>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=394>
			<P CLASS="western">The PAPI preset is not available on the
			underlying hardware. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_query_event6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
retval;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Initialize the library */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_library_init(PAPI_VER_CURRENT);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval != PAPI_VER_CURRENT) {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>fprintf(stderr,&quot;PAPI
library init error!\n&quot;);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);
}</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_query_event(PAPI_TOT_INS) != PAPI_OK) {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>fprintf(stderr,&quot;No
instruction counter? How lame.\n&quot;);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_query_event7"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_query_event8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_preset0">PAPI_preset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_native0">PAPI_native</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_remove_event0">PAPI_remove_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_remove_events0">PAPI_remove_events</A></U></FONT>,
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_read0"></A>
PAPI_read - read hardware counters from an event set 
</P>
<P STYLE="margin-bottom: 0in">PAPI_accum - accumulate and reset
counters in an event set 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_read1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_read(int
<I>EventSet</I>, long_long *<I>values</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_accum(int
<I>EventSet</I>, long_long *<I>values</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_read(C_INT
<I>EventSet, </I>C_LONG_LONG(*) <I>values, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_accum(C_INT
<I>EventSet, </I>C_LONG_LONG(*) <I>values, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_read2"></A>These calls
assume an initialized PAPI library and a properly added event set. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_read()</B> copies the counters
of the indicated event set into the array <I>values</I>. The counters
continue counting after the read. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_accum()</B> adds the counters
of the indicated event set into the array <I>values</I>. The counters
are zeroed and continue counting after the operation. 
</P>
<P STYLE="margin-bottom: 0in">Note the differences between
PAPI_read() and PAPI_accum(), specifically that PAPI_accum() resets
the values array to zero. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_read3"></A>
<I>EventSet</I> -- an integer handle for a PAPI Event Set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>*values</I> -- an array to hold the
counter values of the counting events 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_read4"></A>
On success, these functions return <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_read5"></A>ERRORS</H3>
<TABLE WIDTH=478 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=25>
	<COL WIDTH=441>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">A system or C library call failed inside PAPI,
			see the <I>errno</I> variable. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_read6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>do_100events();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_read(EventSet, values) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
values[0] now equals 100 */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>do_100events();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_accum(EventSet, values) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
values[0] now equals 200 */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>values[0]
= -100;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>do_100events();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_accum(EventSet, values) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
values[0] now equals 0 */</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_read7"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_read8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_reset0">PAPI_reset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_start0">PAPI_start</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_read_counters0"></A>
PAPI_read_counters - PAPI High Level: read and reset counters 
</P>
<P STYLE="margin-bottom: 0in">PAPI_accum_counters - PAPI High Level:
accumulate and reset counters 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_read_counters1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_read_counters(long_long *<I>values</I>, int <I>array_len</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_accum_counters(long_long *<I>values</I>, int <I>array_len</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_read_counters(C_LONG_LONG(*)
<I>values, </I>C_INT <I>array_len, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_accum_counters(C_LONG_LONG(*)
<I>values, </I>C_INT <I>array_len, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_read_counters2"></A><B>PAPI_read_counters()</B>
copies the event counters into the array <I>values</I> . <BR>The
counters are reset and left running after the call. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_accum_counters()</B> adds the
event counters into the array <I>values</I> . <BR>The counters are
reset and left running after the call. 
</P>
<P STYLE="margin-bottom: 0in">These calls assume an initialized PAPI
library and a properly added event set. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_read_counters3"></A>
<I>*values</I> -- an array to hold the counter values of the counting
events 
</P>
<P STYLE="margin-bottom: 0in"><I>array_len</I> -- the number of items
in the *events array 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_read_counters4"></A>
On success, these functions return <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_read_counters5"></A>ERRORS</H3>
<TABLE WIDTH=478 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=25>
	<COL WIDTH=441>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">A system or C library call failed inside PAPI,
			see the <I>errno</I> variable. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_read_counters6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>do_100events();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_read_counters(values, num_hwcntrs) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
values[0] now equals 100 */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>do_100events();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_accum_counters(values, num_hwcntrs) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
values[0] now equals 200 */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>values[0]
= -100;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>do_100events();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_accum_counters(values, num_hwcntrs) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
values[0] now equals 0 */</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_read_counters7"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_read_counters8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_start_counters0">PAPI_start_counters</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_register_thread0"></A>
PAPI_register_thread, PAPI_unregister_thread - Inform PAPI of thread
status 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_register_thread1"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_register_thread (void); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_unregister_thread (void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_register_thread(C_INT
<I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_unregister_thread(C_INT
<I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_register_thread2"></A>
<B>PAPI_register_thread</B> should be called when the user wants to
force PAPI to initialize a thread that PAPI has not seen before.
Usually this is not necessary as PAPI implicitly detects the thread
when an eventset is created or other thread local PAPI functions are
called. However, it can be useful for debugging and performance
enhancements in the run-time systems of performance tools. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_unregister_thread</B> should be
called when the user wants to shutdown a particular thread and free
the associated thread ID. THIS IS IMPORTANT IF YOUR THREAD LIBRARY
REUSES THE SAME THREAD ID FOR A NEW KERNEL LWP. OpenMP does this.
OpenMP parallel regions, if separated by a call to
omp_set_num_threads() will often kill off the underlying kernel LWPs
and then start new ones for the next region. However,
omp_get_thread_id() does not reflect this, as the thread IDs for the
new LWPs will be the same as the old LWPs. PAPI needs to know that
the underlying LWP has changed so it can set up the counters for that
new thread. This is accomplished by calling this function. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_register_thread3"></A>
None. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_register_thread4"></A>
On success, this function returns <B>PAPI_OK.</B> On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_register_thread5"></A>ERRORS</H3>
<TABLE WIDTH=478 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=25>
	<COL WIDTH=441>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">Space could not be allocated to store the new
			thread information. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">A system or C library call failed inside PAPI,
			see the <I>errno</I> variable. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESBSTR</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">Hardware counters for this thread could not be
			initialized. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_register_thread6"></A>
None. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_register_thread7"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_id0">PAPI_thread_id</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_remove_event0"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_remove_event  -
remove PAPI preset or native hardware event from an EventSet</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_remove_events -
remove PAPI presets or native hardware events from an EventSet</FONT></FONT></P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_remove_event1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_remove_event(int <I>EventSet</I>, int <I>EventCode</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_remove_events(int <I>EventSet</I>, int *<I>EventCode</I>, int
<I>number</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_remove_event(C_INT
<I>EventSet, </I>C_INT <I>EventCode, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_remove_events(C_INT
<I>EventSet, </I>C_INT(*) <I>EventCode, </I>C_INT <I>number, </I>C_INT
<I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_remove_event2"></A>
<B>PAPI_remove_event() </B>removes a hardware event to a PAPI event
set. <B>PAPI_remove_events() </B>does the same, but for an array of
hardware event codes. 
</P>
<P STYLE="margin-bottom: 0in">A hardware event can be either a PAPI
Preset or a native hardware event code. For a list of PAPI preset
events, see <FONT COLOR="#0000ff"><U><A HREF="#papi_presets0">PAPI_presets</A></U></FONT>
or run the <I>avail</I> test case in the PAPI distribution. PAPI
Presets can be passed to <FONT COLOR="#0000ff"><U><A HREF="#papi_query_event0">PAPI_query_event</A></U></FONT>
to see if they exist on the underlying architecture. For a list of
native events available on current platform, run native_avail test
case in the PAPI distribution. For the encoding of native events, see
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_name_to_code0">PAPI_event_name_to_code</A></U></FONT>
to learn how to generate native code for the supported native event
on the underlying architecture.&quot; <BR>It should be noted that
<B>PAPI_remove_events</B> can partially succeed, exactly like
<B>PAPI_add_events</B>. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_remove_event3"></A>
<I>EventSet</I> -- an integer handle for a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>EventCode</I> -- a defined event
such as PAPI_TOT_INS or a native event. 
</P>
<P STYLE="margin-bottom: 0in"><I>*EventCode</I> -- an array of
defined events 
</P>
<P STYLE="margin-bottom: 0in"><I>number</I> -- an integer indicating
the number of events in the array <I>*EventCode</I> 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_remove_event4"></A>
On success, these functions return <B>PAPI_OK.</B> On error, a less
than zero error code is returned or the the number of elements that
succeeded before the error. 
</P>
<H3 CLASS="western"><A NAME="papi_remove_event5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>Positive integer</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The number of consecutive elements that
			succeeded before the error. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet is currently counting events. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ECNFLCT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The underlying counter hardware can not count
			this event and other events in the EventSet simultaneously. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The PAPI preset is not available on the
			underlying hardware. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_remove_event6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
EventSet = PAPI_NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int native = 0x0;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_create_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, PAPI_TOT_INS) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Start counting */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_start(EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Stop counting, ignore values */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_stop(EventSet, NULL) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Remove event */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_remove_event(EventSet, PAPI_TOT_INS) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_remove_event7"></A>
The vector function should take a pointer to a length argument so a
proper return value can be set upon partial success. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_remove_event8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_preset0">PAPI_preset</A></U></FONT>,
<BR>PAPI_add_event (3), <BR>PAPI_add_events (3),
<BR><FONT COLOR="#0000ff"><U><A HREF="#papi_cleanup_eventset0">PAPI_cleanup_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_destroy_eventset0">PAPI_destroy_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_name_to_code0">PAPI_event_name_to_code</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_remove_events0"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_remove_event  -
remove PAPI preset or native hardware event from an EventSet</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_remove_events -
remove PAPI presets or native hardware events from an EventSet</FONT></FONT></P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_remove_events1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_remove_event(int <I>EventSet</I>, int <I>EventCode</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_remove_events(int <I>EventSet</I>, int *<I>EventCode</I>, int
<I>number</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_remove_event(C_INT
<I>EventSet, </I>C_INT <I>EventCode, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_remove_events(C_INT
<I>EventSet, </I>C_INT(*) <I>EventCode, </I>C_INT <I>number, </I>C_INT
<I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_remove_events2"></A>
<B>PAPI_remove_event() </B>removes a hardware event to a PAPI event
set. <B>PAPI_remove_events() </B>does the same, but for an array of
hardware event codes. 
</P>
<P STYLE="margin-bottom: 0in">A hardware event can be either a PAPI
Preset or a native hardware event code. For a list of PAPI preset
events, see <FONT COLOR="#0000ff"><U><A HREF="#papi_presets0">PAPI_presets</A></U></FONT>
or run the <I>avail</I> test case in the PAPI distribution. PAPI
Presets can be passed to <FONT COLOR="#0000ff"><U><A HREF="#papi_query_event0">PAPI_query_event</A></U></FONT>
to see if they exist on the underlying architecture. For a list of
native events available on current platform, run native_avail test
case in the PAPI distribution. For the encoding of native events, see
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_name_to_code0">PAPI_event_name_to_code</A></U></FONT>
to learn how to generate native code for the supported native event
on the underlying architecture.&quot; <BR>It should be noted that
<B>PAPI_remove_events</B> can partially succeed, exactly like
<B>PAPI_add_events</B>. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_remove_events3"></A>
<I>EventSet</I> -- an integer handle for a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>EventCode</I> -- a defined event
such as PAPI_TOT_INS or a native event. 
</P>
<P STYLE="margin-bottom: 0in"><I>*EventCode</I> -- an array of
defined events 
</P>
<P STYLE="margin-bottom: 0in"><I>number</I> -- an integer indicating
the number of events in the array <I>*EventCode</I> 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_remove_events4"></A>
On success, these functions return <B>PAPI_OK.</B> On error, a less
than zero error code is returned or the the number of elements that
succeeded before the error. 
</P>
<H3 CLASS="western"><A NAME="papi_remove_events5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>Positive integer</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The number of consecutive elements that
			succeeded before the error. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet is currently counting events. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ECNFLCT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The underlying counter hardware can not count
			this event and other events in the EventSet simultaneously. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The PAPI preset is not available on the
			underlying hardware. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_remove_events6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
EventSet = PAPI_NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
int native = 0x0;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_create_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, PAPI_TOT_INS) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Start counting */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_start(EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Stop counting, ignore values */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_stop(EventSet, NULL) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Remove event */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_remove_event(EventSet, PAPI_TOT_INS) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_remove_events7"></A>
The vector function should take a pointer to a length argument so a
proper return value can be set upon partial success. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_remove_events8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_preset0">PAPI_preset</A></U></FONT>,
<BR>PAPI_add_event (3), <BR>PAPI_add_events (3),
<BR><FONT COLOR="#0000ff"><U><A HREF="#papi_cleanup_eventset0">PAPI_cleanup_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_destroy_eventset0">PAPI_destroy_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_event_name_to_code0">PAPI_event_name_to_code</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_reset0"></A>
PAPI_reset - reset the hardware event counts in an event set 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_reset1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_reset (int
<I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_reset(C_INT
<I>EventSet, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_reset2"></A>
<B>PAPI_reset()</B> zeroes the values of the counters contained in
<I>EventSet</I>. This call assumes an initialized PAPI library and a
properly added event set. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_reset3"></A>
<I>EventSet</I> -- an integer handle for a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_reset4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_reset5"></A>ERRORS</H3>
<TABLE WIDTH=478 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=25>
	<COL WIDTH=441>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">A system or C library call failed inside PAPI,
			see the <I>errno</I> variable. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_reset6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_reset(EventSet) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_reset7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_reset8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_debug0"></A>
PAPI_set_debug - set the current debug level for PAPI 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_debug1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_set_debug(int <I>debuglevel</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_set_debug(C_INT
<I>debug, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_debug2"></A>
<B>PAPI_set_debug</B> sets the debug level for error output from the
PAPI library. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_debug3"></A>
<I>debuglevel</I> -- one of the constants shown in the table below
and defined in the papi.h header file. The current debug level is
used by both the internal error and debug message handler
subroutines. The debug handler is only used if the library was
compiled with -DDEBUG. The debug handler is called when there is an
error upon a call to the PAPI API. The error handler is always active
and it’s behavior cannot be modified except for whether or not it
prints anything. NOTE: This is the ONLY function that may be called
BEFORE <B>PAPI_library_init().</B> 
</P>
<P STYLE="margin-bottom: 0in">The PAPI error handler prints out
messages in the following form: 
</P>
<P STYLE="margin-bottom: 0in">PAPI Error: message. 
</P>
<P STYLE="margin-bottom: 0in">The default PAPI debug handler prints
out messages in the following form: 
</P>
<P STYLE="margin-bottom: 0in">PAPI Error: Error Code
code,symbol,description 
</P>
<P STYLE="margin-bottom: 0in">If the error was caused from a system
call and the return code is PAPI_ESYS, the message will have a colon
space and the error string as reported by strerror() appended to the
end. 
</P>
<P STYLE="margin-bottom: 0in">The possible debug levels for debugging
are shown in the table below. 
</P>
<TABLE WIDTH=479 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=153>
	<COL WIDTH=303>
	<TR VALIGN=TOP>
		<TD WIDTH=153 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_QUIET</B></P>
		</TD>
		<TD WIDTH=303 BGCOLOR="#e0e0e0">
			<P CLASS="western">Do not print anything, just return the error
			code</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=153 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_VERB_ECONT</B></P>
		</TD>
		<TD WIDTH=303 BGCOLOR="#e0e0e0">
			<P CLASS="western">Print error message and continue</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=153 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_VERB_ESTOP</B></P>
		</TD>
		<TD WIDTH=303 BGCOLOR="#e0e0e0">
			<P CLASS="western">Print error message and exit</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_debug4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_set_debug5"></A>ERRORS</H3>
<TABLE WIDTH=189 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=8>
	<COL WIDTH=169>
	<TR>
		<TD COLSPAN=2 WIDTH=183 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=8>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=169>
			<P CLASS="western">The debuglevel is invalid. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_set_debug6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
( PAPI_set_debug(PAPI_VERB_ECONT) != PAPI_OK )</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error();</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_debug7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_debug8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_opt0">PAPI_get_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_library_init0">PAPI_library_init</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_domain0"></A>
PAPI_set_domain - set the default execution domain for new event sets
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_domain1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_set_domain(int <I>domain</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_set_domain(C_INT
<I>domain, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_set_event_domain(C_INT
<I>EventSet, </I>C_INT <I>domain, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_domain2"></A>
<B>PAPI_set_domain</B> sets the default execution domain for all new
event sets created by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
in all threads. Event sets that are already in existance are not
affected. To change the domain of an existing event set, please see
the <FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>
man page. The reader should note that the domain of an event set
affects only which mode the counter continue to run. Counts are still
aggregated for the current process, and not for any other processes
in the system. Thus when requesting <B>PAPI_DOM_KERNEL</B>, the user
is asking for events that occur on behalf of the process, inside the
kernel. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_domain3"></A>
<I>domain</I> -- one of the following constants as defined in the
papi.h header file: 
</P>
<TABLE WIDTH=464 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=194>
	<COL WIDTH=247>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_USER</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">User context counted</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_KERNEL</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">Kernel/OS context counted</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_OTHER</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">Exception/transient mode counted</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_SUPERVISOR</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">Supervisor/hypervisor context counted</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_ALL</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">All above contexts counted</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_MIN</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">The smallest available context</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_MAX</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">The largest available context</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_domain4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_set_domain5"></A>ERRORS</H3>
<TABLE WIDTH=300 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=15>
	<COL WIDTH=274>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set is currently counting events. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_set_domain6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
retval;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Initialize the library */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_library_init(PAPI_VER_CURRENT);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval &gt; 0 &amp;&amp; retval != PAPI_VER_CURRENT) {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>fprintf(stderr,&quot;PAPI
library version mismatch!0);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);
}</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval &lt; 0)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_set_domain(PAPI_DOM_KERNEL)) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_create_eventset(&amp;EventSet)) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_domain7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_domain8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_event_info0"></A>
PAPI_set_event_info - set an event’s name, description and
definition info 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_event_info1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_set_event_info(PAPI_event_info_t *info, int *EventCode, int
replace); </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_event_info2"></A>
<B>NOTE: This API has been deprecated in PAPI 3.5 pending a data
structure redesign.</B> 
</P>
<P STYLE="margin-bottom: 0in">This function modifies or adds an event
to the PAPI preset event table based on the contents of an even info
structure. This function presently works only to define or modify
PAPI preset events. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_event_info3"></A>
The following arguments are explicitly passed, or are implicit in the
info structure. 
</P>
<P STYLE="margin-bottom: 0in"><I>EventCode</I> -- event code returned
by the function on success 
</P>
<P STYLE="margin-bottom: 0in"><I>replace</I> -- 1 to replace an
existing event, or 0 to prevent accidental replacement 
</P>
<P STYLE="margin-bottom: 0in"><I>info</I> -- structure containing the
event information. Relevant fields in this structure are discussed
below. 
</P>
<P STYLE="margin-bottom: 0in"><I>event_code</I> -- although the value
of this event code is not used, the PAPI_PRESET_MASK bit must be set
to indicate that the following event description is for a preset
event. 
</P>
<P STYLE="margin-bottom: 0in"><I>symbol</I> -- name of the preset
event. If the event name is found in the table and <I>replace</I> is
non-zero, the event definition will be replaced. If the names do not
match a new entry will be created. 
</P>
<P STYLE="margin-bottom: 0in"><I>derived</I> -- a string value
indicating whether and how native event terms are combined to form a
preset event. Possible values include: 
</P>
<P STYLE="margin-bottom: 0in">NOT_DERIVED: Do nothing; only one
native event, <BR>DERIVED_ADD: Add all native events, <BR>DERIVED_CMPD:
Event lives in first counter but takes 2 or more native codes,
<BR>DERIVED_SUB: Subtract all events from the first event specified,
<BR>DERIVED_POSTFIX: Process events based on specified postfix
string, 
</P>
<P STYLE="margin-bottom: 0in"><I>postfix</I> -- a string value
containing postfix operations used only for DERIVED_POSTFIX events. 
</P>
<P STYLE="margin-bottom: 0in"><I>short_descr</I> -- short description
of the event 
</P>
<P STYLE="margin-bottom: 0in"><I>long_descr</I> -- detailed
description of the event 
</P>
<P STYLE="margin-bottom: 0in"><I>event_note</I> -- special
information or notes about the event 
</P>
<P STYLE="margin-bottom: 0in"><I>name</I> -- an array of up to 8
names of native events that make up this preset event. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_event_info4"></A>
On success, the function returns <B>PAPI_OK.</B> The EventCode
parameter will also be set to the new event code for this event. On
error, a non-zero error code is returned by the function. 
</P>
<H3 CLASS="western"><A NAME="papi_set_event_info5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EPERM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">You are trying to modify an existing event
			without specifying <I>replace.</I> 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">You are trying to modify an event that has been
			added to an EventSet. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments or fields of the
			info structure is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOTPRESET</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The PAPI preset table is full and there is no
			room for a new event. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The event specified is not a PAPI preset.
			Usually because the PAPI_PRESET_MASK bit is not set. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_set_event_info6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*Add
a note to a custom definition of PAPI_TOT_INS */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_event_name_to_code(&quot;PAPI_TOT_INS&quot;,&amp;EventCode)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_get_event_info(EventCode, &amp;info) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>strcpy(info.symbol,
&quot;MY_TOT_INS&quot;);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>strcpy(info.note,
&quot;This note describes my version of total instructions.&quot;);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_set_event_info(&amp;info, EventCode, 0) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_event_info7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_event_info8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_event_info0">PAPI_get_event_info</A></U></FONT>
, <FONT COLOR="#0000ff"><U><A HREF="#papi_set_event_info0">PAPI_set_event_info</A></U></FONT>
, <FONT COLOR="#0000ff"><U><A HREF="#papi_event_name_to_code0">PAPI_event_name_to_code</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_granularity0"></A>
PAPI_set_granularity - set the execution granularity for which events
are counted 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_granularity1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_set_granularity(int <I>granularity</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_set_granularity(C_INT
<I>granularity, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_granularity2"></A>
This function is currently unimplemented. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<H3 CLASS="western"><A NAME="papi_set_granularity3"></A>ERRORS</H3>
<H3 CLASS="western"><A NAME="papi_set_granularity4"></A>EXAMPLES</H3>
<H3 CLASS="western"><A NAME="papi_set_granularity5"></A>BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_granularity6"></A>
This function is currently unimplemented. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_granularity7"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_domain0">PAPI_set_domain</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_opt0">PAPI_get_opt</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_multiplex0"></A>
PAPI_get_multiplex - get the multiplexing status of specified event
set PAPI_set_multiplex - convert a standard event set to a
multiplexed event set 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_multiplex1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_get_multiplex(int <I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_set_multiplex(int <I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_multiplex(C_INT
<I>EventSet, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_set_multiplex(C_INT
<I>EventSet, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_multiplex2"></A>
<B>PAPI_get_multiplex</B> tests the state of the <I>PAPI_MULTIPLEXING</I>
flag in the specified event set, returning <I>TRUE</I> if a PAPI
event set is multiplexed, or <I>FALSE</I> if not. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_set_multiplex</B> converts a
standard PAPI event set created by a call to <B>PAPI_create_eventset()</B>
into an event set capable of handling multiplexed events. This must
be done after calling <B>PAPI_multiplex_init()</B> , but prior to
calling <B>PAPI_start().</B> Events can be added to an event set
either before or after converting it into a multiplexed set, but the
conversion must be done prior to using it as a multiplexed set. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_multiplex3"></A>
<I>EventSet</I> -- an integer handle for a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_multiplex4"></A>
<B>PAPI_get_multiplex</B> returns either <I>TRUE</I> (positive
non-zero) if multiplexing is enabled for this event set, <I>FALSE</I>
(zero) if multiplexing is not enabled, or <I>PAPI_ENOEVST</I> if the
specified event set cannot be found. 
</P>
<P STYLE="margin-bottom: 0in">On success, <B>PAPI_get_multiplex</B>
returns <I>PAPI_OK.</I> On error, a non-zero error code is returned,
as described below. 
</P>
<H3 CLASS="western"><A NAME="papi_set_multiplex5"></A>ERRORS</H3>
<TABLE WIDTH=557 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=30>
	<COL WIDTH=515>
	<TR>
		<TD COLSPAN=2 WIDTH=551 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=30>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=515>
			<P CLASS="western">One or more of the arguments is invalid, or the
			EventSet is already multiplexed. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=551 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=30>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=515>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=551 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=30>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=515>
			<P CLASS="western">The EventSet is currently counting events. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=551 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=30>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=515>
			<P CLASS="western">Insufficient memory to complete the operation. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_set_multiplex6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_get_multiplex(EventSet);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval &gt; 0) printf(&quot;This event set is ready for
multiplexing0&quot;)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval == 0) printf(&quot;This event set is not enabled for
multiplexing0&quot;)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval &lt; 0) handle_error(retval);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_set_multiplex(EventSet);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval == PAPI_EINVAL) &amp;&amp; (PAPI_get_multiplex(EventSet) &gt;
0))</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;This
event set already has multiplexing enabled0);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>else
if (retval != PAPI_OK) handle_error(retval);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_multiplex7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_multiplex8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_multiplex_init0">PAPI_multiplex_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_opt0"></A>
PAPI_get_opt - get PAPI library or event set options <BR>PAPI_set_opt
- set PAPI library or event set options <BR>PAPIF_get_clockrate - get
the clockrate (Fortran only) <BR>PAPIF_get_domain - get the counting
domain (Fortran only) <BR>PAPIF_get_granularity - get the counting
granularity (Fortran only) <BR>PAPIF_get_preload - get the library
preload setting (Fortran only) 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_opt1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_get_opt(int
<I>option</I>, PAPI_option_t *<I>ptr</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_set_opt(int
<I>option</I>, PAPI_option_t *<I>ptr</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_clockrate(C_INT
<I>clockrate</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_domain(C_INT
<I>EventSet, </I>C_INT <I>domain, </I>C_INT <I>mode, </I>C_INT <I>check</I>)
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_granularity(C_INT
<I>EventSet, </I>C_INT <I>granularity, </I>C_INT <I>mode, </I>C_INT
<I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_get_preload(C_STRING
<I>preload, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_opt2"></A>
<B>PAPI_get_opt()</B> and <B>PAPI_set_opt()</B> query or change the
options of the PAPI library or a specific event set created by
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>.
The C interface for these functions passes a pointer to the
<I>PAPI_option_t</I> structure. Not all options require or return
information in this structure, and not all options are implemented
for both get and set. 
</P>
<P STYLE="margin-bottom: 0in">The Fortran interface is a series of
calls implementing various subsets of the C interface. Not all
options in C are available in Fortran. 
</P>
<P STYLE="margin-bottom: 0in"><B>NOTE:</B> Some options, such as
PAPI_DOMAIN and PAPI_MULTIPLEX, are also available as separate entry
points in both C and Fortran. 
</P>
<P STYLE="margin-bottom: 0in">The reader is urged to see the example
code in the PAPI distribution for usage of PAPI_get_opt. The file
<B>papi.h</B> contains definitions for the structures unioned in the
<I>PAPI_option_t</I> structure. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_opt3"></A>
<I>option</I> -- is an input parameter describing the course of
action. Possible values are defined in <B>papi.h</B> and briefly
described in the table below. The Fortran calls are implementations
of specific options. 
</P>
<P STYLE="margin-bottom: 0in"><I>ptr</I> -- is a pointer to a
structure that acts as both an input and output parameter. It is
defined in <B>papi.h</B> and below. 
</P>
<P STYLE="margin-bottom: 0in"><I>EventSet</I> -- input; a reference
to an EventSetInfo structure 
</P>
<P STYLE="margin-bottom: 0in"><I>clockrate</I> -- output; cycle time
of this CPU in MHz; *may* be an estimate generated at init time with
a quick timing routine 
</P>
<P STYLE="margin-bottom: 0in"><I>domain</I> -- output; execution
domain for which events are counted 
</P>
<P STYLE="margin-bottom: 0in"><I>granularity</I> -- output; execution
granularity for which events are counted 
</P>
<P STYLE="margin-bottom: 0in"><I>mode</I> -- input; determines if
domain or granularity are default or for the current event set 
</P>
<P STYLE="margin-bottom: 0in"><I>preload</I> -- output; environment
variable string for preloading libraries 
</P>
<H3 CLASS="western"><A NAME="papi_set_opt4"></A>OPTIONS TABLE</H3>
<TABLE WIDTH=636 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=179>
	<COL WIDTH=434>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Predefined name</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><B>Explanation</B></P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>General information requests</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_CLOCKRATE</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get clockrate in MHz. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_CPUS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get number of CPUs. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_HWCTRS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get number of counters. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_EXEINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get Executable addresses for text/data/bss. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_HWINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get information about the hardware. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SHLIBINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get shared library information used by the
			program. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_SUBSTRATEINFO</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get the PAPI features the substrate supports 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_LIB_VERSION</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get the full PAPI version of the library 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PRELOAD</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get ‘‘LD_PRELOAD’’ environment
			equivalent. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Defaults for the global library</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEFDOM</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set default counting domain for newly
			created event sets. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEFGRN</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set default counting granularity. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEBUG</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set the PAPI debug state and the debug
			handler. The available debug states are defined in papi.h. The
			debug state is available in ptr-&gt;debug.level. The debug handler
			is available in ptr-&gt;debug.handler. For information regarding
			the behavior of the handler, please see the man page for
			PAPI_set_debug. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Multiplexing control</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MULTIPLEX</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set options for multiplexing. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MAX_MPX_CTRS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get maximum number of multiplexing counters. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DEF_MPX_USEC</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set the sampling time slice in microseconds
			for multiplexing. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Manipulating individual event
			sets</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_ATTACH</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get thread or process id to which event set is
			attached. Returns TRUE if currently attached. Set event set
			specified in ptr-&gt;ptr-&gt;attach.eventset to be attached to
			thread or process id specified in in ptr-&gt;attach.tid 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DETACH</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get thread or process id to which event set is
			attached. Returns TRUE if currently detached. Set event set
			specified in ptr-&gt;ptr-&gt;attach.eventset to be detached from
			any thread or process id. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOMAIN</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set domain for a single event set. The
			event set is specified in ptr-&gt;domain.eventset 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_GRANUL</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Get/Set granularity for a single event set. The
			event set is specified in ptr-&gt;granularity.eventset. Not
			implemented yet. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=622 VALIGN=TOP BGCOLOR="#e0e0e0">
			<P CLASS="western" ALIGN=CENTER><I>Platform specific options</I></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DATA_ADDRESS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Set data address range to restrict event
			counting for event set specified in ptr-&gt;addr.eventset.
			Starting and ending addresses are specified in ptr-&gt;addr.start
			and ptr-&gt;addr.end, respectively. If exact addresses cannot be
			instantiated, offsets are returned in ptr-&gt;addr.start_off and
			ptr-&gt;addr.end_off. Currently implemented on Itanium only. 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_INSTR_ADDRESS</B></P>
		</TD>
		<TD WIDTH=434 BGCOLOR="#e0e0e0">
			<P CLASS="western">Set instruction address range as described
			above. Itanium only. 
			</P>
		</TD>
	</TR>
</TABLE>
<P STYLE="margin-bottom: 0in">The <B>option_t *</B><I>ptr</I>
structure is defined in <B>papi.h</B> and looks something like the
following example from the source tree. Users should use the
definition in <B>papi.h</B> which is in synch with the library used. 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>typedef
union {</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_preload_option_t
preload;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_debug_option_t
debug;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_granularity_option_t
granularity;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_granularity_option_t
defgranularity;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_domain_option_t
domain;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_domain_option_t
defdomain;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_attach_option_t
attach;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_multiplex_option_t
multiplex;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_hw_info_t
*hw_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_shlib_info_t
*shlib_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_exe_info_t
*exe_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_substrate_info_t
*sub_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_overflow_option_t
ovf_info;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_addr_range_option_t
addr;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}
PAPI_option_t;</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_opt5"></A>
On success, these functions return <I>PAPI_OK.</I> On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_set_opt6"></A>ERRORS</H3>
<TABLE WIDTH=300 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=15>
	<COL WIDTH=274>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set is currently counting events. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_set_opt7"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_option_t
options;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((num = PAPI_get_opt(PAPI_MAX_HWCTRS,NULL)) &lt;= 0)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;This
machine has %d counters.0,num);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Set the domain of this EventSet</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>to
counter user and kernel modes for this</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>process
*/</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>memset(&amp;options,0x0,sizeof(options));</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>options.domain.eventset
= EventSet;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>options.domain.domain
= PAPI_DOM_ALL;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_set_opt(PAPI_DOMAIN, &amp;options) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_opt8"></A>
The granularity functions are not yet implemented. The domain
functions are only implemented on some platforms. There are no known
bugs in these functions. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_opt9"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_debug0">PAPI_set_debug</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_multiplex0">PAPI_set_multiplex</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_domain0">PAPI_set_domain</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_thr_specific0"></A>
PAPI_get_thr_specific, PAPI_set_thr_specific - Store or retrieve a
pointer to a thread specific data structure 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_set_thr_specific1"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_get_thr_specific(int tag, void **ptr); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_set_thr_specific(int tag, void *ptr); </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_thr_specific2"></A>
In C, PAPI_set_thr_specific will save ptr into an array indexed by
tag. PAPI_get_thr_specific will retrieve the pointer from the array
with index tag. There are 2 user available locations and tag can be
either PAPI_USR1_TLS or PAPI_USR2_TLS. The array mentioned above is
managed by PAPI and allocated to each thread which has called
PAPI_thread_init. There are no Fortran equivalent functions. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_set_thr_specific3"></A><I>tag</I>
-- An identifier, the value of which is either PAPI_USR1_TLS or
PAPI_USR2_TLS. This identifier indicates which of several data
structures associated with this thread is to be accessed. 
</P>
<P STYLE="margin-bottom: 0in"><I>ptr</I> -- A pointer to the memory
containing the data structure. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_thr_specific4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
negative error value is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_set_thr_specific5"></A>ERRORS</H3>
<TABLE WIDTH=240 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=11>
	<COL WIDTH=217>
	<TR>
		<TD COLSPAN=2 WIDTH=234 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=11>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=217>
			<P CLASS="western">The <I>tag</I> argument is out of range. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_set_thr_specific6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
   <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>HighLevelInfo
*state = NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval = PAPI_thread_init(pthread_self) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>/*</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>*
Do we have the thread specific data setup yet?</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>*/</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_get_thr_specific(PAPI_USR1_TLS, (void *) &amp;state))</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">       <FONT FACE="Courier New, monospace"><FONT SIZE=2>!=
PAPI_OK || state == NULL) {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>state
= (HighLevelInfo *) malloc(sizeof(HighLevelInfo));</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(state == NULL)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">         <FONT FACE="Courier New, monospace"><FONT SIZE=2>return
(PAPI_ESYS);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>memset(state,
0, sizeof(HighLevelInfo));</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>state-&gt;EventSet
= PAPI_NULL;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_create_eventset(&amp;state-&gt;EventSet)) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">         <FONT FACE="Courier New, monospace"><FONT SIZE=2>return
(PAPI_ESYS);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">      <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval=PAPI_set_thr_specific(PAPI_USR1_TLS, state))!=PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">         <FONT FACE="Courier New, monospace"><FONT SIZE=2>return
(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">   <FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_thr_specific7"></A>
There are no known bugs in these functions. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_set_thr_specific8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>,
.BR PAPI_thread_id (3), <FONT COLOR="#0000ff"><U><A HREF="#papi_register_thread0">PAPI_register_thread</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_set_event_domain0"></A>
PAPI_set_domain - set the default execution domain for new event sets
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_set_event_domain1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_set_domain(int <I>domain</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_set_domain(C_INT
<I>domain, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_set_event_domain(C_INT
<I>EventSet, </I>C_INT <I>domain, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_set_event_domain2"></A>
<B>PAPI_set_domain</B> sets the default execution domain for all new
event sets created by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
in all threads. Event sets that are already in existance are not
affected. To change the domain of an existing event set, please see
the <FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>
man page. The reader should note that the domain of an event set
affects only which mode the counter continue to run. Counts are still
aggregated for the current process, and not for any other processes
in the system. Thus when requesting <B>PAPI_DOM_KERNEL</B>, the user
is asking for events that occur on behalf of the process, inside the
kernel. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_set_event_domain3"></A>
<I>domain</I> -- one of the following constants as defined in the
papi.h header file: 
</P>
<TABLE WIDTH=464 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=194>
	<COL WIDTH=247>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_USER</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">User context counted</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_KERNEL</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">Kernel/OS context counted</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_OTHER</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">Exception/transient mode counted</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_SUPERVISOR</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">Supervisor/hypervisor context counted</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_ALL</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">All above contexts counted</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_MIN</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">The smallest available context</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=194 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_DOM_MAX</B></P>
		</TD>
		<TD WIDTH=247 BGCOLOR="#e0e0e0">
			<P CLASS="western">The largest available context</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_set_event_domain4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papif_set_event_domain5"></A>ERRORS</H3>
<TABLE WIDTH=300 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=15>
	<COL WIDTH=274>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=294 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=15>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=274>
			<P CLASS="western">The event set is currently counting events. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papif_set_event_domain6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
retval;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Initialize the library */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>retval
= PAPI_library_init(PAPI_VER_CURRENT);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval &gt; 0 &amp;&amp; retval != PAPI_VER_CURRENT) {</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>fprintf(stderr,&quot;PAPI
library version mismatch!0);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);
}</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(retval &lt; 0)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_set_domain(PAPI_DOM_KERNEL)) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_create_eventset(&amp;EventSet)) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_set_event_domain7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papif_set_event_domain8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_shutdown0"></A>
PAPI_shutdown - finish using PAPI and free all related resources 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_shutdown1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>void PAPI_shutdown
(void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_shutdown() </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_shutdown2"></A>
<B>PAPI_shutdown()</B> is an exit function used by the PAPI Library
to free resources and shut down when certain error conditions arise.
It is not necessary for the user to call this function, but doing so
allows the user to have the capability to free memory and resources
used by the PAPI Library. 
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_shutdown3"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_shutdown4"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_cleanup_eventset0">PAPI_cleanup_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_destroy_eventset0">PAPI_destroy_eventset</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_sprofil0"></A>
PAPI_sprofil - generate PC histogram data from multiple code regions
where hardware counter overflow occurs 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_sprofil1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_sprofil(PAPI_sprofil_t * <I>prof,</I> int <I>profcnt,</I> int
<I>EventSet,</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
                 <FONT FACE="Courier New, monospace"><FONT SIZE=2>int
<I>EventCode,</I>  int <I>threshold,</I>  int <I>flags);</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>The profiling
routines have no Fortran interface. </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_sprofil2"></A>
<B>PAPI_sprofil()</B> is a structure driven profiler that profiles
one or more disjoint regions of code in a single call. It accepts a
pointer to a preinitialized array of sprofil structures, and
initiates profiling based on the values contained in the array. Each
structure in the array defines the profiling parameters that are
normally passed to <B>PAPI_profil().</B> For more information on
profiling, see: <FONT COLOR="#0000ff"><U><A HREF="#papi_pofil0">PAPI_pofil</A></U></FONT>
</P>
<H3 CLASS="western">STRUCTURE FIELDS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_sprofil3"></A>
<I>*pr_base</I> -- pointer to the base address of the buffer. 
</P>
<P STYLE="margin-bottom: 0in"><I>pr_size</I> -- the size of the
histogram buffer in pr_base. 
</P>
<P STYLE="margin-bottom: 0in"><I>pr_off</I> -- the start address
of&nbsp;the region to be profiled. 
</P>
<P STYLE="margin-bottom: 0in"><I>pr_scale</I> -- the scaling factor
applied to the buffer. 
</P>
<P STYLE="margin-bottom: 0in">These fields are described in greater
detail in the documentation for <FONT COLOR="#0000ff"><U><A HREF="#papi_pofil0">PAPI_pofil</A></U></FONT>
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_sprofil4"></A>
<I>*prof</I> -- pointer to an array of PAPI_sprofil_t structures. 
</P>
<P STYLE="margin-bottom: 0in"><I>profcnt</I> -- number of structures
in the prof array for hardware profiling. 
</P>
<P STYLE="margin-bottom: 0in"><I>EventSet</I> -- The PAPI EventSet to
profile. This EventSet is marked as profiling-ready, but profiling
doesn’t actually start until a <B>PAPI_start()</B> call is issued. 
</P>
<P STYLE="margin-bottom: 0in"><I>EventCode</I> -- Code of the Event
in the EventSet to profile. This event must already be a member of
the EventSet. 
</P>
<P STYLE="margin-bottom: 0in"><I>threshold</I> -- minimum number of
events that must occur before the PC is sampled. If hardware overflow
is supported for your substrate, this threshold will trigger an
interrupt when reached. Otherwise, the counters will be sampled
periodically and the PC will be recorded for the first sample that
exceeds the threshold. If the value of threshold is 0, profiling will
be disabled for this event. 
</P>
<P STYLE="margin-bottom: 0in"><I>flags</I> -- bit pattern to control
profiling behavior. Defined values are given in a table in the
documentation for <FONT COLOR="#0000ff"><U><A HREF="#papi_pofil0">PAPI_pofil</A></U></FONT>
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_sprofil5"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western">ERRORS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_sprofil6"></A>
Error returns for <B>PAPI_sprofil()</B> are identical to those for
<FONT COLOR="#0000ff"><U><A HREF="#papi_profil0">PAPI_profil</A></U></FONT>
Please refer to that page for further details. 
</P>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_sprofil7"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
retval;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
long length;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_exe_info_t
*prginfo;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
short *profbuf1, *profbuf2, profbucket;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_sprofil_t
sprof[3];</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((prginfo = PAPI_get_executable_info()) == NULL)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>length
= (unsigned long)(prginfo-&gt;text_end - prginfo-&gt;text_start);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Allocate 2 buffers of equal length */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>profbuf1
= (unsigned short *)malloc(length);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>profbuf2
= (unsigned short *)malloc(length);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((profbuf1 == NULL) || (profbuf2 == NULL))</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>memset(profbuf1,0x00,length);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>memset(profbuf2,0x00,length);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
First buffer */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>sprof[0].pr_base
= profbuf1;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>sprof[0].pr_size
= length;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>sprof[0].pr_off
= (caddr_t) DO_FLOPS;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>sprof[0].pr_scale
= 0x10000;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Second buffer */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>sprof[1].pr_base
= profbuf2;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>sprof[1].pr_size
= length;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>sprof[1].pr_off
= (caddr_t) DO_READS;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>sprof[1].pr_scale
= 0x10000;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Overflow bucket */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>sprof[2].pr_base
= profbucket;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>sprof[2].pr_size
= 1;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>sprof[2].pr_off
= 0;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>sprof[2].pr_scale
= 0x0002;</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_sprofil(sprof, EventSet, PAPI_FP_INS, 1000000,</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">                 <FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_PROFIL_POSIX
| PAPI_PROFIL_BUCKET_16)) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_sprofil8"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_sprofil9"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_profil0">PAPI_profil</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_executable_info0">PAPI_get_executable_info</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_overflow0">PAPI_overflow</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start0"></A>
PAPI_start - start counting hardware events in an event set 
</P>
<P STYLE="margin-bottom: 0in">PAPI_stop - stop counting hardware
events in an event set 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_start(int
<I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_stop(int
<I>EventSet</I>, long_long *<I>values</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_start(C_INT
<I>EventSet, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_stop(C_INT
<I>EventSet, </I>C_LONG_LONG(*) <I>values, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start2"></A>
<B>PAPI_start</B> starts counting all of the hardware events
contained in the previously defined EventSet. All counters are
implicitly set to zero before counting. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_stop</B> halts the counting of
a previously defined event set and the counter values contained in
that EventSet are copied into the values array 
</P>
<P STYLE="margin-bottom: 0in">These calls assume an initialized PAPI
library and a properly added event set. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start3"></A>
<I>EventSet</I> -- an integer handle for a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>*values</I> -- an array to hold the
counter values of the counting events 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_start5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">A system or C library call failed inside PAPI,
			see the <I>errno</I> variable. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet is currently counting events.
			(<B>PAPI_start() </B>only) 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOTRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet is currently not running.
			(<B>PAPI_stop() </B>only) 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ECNFLCT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The underlying counter hardware can not count
			this event and other events in the EventSet simultaneously.
			(<B>PAPI_start() </B>only) 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The PAPI preset is not available on the
			underlying hardware. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_start6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_create_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, PAPI_TOT_INS) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Start counting */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_start(EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>poorly_tuned_function();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_stop(EventSet, values) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;%lld\n&quot;,values[0]);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start7"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_add_event0">PAPI_add_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start_counters0"></A>
PAPI_start_counters - PAPI High Level: start counting hardware events
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start_counters1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_start_counters(int *<I>events</I>, int <I>array_len</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_start_counters(C_INT(*)
<I>events, </I>C_INT <I>array_len, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start_counters2"></A>
<B>PAPI_start_counters()</B> starts counting the events named in the
events array. This function cannot be called if the events array is
already running. The user must call PAPI_stop_counters to stop the
events explicitly if he/she wants to call this function again. It is
the user’s responsibility to choose events that can be counted
simultaneously by reading the vendor’s documentation. The length of
the event array should be no longer than the value returned by
<FONT COLOR="#0000ff"><U><A HREF="#papi_num_counters0">PAPI_num_counters</A></U></FONT>.
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start_counters3"></A>
<I>*events</I> -- an array of codes for events such as PAPI_INT_INS
or a native event code 
</P>
<P STYLE="margin-bottom: 0in"><I>array_len</I> -- the number of items
in the *events array 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start_counters4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_start_counters5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Counters already been started, you must call
			PAPI_stop_counters before you call this function again. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">A system or C library call failed inside PAPI,
			see the <I>errno</I> variable. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">Insufficient memory to complete the operation. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ECNFLCT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The underlying counter hardware can not count
			this event and other events in the EventSet simultaneously. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The PAPI preset is not available on the
			underlying hardware. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_start_counters6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Start counting events */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_start_counters(Events, num_hwcntrs) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start_counters7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_start_counters8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_add_event0">PAPI_add_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_stop_counters0">PAPI_stop_counters</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_state0"></A>
PAPI_state - return the counting state of an EventSet 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_state1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_state (int
<I>EventSet</I>, int *<I>status</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_state(C_INT
<I>EventSet, </I>C_INT <I>status, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_state2"></A>
<B>PAPI_state()</B> returns the counting state of the specified event
set. 
</P>
<H3 CLASS="western">ARGUEMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_state3"></A>
<I>EventSet</I> -- an integer handle for a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>status</I> -- an integer containing
a boolean combination of one or more of the following nonzero
constants as defined in the PAPI header file papi.h: 
</P>
<TABLE WIDTH=485 BORDER=1 BORDERCOLOR="#c0c0c0" CELLPADDING=3 CELLSPACING=3>
	<COL WIDTH=179>
	<COL WIDTH=283>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_STOPPED</B></P>
		</TD>
		<TD WIDTH=283 BGCOLOR="#e0e0e0">
			<P CLASS="western">EventSet is stopped</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_RUNNING</B></P>
		</TD>
		<TD WIDTH=283 BGCOLOR="#e0e0e0">
			<P CLASS="western">EventSet is running</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PAUSED</B></P>
		</TD>
		<TD WIDTH=283 BGCOLOR="#e0e0e0">
			<P CLASS="western">EventSet temporarily disabled by the library</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_NOT_INIT</B></P>
		</TD>
		<TD WIDTH=283 BGCOLOR="#e0e0e0">
			<P CLASS="western">EventSet defined, but not initialized</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_OVERFLOWING</B></P>
		</TD>
		<TD WIDTH=283 BGCOLOR="#e0e0e0">
			<P CLASS="western">EventSet has overflowing enabled</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_PROFILING</B></P>
		</TD>
		<TD WIDTH=283 BGCOLOR="#e0e0e0">
			<P CLASS="western">EventSet has profiling enabled</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_MULTIPLEXING</B></P>
		</TD>
		<TD WIDTH=283 BGCOLOR="#e0e0e0">
			<P CLASS="western">EventSet has multiplexing enabled</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_ACCUMULATING</B></P>
		</TD>
		<TD WIDTH=283 BGCOLOR="#e0e0e0">
			<P CLASS="western">reserved for future use</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=179 BGCOLOR="#e0e0e0">
			<P CLASS="western"><B>PAPI_HWPROFILING</B></P>
		</TD>
		<TD WIDTH=283 BGCOLOR="#e0e0e0">
			<P CLASS="western">reserved for future use</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_state4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_state5"></A>ERRORS</H3>
<TABLE WIDTH=288 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=14>
	<COL WIDTH=263>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_state6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
EventSet = PAPI_NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
status = 0; </FONT></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_create_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, PAPI_TOT_INS) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Start counting */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_state(EventSet, &amp;status) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;State
is now %d\n&quot;,status);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_start(EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_state(EventSet, &amp;status) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;State
is now %d\n&quot;,status);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_state7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_state8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_start0">PAPI_start</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_stop0">PAPI_stop</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop0"></A>
PAPI_start - start counting hardware events in an event set 
</P>
<P STYLE="margin-bottom: 0in">PAPI_stop - stop counting hardware
events in an event set 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_start(int
<I>EventSet</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_stop(int
<I>EventSet</I>, long_long *<I>values</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_start(C_INT
<I>EventSet, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_stop(C_INT
<I>EventSet, </I>C_LONG_LONG(*) <I>values, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop2"></A>
<B>PAPI_start</B> starts counting all of the hardware events
contained in the previously defined EventSet. All counters are
implicitly set to zero before counting. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_stop</B> halts the counting of
a previously defined event set and the counter values contained in
that EventSet are copied into the values array 
</P>
<P STYLE="margin-bottom: 0in">These calls assume an initialized PAPI
library and a properly added event set. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop3"></A>
<I>EventSet</I> -- an integer handle for a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>*values</I> -- an array to hold the
counter values of the counting events 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_stop5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">A system or C library call failed inside PAPI,
			see the <I>errno</I> variable. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EISRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet is currently counting events.
			(<B>PAPI_start() </B>only) 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOTRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet is currently not running.
			(<B>PAPI_stop() </B>only) 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ECNFLCT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The underlying counter hardware can not count
			this event and other events in the EventSet simultaneously.
			(<B>PAPI_start() </B>only) 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVNT</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The PAPI preset is not available on the
			underlying hardware. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_stop6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_create_eventset(&amp;EventSet) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_add_event(EventSet, PAPI_TOT_INS) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Start counting */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_start(EventSet) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>poorly_tuned_function();</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_stop(EventSet, values) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;%lld\n&quot;,values[0]);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop7"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_add_event0">PAPI_add_event</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop_counters0"></A>
PAPI_stop_counters - PAPI High Level: stop counting hardware events
and reset values to zero 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop_counters1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_stop_counters(long_long *<I>values</I>, int <I>array_len</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_stop_counters(C_LONG_LONG(*)
<I>values, </I>C_INT <I>array_len, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop_counters2"></A>
<B>PAPI_stop_counters()</B> 
</P>
<P STYLE="margin-bottom: 0in">This function stops the counters and
copies the counts into the values array. The counters must have been
started by a previous call to PAPI_start_counters(). After this
function is called, the values are reset to zero. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop_counters3"></A>
<I>*values</I> -- an array where to put the counter values 
</P>
<P STYLE="margin-bottom: 0in"><I>array_len</I> -- the number of items
in the *values array 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop_counters4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_stop_counters5"></A>ERRORS</H3>
<TABLE WIDTH=288 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=14>
	<COL WIDTH=263>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOTRUN</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">The eventset is not started yet. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">The eventset has not been added yet. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_stop_counters6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
Events[2] = { PAPI_TOT_CYC, PAPI_TOT_INS };</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>long_long
values[2];</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Start counting events */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_start_counters(Events, 2) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>your_slow_code();</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Stop counting events */</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_stop_counters(values, 2) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
    <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(1);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop_counters7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_stop_counters8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_start_counters0">PAPI_start_counters</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_read_counters0">PAPI_read_counters</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_strerror0"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_perror   -
convert PAPI error codes to strings, and print error message to
stderr.</FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_strerror -
convert PAPI error codes to strings, and return the error string to
user.</FONT></FONT></P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_strerror1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_perror(int
<I>code</I>, char *<I>destination</I>, int <I>length</I>); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>char
*PAPI_strerror(int <I>code</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_perror(C_INT
<I>code, </I>C_STRING <I>destination, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_strerror2"></A>
<B>PAPI_perror()</B> fills the string <I>destination</I> with the
error message corresponding to the error code <I>code</I>. The
function copies <I>length</I> worth of the error description string
corresponding to <I>code</I> into destination. The resulting string
is always null terminated. If length is 0, then the string is printed
on stderr. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_strerror()</B> returns a
pointer to the error message corresponding to the error code <I>code</I>.
If the call fails the function returns the NULL pointer. This
function is not implemented in Fortran. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_strerror3"></A>
<I>code</I> -- the error code to interpret 
</P>
<P STYLE="margin-bottom: 0in"><I>*destination</I> -- &quot;the error
message in quotes&quot; 
</P>
<P STYLE="margin-bottom: 0in"><I>length</I> -- either 0 or
strlen(destination) 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_strerror4"></A>
On success <B>PAPI_perror()</B> returns <B>PAPI_OK.</B> and
<B>PAPI_strerror()</B> returns a non-NULL pointer. 
</P>
<H3 CLASS="western"><A NAME="papi_strerror5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=47>
	<COL WIDTH=575>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=47>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=575>
			<P CLASS="western">One or more of the arguments to <B>PAPI_perror()</B>
			is invalid. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=47 VALIGN=TOP>
			<P CLASS="western"><B>NULL</B> 
			</P>
		</TD>
		<TD WIDTH=575 VALIGN=BOTTOM>
			<P CLASS="western">The input error code to <B>PAPI_strerror()</B>
			is invalid. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_strerror6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
EventSet = PAPI_NULL;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>int
native = 0x0;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>char
error_str[PAPI_MAX_STR_LEN];</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_create_eventset(&amp;EventSet)) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>{</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>fprintf(stderr,
&quot;PAPI error %d: %s\n&quot;,retval,PAPI_strerror(retval));</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
     <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Add Total Instructions Executed to our EventSet */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_add_event(EventSet, PAPI_TOT_INS)) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>{</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">    
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPI_perror(retval,error_str,PAPI_MAX_STR_LEN);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">     <FONT FACE="Courier New, monospace"><FONT SIZE=2>fprintf(stderr,&quot;PAPI_error
%d: %s\n&quot;,retval,error_str);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">     <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Start counting */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((retval = PAPI_start(EventSet)) != PAPI_OK)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>handle_error(retval);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_strerror7"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_strerror8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_debug0">PAPI_set_debug</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_opt0">PAPI_set_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_opt0">PAPI_get_opt</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_shutdown0">PAPI_shutdown</A></U></FONT>,
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_thread_id0"></A>
PAPI_thread_id - get the thread identifier of the current thread 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_thread_id1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned long
PAPI_thread_id(void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_thread_id(C_INT
id<I>)</I> </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_thread_id2"></A>
This function returns a valid thread identifier. It calls the
function registered with PAPI through a call to <B>PAPI_thread_init().</B>
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_thread_id3"></A>
None. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_thread_id4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
negative error value is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_thread_id5"></A>ERRORS</H3>
<TABLE WIDTH=363 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=18>
	<COL WIDTH=333>
	<TR>
		<TD COLSPAN=2 WIDTH=357 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EMISC</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=18>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=333>
			<P CLASS="western">is returned if there are no threads registered.
						</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=18 VALIGN=TOP>
			<P CLASS="western"><B>-1</B> 
			</P>
		</TD>
		<TD WIDTH=333 VALIGN=BOTTOM>
			<P CLASS="western">is returned if the thread id function returns
			an error. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLE</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_thread_id6"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>unsigned
long tid;</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
((tid = PAPI_thread_id()) == (unsigned long int)-1)</FONT></FONT></P>
<P STYLE="margin-bottom: 0in">  <FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>printf(&quot;Initial
thread id is: %lu\n&quot;,tid);</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_thread_id7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_thread_id8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_thread_init0"></A>
PAPI_thread_init - initialize thread support in the PAPI library 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-bottom: 0in"><A NAME="papi_thread_init1"></A><B>C
Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include  papi.h  </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_thread_init
(unsigned long int (*<I>handle</I>)()); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include  fpapi.h  </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_thread_init(C_INT
FUNCTION <I>handle, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_thread_init2"></A>
<B>PAPI_thread_init</B> initializes thread support in the PAPI
library. Applications that make no use of threads do not need to call
this routine. This function MUST return a UNIQUE thread ID for every
new thread/LWP created. The OpenMP call <B>omp_get_thread_num()</B>
violates this rule, as the underlying LWPs may have been killed off
by the run-time system or by a call to <B>omp_set_num_threads()</B>.
In that case, it may still possible to use <B>omp_get_thread_num()</B>
in conjunction with <B>PAPI_unregister_thread()</B> when the OpenMP
thread has finished. However it is much better to use the underlying
thread subsystem’s call, which is <B>pthread_self()</B> on Linux
platforms. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_thread_init3"></A>
<I>handle</I> -- Pointer to a function that returns current thread
ID. 
</P>
<H3 CLASS="western"><A NAME="papi_thread_init4"></A>RETURN VALUES</H3>
<TABLE WIDTH=288 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=14>
	<COL WIDTH=263>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_OK</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">The call returned successfully. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=282 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_EINVAL</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=14>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=263>
			<P CLASS="western">One or more of the arguments is invalid. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_thread_init5"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>if
(PAPI_thread_init(pthread_self) != PAPI_OK)</FONT></FONT></FONT></FONT></P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
  <FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT FACE="Courier New, monospace"><FONT SIZE=2>exit(1);</FONT></FONT></FONT></FONT></P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_thread_init6"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_thread_init7"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_id0">PAPI_thread_id</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_list_threads0">PAPI_list_threads</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_get_thr_specific0">PAPI_get_thr_specific</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_set_thr_specific0">PAPI_set_thr_specific</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_register_thread0">PAPI_register_thread</A></U></FONT>,
PAPI_unregister_thread (3), <FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_unlock0"></A>
PAPI_lock - Lock one of two mutex variables defined in papi.h
<BR>PAPI_unlock - Unlock one of the mutex variables defined in papi.h
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_unlock1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>void
PAPI_lock(int<I>lock);</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>void
PAPI_unlock(int<I>lock);</I> </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_lock(C_INT
<I>lock)</I> </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_unlock(C_INT
<I>lock)</I> </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_unlock2"></A>
<B>PAPI_lock()</B> Grabs access to one of the two PAPI mutex
variables. This function is provided to the user to have a platform
independent call to (hopefully) efficiently implemented mutex. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_unlock()</B> unlocks the mutex
acquired by a call to <B>PAPI_lock</B>. 
</P>
<H3 CLASS="western">ARGUMENT</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_unlock3"></A>
<I>lock</I> -- an integer value specifying one of the two user locks:
<B>PAPI_USR1_LOCK or PAPI_USR2_LOCK</B> 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_unlock4"></A>
There are no return values for these calls. Upon return from
<B>PAPI_lock</B> the current thread has acquired exclusive access to
the specified PAPI mutex. 
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_unlock5"></A>
These functions have no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_unlock6"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_unregister_thread0"></A>
PAPI_register_thread, PAPI_unregister_thread - Inform PAPI of thread
status 
</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_unregister_thread1"></A>
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_register_thread (void); </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int
PAPI_unregister_thread (void); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_register_thread(C_INT
<I>check</I>) </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_unregister_thread(C_INT
<I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_unregister_thread2"></A>
<B>PAPI_register_thread</B> should be called when the user wants to
force PAPI to initialize a thread that PAPI has not seen before.
Usually this is not necessary as PAPI implicitly detects the thread
when an eventset is created or other thread local PAPI functions are
called. However, it can be useful for debugging and performance
enhancements in the run-time systems of performance tools. 
</P>
<P STYLE="margin-bottom: 0in"><B>PAPI_unregister_thread</B> should be
called when the user wants to shutdown a particular thread and free
the associated thread ID. THIS IS IMPORTANT IF YOUR THREAD LIBRARY
REUSES THE SAME THREAD ID FOR A NEW KERNEL LWP. OpenMP does this.
OpenMP parallel regions, if separated by a call to
omp_set_num_threads() will often kill off the underlying kernel LWPs
and then start new ones for the next region. However,
omp_get_thread_id() does not reflect this, as the thread IDs for the
new LWPs will be the same as the old LWPs. PAPI needs to know that
the underlying LWP has changed so it can set up the counters for that
new thread. This is accomplished by calling this function. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_unregister_thread3"></A>
None. 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_unregister_thread4"></A>
On success, this function returns <B>PAPI_OK.</B> On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_unregister_thread5"></A>ERRORS</H3>
<TABLE WIDTH=478 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=25>
	<COL WIDTH=441>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOMEM</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">Space could not be allocated to store the new
			thread information. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESYS</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">A system or C library call failed inside PAPI,
			see the <I>errno</I> variable. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=472 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESBSTR</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=25>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=441>
			<P CLASS="western">Hardware counters for this thread could not be
			initialized. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_unregister_thread6"></A>
None. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_unregister_thread7"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_init0">PAPI_thread_init</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi_thread_id0">PAPI_thread_id</A></U></FONT>
</P>
<H3 CLASS="western" STYLE="page-break-before: always">NAME</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_write0"></A>
<BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0in">PAPI_write - Write
counter values into counters</P>
<H3 CLASS="western">SYNOPSIS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_write1"></A>
<B>C Interface</B> 
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include &lt;papi.h&gt;
</FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>int PAPI_write(int
<I>EventSet</I>, long_long *<I>values</I>); </FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><B>Fortran Interface </B>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<BR>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>#include fpapi.h </FONT></FONT>
</P>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in">
<FONT FACE="Courier New, monospace"><FONT SIZE=2>PAPIF_write(C_INT
<I>EventSet, </I>C_LONG_LONG(*) <I>values, </I>C_INT <I>check</I>) </FONT></FONT>
</P>
<H3 CLASS="western">DESCRIPTION</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_write2"></A>
<B>PAPI_write()</B> writes the counter values provided in the array
<I>values</I> into the event set <I>EventSet.</I> The virtual
counters managed by the PAPI library will be set to the values
provided. If the event set is running, an attempt will be made to
write the values to the running counters. This operation is not
permitted by all substrates and may result in a run-time error. 
</P>
<H3 CLASS="western">ARGUMENTS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_write3"></A>
<I>EventSet</I> -- an integer handle for a PAPI event set as created
by <FONT COLOR="#0000ff"><U><A HREF="#papi_create_eventset0">PAPI_create_eventset</A></U></FONT>
</P>
<P STYLE="margin-bottom: 0in"><I>*values</I> -- an array to hold the
counter values of the counting events 
</P>
<H3 CLASS="western">RETURN VALUES</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_write4"></A>
On success, this function returns <B>PAPI_OK.</B> <BR>On error, a
non-zero error code is returned. 
</P>
<H3 CLASS="western"><A NAME="papi_write5"></A>ERRORS</H3>
<TABLE WIDTH=634 BORDER=0 CELLPADDING=3 CELLSPACING=0>
	<COL WIDTH=35>
	<COL WIDTH=587>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ENOEVST</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">The EventSet specified does not exist. 
			</P>
		</TD>
	</TR>
	<TR>
		<TD COLSPAN=2 WIDTH=628 VALIGN=TOP>
			<P CLASS="western"><B>PAPI_ESBSTR</B> 
			</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=35>
			<P CLASS="western">&nbsp;</P>
		</TD>
		<TD WIDTH=587>
			<P CLASS="western">PAPI_write() is not implemented for this
			architecture. <B>PAPI_ESYS</B> The EventSet is currently counting
			events and the substrate could not change the values of the
			running counters. 
			</P>
		</TD>
	</TR>
</TABLE>
<H3 CLASS="western">EXAMPLES</H3>
<P STYLE="margin-left: 0.5in; margin-right: 0.5in; margin-bottom: 0in"><A NAME="papi_write6"></A>
<BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT FACE="Courier New, monospace"><FONT SIZE=2>/*
Yet to be written */</FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<H3 CLASS="western">BUGS</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_write7"></A>
This function has no known bugs. 
</P>
<H3 CLASS="western">SEE ALSO</H3>
<P CLASS="western" STYLE="margin-bottom: 0in"><A NAME="papi_write8"></A>
<FONT COLOR="#0000ff"><U><A HREF="#papi_read0">PAPI_read</A></U></FONT>,
<FONT COLOR="#0000ff"><U><A HREF="#papi0">PAPI</A></U></FONT>, <FONT COLOR="#0000ff"><U><A HREF="#papif0">PAPIF</A></U></FONT>,
</P>
<P CLASS="western" STYLE="margin-bottom: 0in; page-break-before: always">
<BR>
</P>
<H3 CLASS="western"></H3>
<DIV TYPE=FOOTER>
	<P STYLE="margin-top: 0.21in; margin-bottom: 0in">	- <SDFIELD TYPE=PAGE SUBTYPE=RANDOM FORMAT=PAGE>1</SDFIELD>
	-</P>
</DIV>
</BODY>
</HTML>
WinPAPI Version 3.0 Release Notes
August, 2009

NOTES:
This folder contains a LIMITED FUNCTION RELEASE of PAPI for Windows.
It runs on Windows versions from XP on.*
It requires Administrator priveleges to install the kernel driver.
It works on both UniProcessor and MultiProcessor builds of Windows.
It binds itself to a single processor on MP systems.
It measures system-wide events, not per thread nor per process.
It supports most modern processors that Windows runs on (excepting IA64).
It currently DOES NOT support multiplexing, overflow, or profiling.

*  It currently DOES NOT support 64 bit versions of Windows. 

- substrate: 	the stuff for building a static WinPAPI library to link your application
- ctests:	C projects for PAPI test examples.
- winpmc:	kernel driver for access to perfmorance counters.

TOOLS REQUIRED:
- The tests, shell and substrate require Microsoft Visual C++ version 6 or better.
- Libpfm, a part of the substrate requires Mingw (www.mingw.org)
- The WinPMC driver requires the Windows DDK or its successor the 
Windows Driver Kit, available for download from 
www.microsoft.com/whdc/resources/downloads.mspx (may require free registration)
needs to support your platform.

You need to extract the PAPI src folder to a directory WITH OUT spaces.
( C:\Documents and Settings\... is bad!)


Overview of the build process for WinPAPI:
gcc is used to compile libpfm and x86_cache_info.c (vc++ will probably never 
	support C99 style initializations)
vc++ builds the rest and the Microsoft linker is used to build the dll,
allowing for the use of the Visual Studio debugger.

WinPAPI: Note, MinGW (or however you choose to get gcc on Windows)is required 
	 to build PAPI
- Open substrate\WinPAPI.vcproj.
- Now is a good time to make sure Visual Studio can find gcc:
	Select the Menu option Tools>Options
	Under the Projects and Solutions Branch select VC++ Directories
	Make sure Show directories for: is listing Executable files and 
		add your MinGW bin directory (eg C:\MinGW\bin)
- The project should compile and install the library in a system wide
  location (C:\WINDOWS\System32) (also $(PAPI_DIR)\win2k\substrate\Debug)

WinPMC Driver:
- Under the Start menu folder for the Driver Development Kits find the
	build environment suited for your platform and 
	select the checked (debug) build.
- Navigate to the win2k\winpmc directory.
- build -ceZ
- copy /B objchk_$(platform)\$(i386 | amd64)\WinPMC.sys C:\WINDOWS\System32\drivers
- ntaddsvc winpmc
- net start winpmc
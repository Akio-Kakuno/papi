<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Untitled Document</title>
                                     
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
                     
  <style type="text/css">
<!--
p
{font-family: Verdana, Helvetica, Arial, sans-serif}

.style
{font-family: Verdana, Helvetica, Arial, sans-serif}

td.navBar A:link
{color: #ddd8d2;
font-weight: bold;
text-decoration: none}

td.navBar A:visited
{color: #ccc9c5;
font-weight: bold;
text-decoration: none}

td.navBar A:hover
{color: #ffffff}

.navBar
{color: #77797c;
font-family: Verdana, Helvetica, Arial, sans-serif;
font-size:  11px;
text-transform: uppercase}

a:visited
{color: #50525f}

a:link
{color: #8b3409}

a:hover
{color: #660000}

a:active
{background-color: #b1afad}

.footerNote
{background-color: #ffffff;
background-image: url(images/line.gif);
background-position: right top;
background-repeat: repeat-x;
color: #77797c;
font-family: Verdana, Helvetica, Arial, sans-serif;
font-size:  10px}

BODY
{font-family: Verdana, Helvetica, Arial, sans-serif}
-->
</style>                
  <script language="JavaScript">
<!--
function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && document.getElementById) x=document.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}
//-->
</script>
</head>
 <body bgcolor="#ffffff" text="#000000" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
       E    
<table width="100%" border="0" cellspacing="0" cellpadding="0">
   <tbody>
     <tr>
       <td valign="Top" height="75">       
      <table width="100%" border="0" cellspacing="0" cellpadding="0" height="75">
         <tbody>
           <tr>
             <td background="images/menubg95.jpg" height="75">          
  
            <table width="760" border="0" cellspacing="0" cellpadding="0" align="Center" height="75">
               <tbody>
                 <tr valign="Bottom">
                   <td width="760" align="Center" height="50" colspan="2"><img src="images/headertop.jpg" width="760" height="50">
                   </td>
                 </tr>
                 <tr>
                   <td height="10" align="Center" valign="Top" bgcolor="#333333" width="135"><img src="images/logoleft.jpg" width="135" height="25" vspace="0" hspace="0" align="Left">
                   </td>
                   <td class="navBar" height="25" align="Center" valign="Middle" bgcolor="#333333" nowrap="" width="625" background="images/menubg.jpg">
                   
                  <center><a href="http://icl.cs.utk.edu/papi/"> PAPI HOME
                     </a>
                   </center>
                   </td>
                 </tr>
                 <tr>
                   <td height="10" align="Center" valign="Top" bgcolor="#ffffff" width="135"><img src="images/logobottom.jpg" width="135" height="20" vspace="0" hspace="0" align="Left">
                   </td>
                   <td class="navBar" height="10" align="Center" valign="Bottom" bgcolor="#ffffff" width="625"><img src="images/white.jpg" width="625" height="20" vspace="0" hspace="0" align="Left">
                   </td>
                 </tr>
               
              </tbody>             
            </table>
             </td>
           </tr>
         
        </tbody>       
      </table>
       </td>
     </tr>
     <tr>
       <td valign="Top">       
      <table width="760" border="0" cellspacing="0" cellpadding="0" align="Center" class="style">
         <tbody>
           <tr>
             <td class="STYLE">             
            <center>             
            <h1><i>PAPI MatLab Support Page</i>             
            <hr></h1>
             </center>
             
            <h2> Mex Functions                                           
                      
            <hr width="100%"></h2>
             
            <blockquote>               
              <h3><a name="flops"></a>
    NAME</h3>
               </blockquote>
               
              <blockquote>                 
                <blockquote><b>ops = flops(0) </b>- Initialize PAPI library,
  reset counters to zero and begin counting.</blockquote>
                   
                  <blockquote><b>ops = flops </b>- Return the number of floating 
point operations since the first call or last reset.</blockquote>
                     
                    <h3>DESCRIPTION</h3>
                     
                    <blockquote>The first call to flops will initialize 
 PAPI, set up the counters to monitor floating point instructions and total 
  cpu cycles, and start the counters. Subsequent calls will return the number 
of floating point operations since the first call or last reset and continue 
counting. Any call with an input of &nbsp;0 will reset the counters and return 
0.</blockquote>
                       
                      <h3>                       </h3>
                      <h3> ARGUMENTS</h3>
                                              
                      <blockquote><i>0 </i>-- an optional input argument of
0 will cause the counters to be reset to zero.</blockquote>
                         
                        <h3> RETURNS</h3>
                         
                        <blockquote><i>ops</i> -- total floating point instructions 
 since the first call to either <b>flops </b>or <b>floprate </b>or the last 
call to either function with an input of 0.                              
                                                                        
                                     </blockquote>
                           </blockquote>
                           
                          <hr width="100%">                           
                          <blockquote>                             
                            <h3><b><a name="floprate"></a>
                             </b>NAME</h3>
                             </blockquote>
                             
                            <blockquote>                               
                              <blockquote><b>[ops, mflops] =  floprate(0)</b>
   - Initalize the rate generator and instruction counter to 0.<br>
                                 <b>[ops, mflops] =  floprate</b>  - Return 
accumulated floating point instructions and incremental MFLOPS since the last
 call to flops or floprate.</blockquote>
                                 
                                <h3> DESCRIPTION</h3>
                                 
                                <blockquote><b>floprate </b>returns the cumulative 
number of &nbsp;floating point operations since the last reset, and the floating 
point execution rate in MegaFlops per second since the last call to either 
                                  <b>flops </b>or <b>floprate.</b><br>
 This function provides a simple way to gauge how fast a calculation is executing. 
Successive calls to <b>floprate</b> will use measured floating point operations 
and cycles to compute a floating point operation rate in MFlops. Since <b>
 floprate </b>shares measurements with <b>flops </b>the rate reported will 
be that of the interval since the last call to either of these functions.<br>
                                   </blockquote>
                                   
                                  <h3> ARGUMENTS</h3>
                                   
                                  <blockquote><i>0 </i>-- an optional input 
argument of 0 will cause the counters to be reset to zero.</blockquote>
                                     
                                    <h3> RETURNS</h3>
                                     
                                    <blockquote><i>ops</i> -- total floating
 point instructions  since the first call to either <b>flops </b>or <b>floprate 
                                      </b>or the latest call to either function 
with an input of 0.                                                      
                                                                        
                                                    
                                      <p><i>mflops</i> -- Mflops/s achieved 
 since  the latest call to either <b>flops </b>or <b>floprate.</b></p>
                                       </blockquote>
                                       </blockquote>
                                       
                                      <center>                          
            
                                      <h1>                              
        
                                      <hr></h1>
                                       </center>
                                       
                                      <h2> Example M-Files               
                                                                        
                                                                        
                  
                                      <hr width="100%"></h2>
                                       
                                      <blockquote>                      
                  
                                        <h3><a name="InnerProduct"></a>
    NAME</h3>
                                         
                                        <blockquote><b>flops_InnerProduct.m, 
&nbsp;floprate_InnerProduct.m</b></blockquote>
                                           
                                          <h3> DESCRIPTION</h3>
                                           
                                          <blockquote>Computes the product 
of a  scalar and a vector of size n = 50 to 500 in steps of 50. Displays the
observed  number of floating point operations as compared to the theoretically 
 predicted  number. Theory predicts ops = 2*n. The results provide an indication 
 of the  overhead incurred by MatLab, and the Mflops acheived for each computation.</blockquote>
                                             
                                            <h3> SOURCE</h3>
                                             
                                            <blockquote><tt>fprintf(1,'\nPAPI 
Inner Product Test');</tt><tt><br>
                                               </tt><tt>fprintf(1,'\n%12s 
%12s %12s %12s %12s %12s\n', 'n', 'ops', '2n', 'difference', '% error', 'mflops')</tt><tt><br>
                                               </tt><tt>i=0;</tt><tt><br>
                                               </tt><tt>for n=50:50:500,</tt><tt><br>
                                               </tt><tt>&nbsp;&nbsp;&nbsp; 
a=rand(1,n);x=rand(n,1);</tt><tt><br>
                                               </tt><tt>&nbsp;&nbsp;&nbsp; 
i=i+1;</tt><tt><br>
                                               </tt><tt>&nbsp;&nbsp;&nbsp; 
flops(0);</tt><tt><br>
                                               </tt><tt>&nbsp;&nbsp;&nbsp; 
c=a*x;</tt><tt><br>
                                               </tt><tt>&nbsp;&nbsp;&nbsp; 
[count(i),mflops]=floprate;</tt><tt><br>
                                               </tt><tt>&nbsp;&nbsp;&nbsp; 
fprintf(1,'%12d %12d %12d %12d %12.2g %12.2g\n',n,count(i),2*n,count(i) - 
2*n, (1.0 - ((2*n) / (count(i)))) * 100,mflops)</tt><tt><br>
                                               </tt><tt>end</tt></blockquote>
                                               
                                              <h3> RESULTS</h3>
                                               
                                              <blockquote>The following were 
 obtained  on an 850 MHz Pentium III running Windows 2000 and MatLab 6.1. 
Your milage  may vary. <br>
                                                 </blockquote>
                                                 <tt>&gt;&gt; floprate_innerproduct</tt><tt><br>
                                                 </tt><tt><br>
                                                 </tt><tt>PAPI Inner Product 
Test</tt><tt><br>
                                                 </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ops&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
2n&nbsp;&nbsp; difference&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; % error&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
mflops</tt><tt><br>
                                                 </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
50&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 124&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 24&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
19&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.012</tt><tt><br>
                                                 </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 228&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
200&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 28&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.7</tt><tt><br>
                                                 </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
150&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 332&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
300&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
9.6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5.8</tt><tt><br>
                                                 </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
200&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 436&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
400&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 36&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
8.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 11</tt><tt><br>
                                                 </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
250&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 540&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
500&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 40&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
7.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.14</tt><tt><br>
                                                 </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
300&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 644&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
600&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 44&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
6.8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 11</tt><tt><br>
                                                 </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
350&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 748&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
700&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 48&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
6.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 19</tt><tt><br>
                                                 </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
400&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 856&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
800&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 56&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
6.5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 23</tt><tt><br>
                                                 </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
450&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 960&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
900&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 60&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
6.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 23</tt><tt><br>
                                                 </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
500&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1064&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
1000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 64&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 27</tt><tt><br>
                                                 </tt><tt><br>
                                                 </tt><tt>&gt;&gt;</tt></blockquote>
                                                 
                                                <h3>                    
                            
                                                <hr width="100%"></h3>
                                                 
                                                <blockquote>            
                                      
                                                  <h3><a name="VectorMatrix"></a>
    NAME</h3>
                                                   
                                                  <blockquote><b>flops_VectorMatrix.m,
floprate_VectorMatrix.m</b></blockquote>
                                                     
                                                    <blockquote>        
                                              
                                                      <h3> DESCRIPTION</h3>
                                                       
                                                      <blockquote>Computes 
the product of a square matrix and a vector of size n = 50 to 500 in steps 
of 50. Displays the observed number of floating point operations as compared 
 to the theoretically predicted number. Theory predicts ops = 2*n^2. The results
 provide an indication of the overhead incurred by MatLab, and the Mflops
acheived for each computation.</blockquote>
                                                         
                                                        <h3> SOURCE</h3>
                                                         
                                                        <blockquote><tt>fprintf(1,'\nPAPI 
Matrix Vector Multiply Test');</tt><tt><br>
                                                           </tt><tt>fprintf(1,'\n%12s 
%12s %12s %12s %12s %12s\n', 'n', 'ops', '2n^2', 'difference', '% error', 
'mflops')</tt><tt><br>
                                                           </tt><tt>i=0;</tt><tt><br>
                                                           </tt><tt>for n=50:50:500,</tt><tt><br>
                                                           </tt><tt>&nbsp;&nbsp;&nbsp; 
a=rand(n);x=rand(n,1);</tt><tt><br>
                                                           </tt><tt>&nbsp;&nbsp;&nbsp; 
i=i+1;</tt><tt><br>
                                                           </tt><tt>&nbsp;&nbsp;&nbsp; 
flops(0);</tt><tt><br>
                                                           </tt><tt>&nbsp;&nbsp;&nbsp; 
b=a*x;</tt><tt><br>
                                                           </tt><tt>&nbsp;&nbsp;&nbsp; 
[count(i),mflops]=floprate;</tt><tt><br>
                                                           </tt><tt>&nbsp;&nbsp;&nbsp; 
fprintf(1,'%12d %12d %12d %12d %12.2g %12.2g\n',n,count(i),2*n^2,count(i) 
- 2*n^2, (1.0 - ((2*n^2) / (count(i)))) * 100,mflops)</tt><tt><br>
                                                           </tt><tt>end</tt>
                                                           </blockquote>
                                                           
                                                          <h3> RESULTS</h3>
                                                           
                                                          <blockquote>The 
following   were obtained on an 850 MHz Pentium III running Windows 2000 and
MatLab 6.1.  Your milage may vary. </blockquote>
                                                             </blockquote>
                                                             
                                                            <p><tt>&gt;&gt; 
floprate_matrixvector</tt><tt><br>
                                                             </tt><tt><br>
                                                             </tt><tt>PAPI 
Matrix Vector Multiply Test</tt><tt><br>
                                                             </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ops&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
2n^2&nbsp;&nbsp; difference&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; % error&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
mflops</tt><tt><br>
                                                             </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
50&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5225&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
5000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 225&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
4.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.1</tt><tt><br>
                                                             </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 20630&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
20000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 630&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
3.1&nbsp;&nbsp;&nbsp;&nbsp; 1.6e+002</tt><tt><br>
                                                             </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
150&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 45228&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
45000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 228&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0.5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7.3</tt><tt><br>
                                                             </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
200&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 80322&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
80000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 322&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 53</tt><tt><br>
                                                             </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
250&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 125428&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
125000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 428&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0.34&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 45</tt><tt><br>
                                                             </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
300&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 180546&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
180000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 546&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 48</tt><tt><br>
                                                             </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
350&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 245676&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
245000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 676&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0.28&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 52</tt><tt><br>
                                                             </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
400&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 320472&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
320000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 472&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0.15&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 38</tt><tt><br>
                                                             </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
450&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 405588&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
405000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 588&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0.14&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 37</tt><tt><br>
                                                             </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
500&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 500716&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
500000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 716&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0.14&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 40</tt><tt><br>
                                                             </tt><tt>&gt;&gt;</tt></p>
                                                             </blockquote>
                                                             
                                                            <h3>        
                                                    
                                                            <hr width="100%"></h3>
                                                             
                                                            <blockquote> 
                                                             
                                                              <h3><a name="MatrixMatrix"></a>
    NAME</h3>
                                                               
                                                              <blockquote><b>
   flops_MatrixMatrix.m, flops_MatrixMatrix.m</b></blockquote>
                                                                 
                                                                <h3> DESCRIPTION</h3>
                                                                 
                                                                <blockquote>
   Computes  the product of two square matrices of size n = 50 to 500 in
steps  of 50. Displays the observed number of floating point operations as
compared  to the theoretically predicted number. Theory predicts ops = 2*n^3.
MatLab  uses an ATLAS optimized agorithm for peak performance on matrix-matrix
multiplies.  The bulk of the error indicated below is due to that algorithm,
which increases  floating point performance while adding floating point operations
to the theoretically predicted number.</blockquote>
                                                                   
                                                                  <h3> SOURCE</h3>
                                                                   
                                                                  <blockquote><tt>
 fprintf(1,'\nPAPI Matrix Matrix Multiply Test');</tt><tt><br>
                                                                     </tt><tt>
 fprintf(1,'\n%12s %12s %12s %12s %12s %12s\n', 'n', 'ops', '2n^3', 'difference', 
'% error', 'mflops')</tt><tt><br>
                                                                     </tt><tt>
 i=0;</tt><tt><br>
                                                                     </tt><tt>
 for n=50:50:500,</tt><tt><br>
                                                                     </tt><tt>
 &nbsp;&nbsp;&nbsp; a=rand(n);b=rand(n);c=rand(n);</tt><tt><br>
                                                                     </tt><tt>
 &nbsp;&nbsp;&nbsp; i=i+1;</tt><tt><br>
                                                                     </tt><tt>
 &nbsp;&nbsp;&nbsp; flops(0);</tt><tt><br>
                                                                     </tt><tt>
 &nbsp;&nbsp;&nbsp; c=c+a*b;</tt><tt><br>
                                                                     </tt><tt>
 &nbsp;&nbsp;&nbsp; [count(i),mflops]=floprate;</tt><tt><br>
                                                                     </tt><tt>
 &nbsp;&nbsp;&nbsp; fprintf(1,'%12d %12d %12d %12d %12.2g %12.2g\n',n,count(i),2*n^3,count(i) 
- 2*n^3, (1.0 - ((2*n^3) / (count(i)))) * 100,mflops)</tt><tt><br>
                                                                     </tt><tt>
 end</tt></blockquote>
                                                                     
                                                                    <h3> RESULTS</h3>
                                                                     
                                                                    <blockquote>
     The following were obtained on an 850 MHz Pentium III running Windows
 2000  and MatLab 6.1. Your milage may vary. </blockquote>
                                                                       
                                                                      <p><tt>
 &gt;&gt; floprate_matrixmatrix</tt><tt><br>
                                                                       </tt><tt><br>
                                                                       </tt><tt>
 PAPI Matrix Matrix Multiply Test</tt><tt><br>
                                                                       </tt><tt>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
ops&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2n^3&nbsp;&nbsp; difference&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
% error&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mflops</tt><tt><br>
                                                                       </tt><tt>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 50&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
258665&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 250000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
8665&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
2e+002</tt><tt><br>
                                                                       </tt><tt>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 100&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
2039073&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
39073&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.9&nbsp;&nbsp;&nbsp;&nbsp; 
4.4e+002</tt><tt><br>
                                                                       </tt><tt>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 150&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
6796011&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6750000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
46011&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.68&nbsp;&nbsp;&nbsp;&nbsp; 
4.5e+002</tt><tt><br>
                                                                       </tt><tt>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 200&nbsp;&nbsp;&nbsp;&nbsp; 
16082397&nbsp;&nbsp;&nbsp;&nbsp; 16000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
82397&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.51&nbsp;&nbsp;&nbsp;&nbsp; 
3.7e+002</tt><tt><br>
                                                                       </tt><tt>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 250&nbsp;&nbsp;&nbsp;&nbsp; 
31379547&nbsp;&nbsp;&nbsp;&nbsp; 31250000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
129547&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.41&nbsp;&nbsp;&nbsp;&nbsp; 
4.9e+002</tt><tt><br>
                                                                       </tt><tt>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 300&nbsp;&nbsp;&nbsp;&nbsp; 
54187827&nbsp;&nbsp;&nbsp;&nbsp; 54000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
187827&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.35&nbsp;&nbsp;&nbsp;&nbsp; 
4.9e+002</tt><tt><br>
                                                                       </tt><tt>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 350&nbsp;&nbsp;&nbsp;&nbsp; 
86007420&nbsp;&nbsp;&nbsp;&nbsp; 85750000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
257420&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
5e+002</tt><tt><br>
                                                                       </tt><tt>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 400&nbsp;&nbsp;&nbsp; 128320222&nbsp;&nbsp;&nbsp; 
128000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 320222&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0.25&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5e+002</tt><tt><br>
                                                                       </tt><tt>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 450&nbsp;&nbsp;&nbsp; 182656117&nbsp;&nbsp;&nbsp; 
182250000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 406117&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0.22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5e+002</tt><tt><br>
                                                                       </tt><tt>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 500&nbsp;&nbsp;&nbsp; 250503000&nbsp;&nbsp;&nbsp; 
250000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 503000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0.2&nbsp;&nbsp;&nbsp;&nbsp; 5.1e+002</tt><tt><br>
                                                                       </tt><tt>
 &gt;&gt;&nbsp;</tt></p>
                                                                       </blockquote>
                                                                       </td>
                                                                     </tr>
                                                                   
                                                                  </tbody>
                                                                 
                                                                </table>
                                                                 </td>
                                                               </tr>
                                                               <tr>
                                                                 <td valign="Top">
                                                                 
                                                                <table width="760" border="0" cellspacing="0" cellpadding="5" align="Center">
                                                                   <tbody>
                                                                     <tr>
                                                                       <td>
                                                                       
                                                                      <hr size="1"></td>
                                                                     </tr>
                                                                     <tr>
                                                                       <td height="92">
                                                                       
                                                                      <table width="760" border="0" cellspacing="0" cellpadding="0" align="Center" vspace="0" hspace="0">
                                                                        
                                                                        <tbody>
                                                                        
  <tr valign="Top">
                                                                        
    <td align="Left" background="images/stripes2.jpg" rowspan="2"><br>
                                                                        
    </td>
                                                                        
    <td align="Right" height="39" background="images/stripes2.jpg" width="280"><img src="images/trans.gif" width="280" height="63" vspace="0" hspace="0">
                                                                        
    </td>
                                                                        
    <td align="Left" height="63" width="200" background="images/spinbg.jpg"><a href="http://icl.cs.utk.edu/" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image10','','images/spinlogo.gif',1)"><img name="Image10" border="0" src="images/stable.gif" width="200" height="63" hspace="0" vspace="0" align="Left" alt="Innovative Computing Laboratory">
                                                                        
    </a>
                                                                        
    </td>
                                                                        
    <td align="Left" height="0" rowspan="2" valign="Top" width="140">   
                                                                        
                                                                            <div align="Left"><img src="images/trans.gif" width="140" height="75" border="0" align="Left" vspace="0" hspace="0">
                                                                        
    </div>
                                                                        
    </td>
                                                                        
    <td align="Left" rowspan="2" valign="Top" width="140"><img src="images/rd.jpg" width="140" height="75" border="0" align="Right" vspace="0" hspace="0" alt="2001 R&amp;D Winner">
                                                                        
    </td>
                                                                        
    <td align="Right" rowspan="3" valign="Top" bgcolor="#ffffff"><br>
                                                                        
    </td>
                                                                        
  </tr>
                                                                        
  <tr valign="Top">
                                                                        
    <td align="Center" height="22" rowspan="2" valign="Top"><span class="FOOTERNOTE">
      Contact PAPI:  <a href="mailto:papi@cs.utk.edu"> papi@cs.utk.edu</a>
                                                                        
    </span></td>
                                                                        
    <td align="Center" height="11" width="200"><a href="http://www.cs.utk.edu/" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image11','','images/cssigon.gif',1)"><img name="Image11" border="0" src="images/cssigoff.gif" width="200" height="11" align="Left" hspace="0" vspace="0" alt="Computer Science Department">
                                                                        
    </a>
                                                                        
    </td>
                                                                        
  </tr>
                                                                        
  <tr valign="Top">
                                                                        
    <td align="Left"><br>
                                                                        
    </td>
                                                                        
    <td align="Center" height="11" width="200" valign="Top"><a href="http://www.utk.edu/" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image12','','images/utsigon.gif',1)"><img name="Image12" border="0" src="images/utsigoff.gif" width="200" height="11" vspace="0" hspace="0" align="Left" alt="University of Tennessee">
                                                                        
    </a>
                                                                        
    </td>
                                                                        
    <td align="Left" height="0" colspan="2" valign="Top"><br>
                                                                        
    </td>
                                                                        
  </tr>
                                                                        
                                                                        </tbody>
                                                                       
                                                                      </table>
                                                                       </td>
                                                                     </tr>
                                                                   
                                                                  </tbody>
                                                                 
                                                                </table>
                                                                 </td>
                                                               </tr>
                                                               <tr>
                                                                 <td valign="Top"><br>
                                                                 </td>
                                                               </tr>
                                                             
                                                            </tbody>    
                                                      
                                                          </table>
                                                           
                                                          </body>
                                                          </html>

.\" $Id$
.TH PAPI_get_dmem_info 3 "November, 2003" "PAPI Programmer's Reference" "PAPI"

*
* This is a placeholder. It needs a total rewrite.
*

.SH NAME
PAPI_get_memory_info \- get the info about the system memory hardware

.SH SYNOPSIS
.B C Interface
.nf
.B #include <papi.h>
.BI "const PAPI_mem_info_t *PAPI_get_memory_info(void);"
.fi

.SH DESCRIPTION
In C, this function returns a pointer to a structure containing information
about the memory hardware on which the program runs. 

.SH ARGUMENTS
The following arguments are implicit in the structure returned by the C function.
.LP
.I total_tlb_size
--  Total Size of the TLB in KB
.LP
.I itlb_size
--  Instruction TLB size in KB, this will be 0 if instruction and data TLB are 
combined.
.LP
.I itlb_assoc
--  Instruction TLB associtivity. 
.LP
.I dtlb_size
--  Data TLB size in KB, this will be 0 if instruction and data TLB are 
combined.
.LP
.I dtlb_assoc
--  Data TLB associtivity. 
.LP
.I total_L1_size
--  Total size of Level 1 cache in KB
.LP
.I L1_icache_size
-- Total size of Level 1 Instruction cache in KB, this value is 0 if the
instruction and data Level 1 cache are combined.
.LP
.I L1_icache_assoc
-- Level 1 instruction cache associtivity
.LP
.I L1_icache_lines
-- Number of lines in Level 1 instruction cache
.LP
.I L1_icache_linesize
-- Line size in KB of Level 1 instruction cache
.I L1_dcache_size
-- Total size of Level 1 Data cache in KB, this value is 0 if the
instruction and data Level 1 cache are combined.
.LP
.I L1_dcache_assoc
-- Level 1 data cache associtivity
.LP
.I L1_dcache_lines
-- Number of lines in Level 1 data cache
.LP
.I L1_dcache_linesize
-- Line size in KB of Level 1 data cache
.I L2_cache_size
-- Total size of Level 2 cache in KB.
.LP
.I L2_cache_assoc
-- Level 2 cache associtivity
.LP
.I L2_cache_lines
-- Number of lines in Level 2 cache
.LP
.I L2_cache_linesize
-- Line size in KB of Level 2 cache
.I L3_cache_size
-- Total size of Level 3 cache in KB.
.LP
.I L3_cache_assoc
-- Level 3 cache associtivity
.LP
.I L3_cache_lines
-- Number of lines in Level 3 cache
.LP
.I L3_cache_linesize
-- Line size in KB of Level 3 cache

.SH RETURN VALUES
On success, the C function returns a non-NULL pointer.
.B PAPI_OK.
 On error, NULL is returned by the C function.

.SH ERRORS
.TP
.B "PAPI_EINVAL"
One or more of the arguments is invalid.

.SH EXAMPLE
.LP
.nf
.if t .ft CW
const PAPI_mem_info_t  *meminfo = NULL;
	
if (PAPI_library_init(PAPI_VER_CURRENT) != PAPI_VER_CURRENT)
  exit(1);

if ((hwinfo = PAPI_get_memory_info()) == NULL)
  exit(1);

printf("Total L1 cache: %d KB.\n",meminfo->total_L1_size );
.if t .ft P
.fi

.SH AUTHORS
The PAPI Team. See them at the PAPI Web Site: 
http://icl.cs.utk.edu/projects/papi

.SH BUGS
If called before 
.B PAPI_library_init()
the behavior of the routine is undefined.

.SH SEE ALSO
.BR PAPI_library_init "(3), "
.BR PAPI_get_opt "(3), " 
.BR PAPI_get_hardware_info "(3)"

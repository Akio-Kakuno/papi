.\" $Id$
.TH PAPI_set_domain 3 "March, 2001" "" "PAPI"

.SH NAME
PAPI_set_domain \- set the default execution domain for new EventSets

.SH SYNOPSIS
.B #include <papi.h>

.BI "int PAPI_set_domain(int " domain ");"

.SH DESCRIPTION
.B "PAPI_set_domain" sets the default execution domain 
for all new EventSets created by 
.BR "PAPI_create_eventset" (3).
EventSets that are already in existance are not affected. To change the
domain of an existing EventSet, please see the 
.BR "PAPI_set_opt" (3)
man page. The reader should note that the domain of an EventSet affects
only which mode the counter continue to run. Counts are still aggregated
for the current process, and not for any other processes in the system. Thus
when requesting PAPI_DOM_KERNEL, the user is asking for events that occur on
behalf of the process, inside the kernel. 

Here
.I "domain"
is one of the following constants as defined in the papi.h header file.

.nf 
.B "PAPI_DOM_USER"\t\tUser context counted
.B "PAPI_DOM_KERNEL"\tKernel/OS context counted
.B "PAPI_DOM_OTHER"\tException/transiant mode counted
.B "PAPI_DOM_ALL"\t\tAll contexts counted
.fi

.SH RETURN VALUES
On success, this function returns
.I "PAPI_OK."
On error, a non-zero error code is returned.

.SH ERRORS
.TP
.B "PAPI_EINVAL"
One or more of the arguments is invalid.
.TP
.B "PAPI_ENOEVST"
The EventSet specified does not exist.
.TP
.B "PAPI_EISRUN"
The EventSet is currently counting events.

.SH EXAMPLES
.LP
.nf
.if t .ft CW
int retval;

/* Initialize the library */

retval = PAPI_library_init(PAPI_VER_CURRENT);

if (retval > 0) {
  fprintf(stderr,"PAPI library version mismatch!\n");
  exit(1); }

if (retval < 0) 
  handle_error(retval);

if ((retval = PAPI_set_domain(PAPI_DOM_KERNEL)) != PAPI_OK)
  handle_error(retval);

if ((retval = PAPI_create_eventset(&EventSet)) != PAPI_OK)
  handle_error(retval);
.if t .ft P
.fi

.SH AUTHOR
Philip J. Mucci <mucci@cs.utk.edu>

.SH BUGS
This woeful man page.

.SH SEE ALSO
.BR PAPI_set_opt "(3)," 
The\ PAPI\ Web\ Site: 
.B http://icl.cs.utk.edu/projects/papi

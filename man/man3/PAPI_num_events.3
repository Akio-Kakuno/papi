.\" $Id$
.TH PAPI_num_events 3 "November, 2003" "PAPI Programmer's Reference" "PAPI"

.SH NAME
PAPI_num_events \- return the number of events in an event set
.SH SYNOPSIS
.B C Interface
.nf
.B #include <papi.h>
.BI "int PAPI_num_events(int " EventSet ");"
.fi
.B Fortran Interface
.nf
.B #include "fpapi.h"
.BI PAPIF_num_events(C_INT\  EventSet,\  C_INT\  count)
.fi

.SH DESCRIPTION
.LP
.B PAPI_num_events(\|)
returns the number of preset events contained in an event set.

.SH ARGUMENTS
.I EventSet 
--  an integer handle for a PAPI event set as created by
.BR "PAPI_create_eventset" (3)
.LP
.I *count 
-- On output the variable contains the number of events in the
event set.
.LP

.SH RETURN VALUES
On success, this function returns the positive number of events in the event set.
On error, a non-zero error code is returned.

.SH ERRORS
.TP
.B "PAPI_EINVAL"
The event count is zero; only if code is compiled with debug enabled.
.TP
.B "PAPI_ENOEVST"
The EventSet specified does not exist.
.TP

.SH EXAMPLES
.nf
.if t .ft CW
  int EventCode, EventSet = PAPI_NULL;
	
  /* Create an EventSet */

  if (PAPI_create_eventset(&EventSet) != PAPI_OK)
    handle_error(1);

  /* Convert an event name to an event code */

  if (PAPI_event_name_to_code("PAPI_TOT_INS",&EventCode) != PAPI_OK)
    handle_error(1);

  /* Query if Total Instructions Executed exists */

  if (PAPI_query_event(EventCode) != PAPI_OK)
    handle_error(1);

  /* Add Total Instructions Executed to our EventSet */

  if (PAPI_add_event(EventSet, EventCode) != PAPI_OK)
    handle_error(1);

  /* Convert a second event name to an event code */

  if (PAPI_event_name_to_code("PAPI_L1_LDM",&EventCode) != PAPI_OK)
    handle_error(1);

  /* Query if L1 Load Misses exists */

  if (PAPI_query_event(EventCode) != PAPI_OK)
    handle_error(1);

  /* Add L1 Load Misses to our EventSet */

  if (PAPI_add_event(EventSet, EventCode) != PAPI_OK)
    handle_error(1);

  /* Count the events in our EventSet */

  if (PAPI_num_events(EventSet) != 2)
    handle_error(1);
.if t .ft P
.fi

.SH AUTHORS
The PAPI Team. See them at the PAPI Web Site: 
http://icl.cs.utk.edu/projects/papi

.SH BUGS
This function has no known bugs.

.SH SEE ALSO
.BR PAPI_preset "(3), "
.BR PAPI_set_opt "(3), " PAPI_start "(3), " PAPI_rem_event "(3), " 
.BR PAPI_rem_events "(3), " PAPI_query "(3), "
.BR PAPI_cleanup_eventset "(3), " PAPI_destroy_eventset "(3)" 

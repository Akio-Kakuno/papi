<HTML><HEAD>
<TITLE>Manual Page - papi_library_init(3)</TITLE>
<BODY background="fader-orange.gif" bgcolor="#FFFFFF" text="#000000" link="#660000" vlink="#003399" alink="#999933"><A NAME=top></A>
<!-- .\" $Id$ -->
<!-- .TH PAPI_library_init 3 "October, 2000" "PAPI Programmer's Manual" "PAPI" -->
<CENTER>
<H1><HR><I>PAPI Manual Reference Pages &nbsp;-&nbsp;</I><NOBR>PAPI_library_init (3)</NOBR><HR></H1>
</CENTER>
<P>
<!-- .SH NAME -->
<A name=0>

     <H3>NAME</H3>

</A>
<BLOCKQUOTE>
PAPI_library_init - initialize the PAPI library
<P>
<!-- .SH SYNOPSIS -->
</BLOCKQUOTE>
<A name=contents></A><H3>CONTENTS</H3></A>
<BLOCKQUOTE>
<A HREF=#1>Synopsis</A><BR>
<A HREF=#2>Description</A><BR>
<A HREF=#3>Return Values</A><BR>
<A HREF=#4>Errors</A><BR>
<A HREF=#5>Examples</A><BR>
<A HREF=#6>Author</A><BR>
<A HREF=#7>Bugs</A><BR>
<A HREF=#8>See Also</A><BR>
</BLOCKQUOTE>
<A name=9>

     <H3>SYNOPSIS</H3>

</A>
<BLOCKQUOTE>
<!-- .B #include <papi.h> -->
<B>#include &lt;papi.h&gt;</B> <P>
<!-- .BI "int PAPI_library_init(int " version ");" -->
<B>int PAPI_library_init(int </B><I>version</I><B>);</B> <P>
<!-- .SH DESCRIPTION -->
</BLOCKQUOTE>
<A name=2>

     <H3>DESCRIPTION</H3>

</A>
<BLOCKQUOTE>
<!-- .B "PAPI_library_init()" -->
<B>PAPI_library_init()</B> initializes the PAPI library. It must be called
before any PAPI functions can be used. If your application
is making use of threads
<!-- .BR "PAPI_thread_init" (3) -->
<A HREF="papi_thread_init.html">PAPI_thread_init (3)</A>
must also be called prior to making any calls to the library other
than
<!-- .BR PAPI_library_init() . -->
<B>PAPI_library_init()</B>. <P>
<!-- .I "version" -->
<I>version</I> -- upon initialization, PAPI checks the argument against the internal value of
<!-- .I "PAPI_VER_CURRENT" -->
<I>PAPI_VER_CURRENT</I> when the library was compiled. This guards against portability
problems when updating the PAPI shared libraries on your system.
<P>
<!-- .SH RETURN VALUES -->
</BLOCKQUOTE>
<A name=3>

     <H3>RETURN VALUES</H3>

</A>
<BLOCKQUOTE>
On success, this function returns
<!-- .IR "PAPI_VER_CURRENT" . -->
<I>PAPI_VER_CURRENT</I>. <!-- .LP -->
<P>
A positive return code other than
<!-- .I PAPI_VER_CURRENT  -->
<I>PAPI_VER_CURRENT</I> indicates a library version mis-match.
<!-- .LP -->
<P>
A negative error code indicates an initialisation error.
<P>
<!-- .SH ERRORS -->
</BLOCKQUOTE>
<A name=4>

     <H3>ERRORS</H3>

</A>
<BLOCKQUOTE>
<!-- .TP -->
<TABLE cellpadding=3>
<TR valign=top><TD colspan=2>
<!-- .B "PAPI_EINVAL" -->
<B>PAPI_EINVAL</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
<!-- .I "papi.h" -->
<I>papi.h</I> is different from the version used to
compile the PAPI library.
<!-- .TP -->
</TD></TR>
<TR valign=top><TD colspan=2>
<!-- .B "PAPI_ENOMEM" -->
<B>PAPI_ENOMEM</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
Insufficient memory to complete the operation.
<!-- .TP -->
</TD></TR>
<TR valign=top><TD colspan=2>
<!-- .B "PAPI_ESBSTR" -->
<B>PAPI_ESBSTR</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
This substrate does not support the underlying hardware.
<!-- .TP -->
</TD></TR>
<TR valign=top><TD colspan=2>
<!-- .B "PAPI_ESYS" -->
<B>PAPI_ESYS</B> </TD></TR><TR valign=top><TD width=6%>&nbsp;</TD><TD>
A system or C library call failed inside PAPI, see the
<!-- .I "errno" -->
<I>errno</I> variable.
<P>
<!-- .SH EXAMPLES -->
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=5>

     <H3>EXAMPLES</H3>

</A>
<BLOCKQUOTE>
<!-- .LP -->
<P>
<!-- .nf -->
<PRE>
<!-- .if t .ft CW -->
<TT>int retval;
<P>
/* Initialize the library */
<P>
retval = PAPI_library_init(PAPI_VER_CURRENT);
<P>
if (retval != PAPI_VER_CURRENT && retval &gt; 0) {
  fprintf(stderr,"PAPI library version mismatch!&#92;n");
  exit(1); }
<P>
if (retval &lt; 0)
  handle_error(retval);
<!-- .if t .ft P -->
</TT><!-- .fi -->
</PRE>
<P>
<!-- .SH AUTHOR -->
</BLOCKQUOTE>
<A name=6>

     <H3>AUTHOR</H3>

</A>
<BLOCKQUOTE>
Philip J. Mucci &lt;<A HREF="mailto:mucci@cs.utk.edu">mucci@cs.utk.edu</A>&gt;
<P>
<!-- .SH BUGS -->
</BLOCKQUOTE>
<A name=7>

     <H3>BUGS</H3>

</A>
<BLOCKQUOTE>
If you don&#146;t call this before using any of the low level PAPI calls,
you&#146;re application could core dump.
<P>
<!-- .SH SEE ALSO -->
</BLOCKQUOTE>
<A name=8>

     <H3>SEE ALSO</H3>

</A>
<BLOCKQUOTE>
<!-- .BR PAPI_thread_init "(3)," -->
<A HREF="papi_thread_init.html">PAPI_thread_init (3)</A>,
<!-- .BR PAPI_preset "(3)," -->
<A HREF="papi_preset.html">PAPI_preset (3)</A>,
<!-- .BR PAPI_low_level "(3)," -->
<A HREF="papi_low_level.html">PAPI_low_level (3)</A>,
<!-- .BR PAPI_high_level "(3)," -->
<A HREF="papi_high_level.html">PAPI_high_level (3)</A>,
<!-- .BR PAPI "(3)," -->
<A HREF="papi.html">PAPI (3)</A>,
The PAPI Web Site:
<!-- .B http://icl.cs.utk.edu/projects/papi -->
<B><A HREF="http://icl.cs.utk.edu/projects/papi">http://icl.cs.utk.edu/projects/papi</A></B> <P>
</BLOCKQUOTE>
<P><HR>
<TABLE width=100%><TR> <TD width=33%><I>PAPI Programmer&#146;s Manual</I></TD> <TD width=33% align=center>PAPI_library_init (3)</TD> <TD align=right width=33%><I>October, 2000</I></TD> </TR></TABLE>
<FONT SIZE=-1>Generated on Thursday, 21 Jun 2001 21:10:55 by a derivative of <A HREF="http://www.squarebox.co.uk/download/manServer.shtml">manServer</A> 1.06 from man3/papi_library_init.3 using man macros.
<ADDRESS> Copyright &copy 2001 <a href='http://icl.cs.utk.edu/'>Innovative Computing Laboratory</a>.</ADDRESS>
</FONT>
</BODY></HTML>
